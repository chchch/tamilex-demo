import{r as p,i as Jn,_ as zo,a as Uo,b as Db,c as rc,g as $r,d as Ho,e as pn,f as H,h as jr,j as xb,T as pe,w as xe,k as Ln,n as gn,s as Qn,l as Nb,m as Lb,o as Mb,p as $b,q as jb,t as Wr,u as Mn,v as Wb,x as Fb,y as Bb,z as zb,A as nt,B as Qe,C as lt,D as ct,E as dt,M as fr,F as $t,L as Fr,G as ja,H as pr,I as Ub,J as Hb,K as ac,N as Vb,O as ic,P as Gb,Q as oc,R as qb,S as Kb,U as Zb,V as Yb,W as Xb,X as Jb,Y as sc,Z as Wa,$ as Vo,a0 as Br,a1 as zr,a2 as Ur,a3 as Go,a4 as Qb,a5 as ey,a6 as uc,a7 as Hr,a8 as ty,a9 as gr,aa as ny,ab as Fa,ac as ry,ad as ay,ae as iy,af as oy,ag as sy,ah as lc,ai as uy,aj as cc,ak as ly,al as Vr,am as cy,an as vr,ao as dc,ap as dy,aq as fy,ar as py,as as qo,at as Ko,au as fc,av as gy,aw as pc,ax as Zo,ay as Sn,az as On,aA as En,aB as Gr,aC as vy,aD as hy,aE as my,aF as by,aG as yy,aH as wy,aI as Iy,aJ as Sy,aK as Yo,aL as Oy,aM as Ba,aN as za,aO as Ey,aP as T,aQ as gc,aR as Cy,aS as Ty,aT as Py,aU as vc,aV as _y,aW as Ry,aX as Ay,aY as ky,aZ as Ua,a_ as Xo,a$ as hc,b0 as Dy,b1 as qt,b2 as xy,b3 as Ny,b4 as Ly,b5 as My,b6 as $y,b7 as jy,b8 as Wy,b9 as mc,ba as Fy,bb as By,bc as zy}from"./CloseSharp-60c80ded.js";import{u as Uy,c as Hy,R as Vy,_ as Gy,a as qy,I as Ky,b as Cn,d as Pe,w as je,e as Ae,f as Le,g as $n,C as Zy,P as bc,M as er,h as yc,t as Yy,i as Jo,j as Ha,k as Xy,l as wc,m as Jy,n as Qy,s as qr,o as jn,F as Ic,S as Sc,B as hr,L as Kr,p as Qo,q as ew,r as tw,v as nw,x as rw,y as aw,T as iw,z as es,A as Oc,D as ow,E as Ec,G as sw,H as Cc,J as Tc,K as ts,N as uw,O as lw,Q as ns,U as Pc,V as Va,W as _c,X as cw,Y as dw,Z as rs,$ as fw,a0 as Rc,a1 as pw,a2 as Ac,a3 as as,a4 as kc,a5 as gw,a6 as vw,a7 as hw,a8 as mw,a9 as bw,aa as yw,ab as Ga,ac as Zr,ad as qa,ae as ww,af as Iw,ag as Dc,ah as Sw,ai as xc,aj as Ow,ak as Ew,al as is,am as Nc,an as Cw,ao as Tw,ap as Pw,aq as _w,ar as Rw,as as Lc,at as F,au as os,av as ss,aw as Mc,ax as Aw,ay as kw,az as Dw,aA as xw,aB as Nw,aC as Lw,aD as Mw,aE as $c,aF as $w,aG as jw,aH as Ww,aI as Fw,aJ as Bw,aK as zw,aL as Uw,aM as jc,aN as Hw,aO as Wc,aP as Fc,aQ as Vw,aR as Bc,aS as Gw,aT as qw,aU as Kw}from"./index-8c8278a9.js";import{c as Zw,_ as zc}from"./_flatRest-72e938a0.js";function Uc(t){var e=t.store,n=t.context,r=t.children,a=p.useMemo(function(){var s=Hy(e);return s.onStateChange=s.notifyNestedSubs,{store:e,subscription:s}},[e]),i=p.useMemo(function(){return e.getState()},[e]);Uy(function(){var s=a.subscription;return s.trySubscribe(),i!==e.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=n||Vy;return p.createElement(o.Provider,{value:a},r)}function Yw(t,e,n,r){if(!Jn(t))return t;e=zo(e,t);for(var a=-1,i=e.length,o=i-1,s=t;s!=null&&++a<i;){var u=Uo(e[a]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=o){var c=s[u];l=r?r(c,u,s):void 0,l===void 0&&(l=Jn(c)?c:Db(e[a+1])?[]:{})}Gy(s,u,l),s=s[u]}return t}var us=Yw;function Xw(t,e,n,r){return us(t,e,n(rc(t,e)),r)}var Jw=Xw;function Qw(t,e,n){return t==null?t:Jw(t,e,qy(n))}var Hc=Qw;function eI(t){var e=t.i18n,n=t.defaultNS,r=t.children,a=p.useMemo(function(){return{i18n:e,defaultNS:n}},[e,n]);return p.createElement(Ky.Provider,{value:a},r)}var tI=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},nI=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aI=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Vc=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},iI=function(){function t(e,n){var r=[],a=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done)&&(r.push(u.value),!(n&&r.length===n));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kt=void 0;typeof window!="undefined"?Kt=window:typeof self!="undefined"?Kt=self:Kt=$r;var ls=null,cs=null,Gc=20,ds=Kt.clearTimeout,qc=Kt.setTimeout,fs=Kt.cancelAnimationFrame||Kt.mozCancelAnimationFrame||Kt.webkitCancelAnimationFrame,Kc=Kt.requestAnimationFrame||Kt.mozRequestAnimationFrame||Kt.webkitRequestAnimationFrame;fs==null||Kc==null?(ls=ds,cs=function(e){return qc(e,Gc)}):(ls=function(e){var n=iI(e,2),r=n[0],a=n[1];fs(r),ds(a)},cs=function(e){var n=Kc(function(){ds(r),e()}),r=qc(function(){fs(n),e()},Gc);return[n,r]});function oI(t){var e=void 0,n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=void 0,u=typeof document!="undefined"&&document.attachEvent;if(!u){o=function(y){var E=y.__resizeTriggers__,S=E.firstElementChild,C=E.lastElementChild,k=S.firstElementChild;C.scrollLeft=C.scrollWidth,C.scrollTop=C.scrollHeight,k.style.width=S.offsetWidth+1+"px",k.style.height=S.offsetHeight+1+"px",S.scrollLeft=S.scrollWidth,S.scrollTop=S.scrollHeight},i=function(y){return y.offsetWidth!==y.__resizeLast__.width||y.offsetHeight!==y.__resizeLast__.height},s=function(y){if(!(y.target.className&&typeof y.target.className.indexOf=="function"&&y.target.className.indexOf("contract-trigger")<0&&y.target.className.indexOf("expand-trigger")<0)){var E=this;o(this),this.__resizeRAF__&&ls(this.__resizeRAF__),this.__resizeRAF__=cs(function(){i(E)&&(E.__resizeLast__.width=E.offsetWidth,E.__resizeLast__.height=E.offsetHeight,E.__resizeListeners__.forEach(function(k){k.call(E,y)}))})}};var l=!1,c="";r="animationstart";var d="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{var v=document.createElement("fakeelement");if(v.style.animationName!==void 0&&(l=!0),l===!1){for(var m=0;m<d.length;m++)if(v.style[d[m]+"AnimationName"]!==void 0){g=d[m],c="-"+g.toLowerCase()+"-",r=f[m],l=!0;break}}}n="resizeanim",e="@"+c+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",a=c+"animation: 1ms "+n+"; "}var b=function(y){if(!y.getElementById("detectElementResize")){var E=(e||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',S=y.head||y.getElementsByTagName("head")[0],C=y.createElement("style");C.id="detectElementResize",C.type="text/css",t!=null&&C.setAttribute("nonce",t),C.styleSheet?C.styleSheet.cssText=E:C.appendChild(y.createTextNode(E)),S.appendChild(C)}},w=function(y,E){if(u)y.attachEvent("onresize",E);else{if(!y.__resizeTriggers__){var S=y.ownerDocument,C=Kt.getComputedStyle(y);C&&C.position==="static"&&(y.style.position="relative"),b(S),y.__resizeLast__={},y.__resizeListeners__=[],(y.__resizeTriggers__=S.createElement("div")).className="resize-triggers";var k=S.createElement("div");k.className="expand-trigger",k.appendChild(S.createElement("div"));var L=S.createElement("div");L.className="contract-trigger",y.__resizeTriggers__.appendChild(k),y.__resizeTriggers__.appendChild(L),y.appendChild(y.__resizeTriggers__),o(y),y.addEventListener("scroll",s,!0),r&&(y.__resizeTriggers__.__animationListener__=function(ae){ae.animationName===n&&o(y)},y.__resizeTriggers__.addEventListener(r,y.__resizeTriggers__.__animationListener__))}y.__resizeListeners__.push(E)}},h=function(y,E){if(u)y.detachEvent("onresize",E);else if(y.__resizeListeners__.splice(y.__resizeListeners__.indexOf(E),1),!y.__resizeListeners__.length){y.removeEventListener("scroll",s,!0),y.__resizeTriggers__.__animationListener__&&(y.__resizeTriggers__.removeEventListener(r,y.__resizeTriggers__.__animationListener__),y.__resizeTriggers__.__animationListener__=null);try{y.__resizeTriggers__=!y.removeChild(y.__resizeTriggers__)}catch(S){}}};return{addResizeListener:w,removeResizeListener:h}}var Zc=function(t){aI(e,t);function e(){var n,r,a,i;tI(this,e);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return i=(r=(a=Vc(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),a),a.state={height:a.props.defaultHeight||0,width:a.props.defaultWidth||0},a._onResize=function(){var l=a.props,c=l.disableHeight,d=l.disableWidth,f=l.onResize;if(a._parentNode){var g=a._parentNode.offsetHeight||0,v=a._parentNode.offsetWidth||0,m=window.getComputedStyle(a._parentNode)||{},b=parseInt(m.paddingLeft,10)||0,w=parseInt(m.paddingRight,10)||0,h=parseInt(m.paddingTop,10)||0,I=parseInt(m.paddingBottom,10)||0,y=g-h-I,E=v-b-w;(!c&&a.state.height!==y||!d&&a.state.width!==E)&&(a.setState({height:g-h-I,width:v-b-w}),f({height:g,width:v}))}},a._setRef=function(l){a._autoSizer=l},r),Vc(a,i)}return nI(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=oI(r),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,a=r.children,i=r.className,o=r.disableHeight,s=r.disableWidth,u=r.style,l=this.state,c=l.height,d=l.width,f={overflow:"visible"},g={},v=!1;return o||(c===0&&(v=!0),f.height=0,g.height=c),s||(d===0&&(v=!0),f.width=0,g.width=d),p.createElement("div",{className:i,ref:this._setRef,style:rI({},f,u)},!v&&a(g))}}]),e}(p.PureComponent);Zc.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Yc=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sI(t,e){return!!(t===e||Yc(t)&&Yc(e))}function uI(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!sI(t[n],e[n]))return!1;return!0}function rt(t,e){e===void 0&&(e=uI);var n,r=[],a,i=!1;function o(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return i&&n===this&&e(s,r)||(a=t.apply(this,s),i=!0,n=this,r=s),a}return o}var lI=typeof performance=="object"&&typeof performance.now=="function",Xc=lI?function(){return performance.now()}:function(){return Date.now()};function Jc(t){cancelAnimationFrame(t.id)}function cI(t,e){var n=Xc();function r(){Xc()-n>=e?t.call(null):a.id=requestAnimationFrame(r)}var a={id:requestAnimationFrame(r)};return a}var mr=null;function Qc(t){if(t===void 0&&(t=!1),mr===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?mr="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?mr="negative":mr="positive-ascending"),document.body.removeChild(e),mr}return mr}var dI=150,fI=function(e,n){return e};function pI(t){var e,n,r=t.getItemOffset,a=t.getEstimatedTotalSize,i=t.getItemSize,o=t.getOffsetForIndexAndAlignment,s=t.getStartIndexForOffset,u=t.getStopIndexForStartIndex,l=t.initInstanceProps,c=t.shouldResetStyleCacheOnItemSizeChange,d=t.validateProps;return n=e=function(f){Ho(g,f);function g(m){var b;return b=f.call(this,m)||this,b._instanceProps=l(b.props,pn(pn(b))),b._outerRef=void 0,b._resetIsScrollingTimeoutId=null,b.state={instance:pn(pn(b)),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof b.props.initialScrollOffset=="number"?b.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},b._callOnItemsRendered=void 0,b._callOnItemsRendered=rt(function(w,h,I,y){return b.props.onItemsRendered({overscanStartIndex:w,overscanStopIndex:h,visibleStartIndex:I,visibleStopIndex:y})}),b._callOnScroll=void 0,b._callOnScroll=rt(function(w,h,I){return b.props.onScroll({scrollDirection:w,scrollOffset:h,scrollUpdateWasRequested:I})}),b._getItemStyle=void 0,b._getItemStyle=function(w){var h=b.props,I=h.direction,y=h.itemSize,E=h.layout,S=b._getItemStyleCache(c&&y,c&&E,c&&I),C;if(S.hasOwnProperty(w))C=S[w];else{var k=r(b.props,w,b._instanceProps),L=i(b.props,w,b._instanceProps),V=I==="horizontal"||E==="horizontal",ae=I==="rtl",he=V?k:0;S[w]=C={position:"absolute",left:ae?void 0:he,right:ae?he:void 0,top:V?0:k,height:V?"100%":L,width:V?L:"100%"}}return C},b._getItemStyleCache=void 0,b._getItemStyleCache=rt(function(w,h,I){return{}}),b._onScrollHorizontal=function(w){var h=w.currentTarget,I=h.clientWidth,y=h.scrollLeft,E=h.scrollWidth;b.setState(function(S){if(S.scrollOffset===y)return null;var C=b.props.direction,k=y;if(C==="rtl")switch(Qc()){case"negative":k=-y;break;case"positive-descending":k=E-I-y;break}return k=Math.max(0,Math.min(k,E-I)),{isScrolling:!0,scrollDirection:S.scrollOffset<y?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},b._resetIsScrollingDebounced)},b._onScrollVertical=function(w){var h=w.currentTarget,I=h.clientHeight,y=h.scrollHeight,E=h.scrollTop;b.setState(function(S){if(S.scrollOffset===E)return null;var C=Math.max(0,Math.min(E,y-I));return{isScrolling:!0,scrollDirection:S.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},b._resetIsScrollingDebounced)},b._outerRefSetter=function(w){var h=b.props.outerRef;b._outerRef=w,typeof h=="function"?h(w):h!=null&&typeof h=="object"&&h.hasOwnProperty("current")&&(h.current=w)},b._resetIsScrollingDebounced=function(){b._resetIsScrollingTimeoutId!==null&&Jc(b._resetIsScrollingTimeoutId),b._resetIsScrollingTimeoutId=cI(b._resetIsScrolling,dI)},b._resetIsScrolling=function(){b._resetIsScrollingTimeoutId=null,b.setState({isScrolling:!1},function(){b._getItemStyleCache(-1,null)})},b}g.getDerivedStateFromProps=function(b,w){return gI(b,w),d(b),null};var v=g.prototype;return v.scrollTo=function(b){b=Math.max(0,b),this.setState(function(w){return w.scrollOffset===b?null:{scrollDirection:w.scrollOffset<b?"forward":"backward",scrollOffset:b,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},v.scrollToItem=function(b,w){w===void 0&&(w="auto");var h=this.props.itemCount,I=this.state.scrollOffset;b=Math.max(0,Math.min(b,h-1)),this.scrollTo(o(this.props,b,w,I,this._instanceProps))},v.componentDidMount=function(){var b=this.props,w=b.direction,h=b.initialScrollOffset,I=b.layout;if(typeof h=="number"&&this._outerRef!=null){var y=this._outerRef;w==="horizontal"||I==="horizontal"?y.scrollLeft=h:y.scrollTop=h}this._callPropsCallbacks()},v.componentDidUpdate=function(){var b=this.props,w=b.direction,h=b.layout,I=this.state,y=I.scrollOffset,E=I.scrollUpdateWasRequested;if(E&&this._outerRef!=null){var S=this._outerRef;if(w==="horizontal"||h==="horizontal")if(w==="rtl")switch(Qc()){case"negative":S.scrollLeft=-y;break;case"positive-ascending":S.scrollLeft=y;break;default:var C=S.clientWidth,k=S.scrollWidth;S.scrollLeft=k-C-y;break}else S.scrollLeft=y;else S.scrollTop=y}this._callPropsCallbacks()},v.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Jc(this._resetIsScrollingTimeoutId)},v.render=function(){var b=this.props,w=b.children,h=b.className,I=b.direction,y=b.height,E=b.innerRef,S=b.innerElementType,C=b.innerTagName,k=b.itemCount,L=b.itemData,V=b.itemKey,ae=V===void 0?fI:V,he=b.layout,X=b.outerElementType,me=b.outerTagName,le=b.style,Ge=b.useIsScrolling,et=b.width,we=this.state.isScrolling,ke=I==="horizontal"||he==="horizontal",qe=ke?this._onScrollHorizontal:this._onScrollVertical,oe=this._getRangeToRender(),ue=oe[0],J=oe[1],Oe=[];if(k>0)for(var R=ue;R<=J;R++)Oe.push(p.createElement(w,{data:L,key:ae(R,L),index:R,isScrolling:Ge?we:void 0,style:this._getItemStyle(R)}));var A=a(this.props,this._instanceProps);return p.createElement(X||me||"div",{className:h,onScroll:qe,ref:this._outerRefSetter,style:H({position:"relative",height:y,width:et,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},le)},p.createElement(S||C||"div",{children:Oe,ref:E,style:{height:ke?"100%":A,pointerEvents:we?"none":void 0,width:ke?A:"100%"}}))},v._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var b=this.props.itemCount;if(b>0){var w=this._getRangeToRender(),h=w[0],I=w[1],y=w[2],E=w[3];this._callOnItemsRendered(h,I,y,E)}}if(typeof this.props.onScroll=="function"){var S=this.state,C=S.scrollDirection,k=S.scrollOffset,L=S.scrollUpdateWasRequested;this._callOnScroll(C,k,L)}},v._getRangeToRender=function(){var b=this.props,w=b.itemCount,h=b.overscanCount,I=this.state,y=I.isScrolling,E=I.scrollDirection,S=I.scrollOffset;if(w===0)return[0,0,0,0];var C=s(this.props,S,this._instanceProps),k=u(this.props,C,S,this._instanceProps),L=!y||E==="backward"?Math.max(1,h):1,V=!y||E==="forward"?Math.max(1,h):1;return[Math.max(0,C-L),Math.max(0,Math.min(w-1,k+V)),C,k]},g}(p.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var gI=function(e,n){var r=e.children,a=e.direction,i=e.height,o=e.layout,s=e.innerTagName,u=e.outerTagName,l=e.width,c=n.instance},vI=50,br=function(e,n,r){var a=e,i=a.itemSize,o=r.itemMetadataMap,s=r.lastMeasuredIndex;if(n>s){var u=0;if(s>=0){var l=o[s];u=l.offset+l.size}for(var c=s+1;c<=n;c++){var d=i(c);o[c]={offset:u,size:d},u+=d}r.lastMeasuredIndex=n}return o[n]},hI=function(e,n,r){var a=n.itemMetadataMap,i=n.lastMeasuredIndex,o=i>0?a[i].offset:0;return o>=r?ed(e,n,i,0,r):mI(e,n,Math.max(0,i),r)},ed=function(e,n,r,a,i){for(;a<=r;){var o=a+Math.floor((r-a)/2),s=br(e,o,n).offset;if(s===i)return o;s<i?a=o+1:s>i&&(r=o-1)}return a>0?a-1:0},mI=function(e,n,r,a){for(var i=e.itemCount,o=1;r<i&&br(e,r,n).offset<a;)r+=o,o*=2;return ed(e,n,Math.min(r,i-1),Math.floor(r/2),a)},td=function(e,n){var r=e.itemCount,a=n.itemMetadataMap,i=n.estimatedItemSize,o=n.lastMeasuredIndex,s=0;if(o>=r&&(o=r-1),o>=0){var u=a[o];s=u.offset+u.size}var l=r-o-1,c=l*i;return s+c},bI=pI({getItemOffset:function(e,n,r){return br(e,n,r).offset},getItemSize:function(e,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:td,getOffsetForIndexAndAlignment:function(e,n,r,a,i){var o=e.direction,s=e.height,u=e.layout,l=e.width,c=o==="horizontal"||u==="horizontal",d=c?l:s,f=br(e,n,i),g=td(e,i),v=Math.max(0,Math.min(g-d,f.offset)),m=Math.max(0,f.offset-d+f.size);switch(r==="smart"&&(a>=m-d&&a<=v+d?r="auto":r="center"),r){case"start":return v;case"end":return m;case"center":return Math.round(m+(v-m)/2);case"auto":default:return a>=m&&a<=v?a:a<m?m:v}},getStartIndexForOffset:function(e,n,r){return hI(e,r,n)},getStopIndexForStartIndex:function(e,n,r,a){for(var i=e.direction,o=e.height,s=e.itemCount,u=e.layout,l=e.width,c=i==="horizontal"||u==="horizontal",d=c?l:o,f=br(e,n,a),g=r+d,v=f.offset+f.size,m=n;m<s-1&&v<g;)m++,v+=br(e,m,a).size;return m},initInstanceProps:function(e,n){var r=e,a=r.estimatedItemSize,i={itemMetadataMap:{},estimatedItemSize:a||vI,lastMeasuredIndex:-1};return n.resetAfterIndex=function(o,s){s===void 0&&(s=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,o-1),n._getItemStyleCache(-1),s&&n.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){var n=e.itemSize}});(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var t=window.document,e=[],n=null,r=null;function a(h){this.time=h.time,this.target=h.target,this.rootBounds=g(h.rootBounds),this.boundingClientRect=g(h.boundingClientRect),this.intersectionRect=g(h.intersectionRect||f()),this.isIntersecting=!!h.intersectionRect;var I=this.boundingClientRect,y=I.width*I.height,E=this.intersectionRect,S=E.width*E.height;y?this.intersectionRatio=Number((S/y).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function i(h,I){var y=I||{};if(typeof h!="function")throw new Error("callback must be a function");if(y.root&&y.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=s(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=h,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(y.rootMargin),this.thresholds=this._initThresholds(y.threshold),this.root=y.root||null,this.rootMargin=this._rootMarginValues.map(function(E){return E.value+E.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i._setupCrossOriginUpdater=function(){return n||(n=function(h,I){!h||!I?r=f():r=v(h,I),e.forEach(function(y){y._checkForIntersections()})}),n},i._resetCrossOriginUpdater=function(){n=null,r=null},i.prototype.observe=function(h){var I=this._observationTargets.some(function(y){return y.element==h});if(!I){if(!(h&&h.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:h,entry:null}),this._monitorIntersections(h.ownerDocument),this._checkForIntersections()}},i.prototype.unobserve=function(h){this._observationTargets=this._observationTargets.filter(function(I){return I.element!=h}),this._unmonitorIntersections(h.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var h=this._queuedEntries.slice();return this._queuedEntries=[],h},i.prototype._initThresholds=function(h){var I=h||[0];return Array.isArray(I)||(I=[I]),I.sort().filter(function(y,E,S){if(typeof y!="number"||isNaN(y)||y<0||y>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return y!==S[E-1]})},i.prototype._parseRootMargin=function(h){var I=h||"0px",y=I.split(/\s+/).map(function(E){var S=/^(-?\d*\.?\d+)(px|%)$/.exec(E);if(!S)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(S[1]),unit:S[2]}});return y[1]=y[1]||y[0],y[2]=y[2]||y[0],y[3]=y[3]||y[1],y},i.prototype._monitorIntersections=function(h){var I=h.defaultView;if(!!I&&this._monitoringDocuments.indexOf(h)==-1){var y=this._checkForIntersections,E=null,S=null;if(this.POLL_INTERVAL?E=I.setInterval(y,this.POLL_INTERVAL):(u(I,"resize",y,!0),u(h,"scroll",y,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in I&&(S=new I.MutationObserver(y),S.observe(h,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(h),this._monitoringUnsubscribes.push(function(){var k=h.defaultView;k&&(E&&k.clearInterval(E),l(k,"resize",y,!0)),l(h,"scroll",y,!0),S&&S.disconnect()}),h!=(this.root&&this.root.ownerDocument||t)){var C=w(h);C&&this._monitorIntersections(C.ownerDocument)}}},i.prototype._unmonitorIntersections=function(h){var I=this._monitoringDocuments.indexOf(h);if(I!=-1){var y=this.root&&this.root.ownerDocument||t,E=this._observationTargets.some(function(k){var L=k.element.ownerDocument;if(L==h)return!0;for(;L&&L!=y;){var V=w(L);if(L=V&&V.ownerDocument,L==h)return!0}return!1});if(!E){var S=this._monitoringUnsubscribes[I];if(this._monitoringDocuments.splice(I,1),this._monitoringUnsubscribes.splice(I,1),S(),h!=y){var C=w(h);C&&this._unmonitorIntersections(C.ownerDocument)}}}},i.prototype._unmonitorAllIntersections=function(){var h=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var I=0;I<h.length;I++)h[I]()},i.prototype._checkForIntersections=function(){if(!(!this.root&&n&&!r)){var h=this._rootIsInDom(),I=h?this._getRootRect():f();this._observationTargets.forEach(function(y){var E=y.element,S=d(E),C=this._rootContainsTarget(E),k=y.entry,L=h&&C&&this._computeTargetAndRootIntersection(E,S,I),V=y.entry=new a({time:o(),target:E,boundingClientRect:S,rootBounds:n&&!this.root?null:I,intersectionRect:L});k?h&&C?this._hasCrossedThreshold(k,V)&&this._queuedEntries.push(V):k&&k.isIntersecting&&this._queuedEntries.push(V):this._queuedEntries.push(V)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},i.prototype._computeTargetAndRootIntersection=function(h,I,y){if(window.getComputedStyle(h).display!="none"){for(var E=I,S=b(h),C=!1;!C&&S;){var k=null,L=S.nodeType==1?window.getComputedStyle(S):{};if(L.display=="none")return null;if(S==this.root||S.nodeType==9)if(C=!0,S==this.root||S==t)n&&!this.root?!r||r.width==0&&r.height==0?(S=null,k=null,E=null):k=r:k=y;else{var V=b(S),ae=V&&d(V),he=V&&this._computeTargetAndRootIntersection(V,ae,y);ae&&he?(S=V,k=v(ae,he)):(S=null,E=null)}else{var X=S.ownerDocument;S!=X.body&&S!=X.documentElement&&L.overflow!="visible"&&(k=d(S))}if(k&&(E=c(k,E)),!E)break;S=S&&b(S)}return E}},i.prototype._getRootRect=function(){var h;if(this.root)h=d(this.root);else{var I=t.documentElement,y=t.body;h={top:0,left:0,right:I.clientWidth||y.clientWidth,width:I.clientWidth||y.clientWidth,bottom:I.clientHeight||y.clientHeight,height:I.clientHeight||y.clientHeight}}return this._expandRectByRootMargin(h)},i.prototype._expandRectByRootMargin=function(h){var I=this._rootMarginValues.map(function(E,S){return E.unit=="px"?E.value:E.value*(S%2?h.width:h.height)/100}),y={top:h.top-I[0],right:h.right+I[1],bottom:h.bottom+I[2],left:h.left-I[3]};return y.width=y.right-y.left,y.height=y.bottom-y.top,y},i.prototype._hasCrossedThreshold=function(h,I){var y=h&&h.isIntersecting?h.intersectionRatio||0:-1,E=I.isIntersecting?I.intersectionRatio||0:-1;if(y!==E)for(var S=0;S<this.thresholds.length;S++){var C=this.thresholds[S];if(C==y||C==E||C<y!=C<E)return!0}},i.prototype._rootIsInDom=function(){return!this.root||m(t,this.root)},i.prototype._rootContainsTarget=function(h){return m(this.root||t,h)&&(!this.root||this.root.ownerDocument==h.ownerDocument)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var h=e.indexOf(this);h!=-1&&e.splice(h,1)};function o(){return window.performance&&performance.now&&performance.now()}function s(h,I){var y=null;return function(){y||(y=setTimeout(function(){h(),y=null},I))}}function u(h,I,y,E){typeof h.addEventListener=="function"?h.addEventListener(I,y,E||!1):typeof h.attachEvent=="function"&&h.attachEvent("on"+I,y)}function l(h,I,y,E){typeof h.removeEventListener=="function"?h.removeEventListener(I,y,E||!1):typeof h.detatchEvent=="function"&&h.detatchEvent("on"+I,y)}function c(h,I){var y=Math.max(h.top,I.top),E=Math.min(h.bottom,I.bottom),S=Math.max(h.left,I.left),C=Math.min(h.right,I.right),k=C-S,L=E-y;return k>=0&&L>=0&&{top:y,bottom:E,left:S,right:C,width:k,height:L}||null}function d(h){var I;try{I=h.getBoundingClientRect()}catch(y){}return I?(I.width&&I.height||(I={top:I.top,right:I.right,bottom:I.bottom,left:I.left,width:I.right-I.left,height:I.bottom-I.top}),I):f()}function f(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function g(h){return!h||"x"in h?h:{top:h.top,y:h.top,bottom:h.bottom,left:h.left,x:h.left,right:h.right,width:h.width,height:h.height}}function v(h,I){var y=I.top-h.top,E=I.left-h.left;return{top:y,left:E,height:I.height,width:I.width,bottom:y+I.height,right:E+I.width}}function m(h,I){for(var y=I;y;){if(y==h)return!0;y=b(y)}return!1}function b(h){var I=h.parentNode;return h.nodeType==9&&h!=t?w(h):I&&I.nodeType==11&&I.host?I.host:I&&I.assignedSlot?I.assignedSlot.parentNode:I}function w(h){try{return h.defaultView&&h.defaultView.frameElement||null}catch(I){return null}}window.IntersectionObserver=i,window.IntersectionObserverEntry=a})();var ps,yI=/^-?\d*\.?\d+(px|%)$/;function wI(t){var e=t?t.trim():"0px",n=e.split(/\s+/).map(function(c){if(!yI.test(c))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return c}),r=n.shift(),a=n[0],i=a===void 0?r:a,o=n[1],s=o===void 0?r:o,u=n[2],l=u===void 0?i:u;return r+" "+i+" "+s+" "+l}function gs(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length?t.some(function(n,r){return gs(t[r],e[r])}):t!==e}var nd=(ps=Object.prototype,ps.hasOwnProperty),II=ps.toString;function SI(t){return t&&nd.call(t,"ref")}var Tn=new Map;function OI(t){t===void 0&&(t={});for(var e=t.root||null,n=wI(t.rootMargin),r=Array.isArray(t.threshold)?t.threshold:[t.threshold!=null?t.threshold:0],a=Tn.keys(),i;i=a.next().value;){var o=e!==i.root||n!==i.rootMargin||gs(r,i.thresholds);if(!o)return i}return null}function EI(t,e){var n=Tn.get(t);if(n){for(var r=n.values(),a=void 0;a=r.next().value;)if(a.target===e.target)return a}return null}function CI(t,e){for(var n=0;n<t.length;n++){var r=EI(e,t[n]);r&&r.handleChange(t[n])}}function TI(t){var e=OI(t);if(e)return e;var n=new IntersectionObserver(CI,t);return Tn.set(n,new Set),n}function PI(t){var e;t.observer&&!Tn.has(t.observer)&&Tn.set(t.observer,new Set),(e=Tn.get(t.observer))===null||e===void 0||e.add(t),t.observer.observe(t.target)}function _I(t,e){if(Tn.has(t.observer)){var n=Tn.get(t.observer);(n==null?void 0:n.delete(t))&&(n.size>0?t.observer.unobserve(e):(t.observer.disconnect(),Tn.delete(t.observer)))}}var RI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),AI=["root","rootMargin","threshold"],kI=["root","rootMargin","threshold","disabled"],DI=function(t){return AI.reduce(function(e,n){var r,a=n==="root"&&II.call(t.root)==="[object String]";return Object.assign(e,(r={},r[n]=a?document.querySelector(t[n]):t[n],r))},{})},rd=function(t){RI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleChange=function(r){n.props.onChange(r,n.externalUnobserve)},n.handleNode=function(r){var a=n.props.children;if(SI(a)){var i=a.ref;typeof i=="function"?i(r):i&&nd.call(i,"current")&&(i.current=r)}if(n.targetNode=void 0,r){var o=jr.findDOMNode(r);o&&o.nodeType===1&&(n.targetNode=o)}},n.observe=function(){if(n.props.children==null||n.props.disabled)return!1;if(!n.targetNode)throw new Error("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree.");return n.observer=TI(DI(n.props)),n.target=n.targetNode,PI(n),!0},n.unobserve=function(r){_I(n,r)},n.externalUnobserve=function(){n.targetNode&&n.unobserve(n.targetNode)},n}return e.prototype.getSnapshotBeforeUpdate=function(n){var r=this;this.prevTargetNode=this.targetNode;var a=kI.some(function(i){return gs(r.props[i],n[i])});return a&&this.prevTargetNode&&(n.disabled||this.unobserve(this.prevTargetNode)),a},e.prototype.componentDidUpdate=function(n,r,a){var i=!1;a||(i=this.prevTargetNode!==this.targetNode,i&&this.prevTargetNode!=null&&this.unobserve(this.prevTargetNode)),(a||i)&&this.observe()},e.prototype.componentDidMount=function(){this.observe()},e.prototype.componentWillUnmount=function(){this.targetNode&&this.unobserve(this.targetNode)},e.prototype.render=function(){var n=this.props.children;return n!=null?p.cloneElement(p.Children.only(n),{ref:this.handleNode}):null},e.displayName="IntersectionObserver",e}(p.Component);function ad(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ad(Object(n),!0).forEach(function(r){Ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NI(t,e,n){return e&&id(t.prototype,e),n&&id(t,n),t}function LI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vs(t,e)}function vs(t,e){return vs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},vs(t,e)}function MI(t){var e=jI();return function(){var r=Za(t),a;if(e){var i=Za(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return $I(this,a)}}function $I(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return od(t)}function od(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Za(t){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Za(t)}var sd=function(t){LI(n,t);var e=MI(n);function n(r){var a;return xI(this,n),a=e.call(this,r),a.state={loaded:!1},a.handleIntersection=a.handleIntersection.bind(od(a)),a}return NI(n,[{key:"componentDidMount",value:function(){var a=this;this.setState(function(i){return Zt(Zt({},i),{},{image:a.image()})})}},{key:"componentDidUpdate",value:function(a){var i=this,o=this.props,s=o.maxHeight,u=o.maxWidth,l=o.resource;(a.maxHeight!==s||a.maxWidth!==u||a.resource!==l)&&this.setState(function(c){return Zt(Zt({},c),{},{image:i.image()})})}},{key:"handleIntersection",value:function(a){var i=this.state.loaded;i||!a.isIntersecting||this.setState(function(o){return Zt(Zt({},o),{},{loaded:!0})})}},{key:"imageStyles",value:function(){var a=this.props,i=a.maxHeight,o=a.maxWidth,s=a.style,u=this.image(),l={height:"auto",width:"auto"};if(!u)return Zt(Zt({},s),{},{height:i||"auto",width:o||"auto"});var c=u.height,d=u.width;if(c&&d)if(i&&c>i||o&&d>o){var f=d/c;i&&o?o/i<f?(l.height=Math.round(o/f),l.width=o):(l.height=i,l.width=Math.round(i*f)):i?(l.height=i,l.maxWidth=Math.round(i*f)):o&&(l.width=o,l.maxHeight=Math.round(o/f))}else l.width=d,l.height=c;else c&&!d?l.height=i:!c&&d?l.width=o:(l.width=o,l.height=i);return Zt(Zt({},l),s)}},{key:"image",value:function(){var a=this.props,i=a.thumbnail,o=a.resource,s=a.maxHeight,u=a.maxWidth,l=a.thumbnailsConfig;if(i)return i;var c=xb(o,Zt(Zt({},l),{},{maxHeight:s,maxWidth:u}));if(c&&c.url)return c}},{key:"label",value:function(){var a=this.props,i=a.label,o=a.resource;return i||n.getUseableLabel(o)}},{key:"render",value:function(){var a=this.props,i=a.children,o=a.classes,s=a.imagePlaceholder,u=a.labelled,l=a.thumbnail,c=a.variant,d=this.state,f=d.image,g=d.loaded,v=g&&(l||f)||{},m=v.url,b=m===void 0?s:m;return p.createElement("div",{className:Cn(o.root,Ka({},o["".concat(c,"Root")],c))},p.createElement(rd,{onChange:this.handleIntersection},p.createElement("img",{alt:"",role:"presentation",src:b,style:this.imageStyles(),className:o.image})),u&&p.createElement("div",{className:Cn(o.label,Ka({},o["".concat(c,"Label")],c))},p.createElement(pe,{variant:"caption",classes:{root:Cn(o.caption,Ka({},o["".concat(c,"Caption")],c))}},this.label())),i)}}],[{key:"getUseableLabel",value:function(a,i){return a&&a.getLabel&&a.getLabel().length>0?a.getLabel().getValue():String(i+1)}}]),n}(p.Component);sd.defaultProps={children:null,classes:{},imagePlaceholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMDQmtBwADgwF/Op8FmAAAAABJRU5ErkJggg==",label:void 0,labelled:!1,maxHeight:null,maxWidth:null,style:{},thumbnail:null,thumbnailsConfig:{},variant:null};var WI=function(e){return{thumbnailsConfig:Ln(e).thumbnails}},FI=function(e){return{caption:{lineHeight:"1.5em",wordBreak:"break-word"},image:{},insideCaption:{color:"#ffffff",lineClamp:"1",whiteSpace:"nowrap"},insideLabel:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",bottom:"5px",boxSizing:"border-box",left:"0px",padding:"4px",position:"absolute",width:"100%"},insideRoot:{display:"inline-block",height:"inherit",position:"relative"},label:{overflow:"hidden",textOverflow:"ellipsis"},outsideCaption:{boxOrient:"vertical",display:"-webkit-box",lineClamp:"2",maxHeight:"3em"},outsideLabel:{},outsideRoot:{},root:{}}},BI=Pe(xe(FI),Le(),Ae(WI),je("IIIFThumbnail")),Yr=BI(sd);function ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ud(Object(n),!0).forEach(function(r){cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UI(t,e,n){return e&&dd(t.prototype,e),n&&dd(t,n),t}function HI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hs(t,e)}function hs(t,e){return hs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},hs(t,e)}function VI(t){var e=qI();return function(){var r=Ya(t),a;if(e){var i=Ya(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return GI(this,a)}}function GI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fd(t)}function fd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ya(t)}var KI=function(t){HI(n,t);var e=VI(n);function n(r){var a;return zI(this,n),a=e.call(this,r),a.setCanvas=a.setCanvas.bind(fd(a)),a}return UI(n,[{key:"setCanvas",value:function(a){var i=this.props.setCanvas;i(a.currentTarget.dataset.canvasId)}},{key:"currentCanvasClass",value:function(a){var i=this.props.index;return a.includes(i)?"current-canvas-grouping":""}},{key:"render",value:function(){var a=this.props,i=a.index,o=a.style,s=a.data,u=a.classes,l=a.currentCanvasId,c=s.canvasGroupings,d=s.position,f=s.height,g=c[i],v=8;return p.createElement("div",{style:ld(ld({},o),{},{boxSizing:"content-box",height:Number.isInteger(o.height)?o.height-v:null,left:o.left+v,top:o.top+v,width:Number.isInteger(o.width)?o.width-v:null}),className:gn("thumbnail-nav-container"),role:"gridcell","aria-colindex":i+1},p.createElement("div",{role:"button","data-canvas-id":g[0].id,"data-canvas-index":g[0].index,onKeyUp:this.setCanvas,onClick:this.setCanvas,tabIndex:-1,style:{height:d==="far-right"?"auto":"".concat(f-v,"px"),width:d==="far-bottom"?"auto":"".concat(o.width,"px")},className:Cn(gn(["thumbnail-nav-canvas","thumbnail-nav-canvas-".concat(i),this.currentCanvasClass(g.map(function(m){return m.index}))]),u.canvas,cd({},u.currentCanvas,g.map(function(m){return m.id}).includes(l)))},g.map(function(m,b){return p.createElement(Yr,{key:m.id,resource:m,labelled:!0,maxHeight:d==="far-right"?o.height-1.5*v:f-1.5*v,variant:"inside"})})))}}]),n}(p.PureComponent),ZI=function(e,n){var r=n.data;return{setCanvas:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e(Qn.apply($n,[r.windowId].concat(o)))}}},YI=function(e,n){var r=n.data;return{currentCanvasId:(Nb(e,{windowId:r.windowId})||{}).id}},XI=function(e){return{canvas:{"&$currentCanvas":{outline:"2px solid ".concat(e.palette.primary.main),outlineOffset:"3px"},"&:hover":{outline:"9px solid ".concat(e.palette.action.hover),outlineOffset:"-2px"},boxSizing:"border-box",color:e.palette.common.white,cursor:"pointer",display:"inline-block",outline:0,whiteSpace:"nowrap"},currentCanvas:{}}},JI=Pe(Le(),xe(XI),Ae(YI,ZI),je("ThumbnailCanvasGrouping")),QI=JI(KI);function eS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tS(t,e,n){return e&&pd(t.prototype,e),n&&pd(t,n),t}function nS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ms(t,e)}function ms(t,e){return ms=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},ms(t,e)}function rS(t){var e=iS();return function(){var r=Xa(t),a;if(e){var i=Xa(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return aS(this,a)}}function aS(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(t)}function yr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xa(t)}var gd=function(t){nS(n,t);var e=rS(n);function n(r){var a;return eS(this,n),a=e.call(this,r),a.scrollbarSize=15,a.spacing=8,a.calculateScaledSize=a.calculateScaledSize.bind(yr(a)),a.itemCount=a.itemCount.bind(yr(a)),a.handleKeyUp=a.handleKeyUp.bind(yr(a)),a.nextCanvas=a.nextCanvas.bind(yr(a)),a.previousCanvas=a.previousCanvas.bind(yr(a)),a.gridRef=p.createRef(),a}return tS(n,[{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.canvasIndex,s=i.position,u=i.view;if(a.view!==u&&s!=="off"&&this.gridRef.current.resetAfterIndex(0),a.canvasIndex!==o){var l=o;u==="book"&&(l=Math.ceil(l/2)),this.gridRef.current.scrollToItem(l,"center")}}},{key:"handleKeyUp",value:function(a){var i=this.props.position,o="ArrowRight",s="ArrowLeft";switch(i==="far-right"&&(o="ArrowDown",s="ArrowUp"),a.key){case o:this.nextCanvas();break;case s:this.previousCanvas();break}}},{key:"calculateScaledSize",value:function(a){var i=this.props,o=i.thumbnailNavigation,s=i.canvasGroupings,u=i.position,l=s[a]||[],c=new Zy(l),d=c.worldBounds();switch(u){case"far-right":{var f=Math.floor(this.calculatingWidth(l.length)*d[3]/d[2]);return Number.isInteger(f)?f+this.spacing:o.width+this.spacing}default:{if(d[3]===0)return o.width+this.spacing;var g=Math.ceil((o.height-this.scrollbarSize-this.spacing-4)*d[2]/d[3]);return g}}}},{key:"calculatingWidth",value:function(a){var i=this.props.thumbnailNavigation;return a===1?i.width:i.width*2}},{key:"rightWidth",value:function(){var a=this.props,i=a.view,o=a.thumbnailNavigation;switch(i){case"book":return o.width*2;default:return o.width}}},{key:"style",value:function(){var a=this.props,i=a.position,o=a.thumbnailNavigation;switch(i){case"far-right":return{height:"100%",minHeight:0,width:"".concat(this.rightWidth()+this.scrollbarSize+this.spacing,"px")};default:return{height:"".concat(o.height,"px"),width:"100%"}}}},{key:"areaHeight",value:function(a){var i=this.props,o=i.position,s=i.thumbnailNavigation;switch(o){case"far-right":return a;default:return s.height}}},{key:"itemCount",value:function(){var a=this.props.canvasGroupings;return a.length}},{key:"nextCanvas",value:function(){var a=this.props,i=a.hasNextCanvas,o=a.setNextCanvas;i&&o()}},{key:"previousCanvas",value:function(){var a=this.props,i=a.hasPreviousCanvas,o=a.setPreviousCanvas;i&&o()}},{key:"render",value:function(){var a=this,i=this.props,o=i.t,s=i.canvasGroupings,u=i.classes,l=i.position,c=i.thumbnailNavigation,d=i.viewingDirection,f=i.windowId;if(l==="off")return p.createElement(p.Fragment,null);var g=d==="right-to-left"?"rtl":"ltr",v={canvasGroupings:s,height:c.height-this.spacing-this.scrollbarSize,position:l,windowId:f};return p.createElement(bc,{className:Cn(gn("thumb-navigation"),u.thumbNavigation),"aria-label":o("thumbnailNavigation"),square:!0,elevation:0,style:this.style(),tabIndex:0,onKeyUp:this.handleKeyUp,role:"grid"},p.createElement("div",{role:"row",style:{height:"100%",width:"100%"}},p.createElement(Zc,{defaultHeight:100,defaultWidth:400},function(m){var b=m.height,w=m.width;return p.createElement(bI,{direction:g,height:a.areaHeight(b),itemCount:a.itemCount(),itemSize:a.calculateScaledSize,width:w,layout:l==="far-bottom"?"horizontal":"vertical",itemData:v,ref:a.gridRef},QI)})))}}]),n}(p.Component);gd.defaultProps={hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},view:void 0,viewingDirection:""};var oS=function(e,n){var r=n.windowId;return{canvasGroupings:Lb(e,{windowId:r}),canvasIndex:Mb(e,{windowId:r}),hasNextCanvas:!!$b(e,{windowId:r}),hasPreviousCanvas:!!jb(e,{windowId:r}),position:Wr(e,{companionWindowId:Mn(e,{windowId:r}).thumbnailNavigationId}).position,thumbnailNavigation:Ln(e).thumbnailNavigation,view:Wb(e,{windowId:r}),viewingDirection:Fb(e,{windowId:r})}},sS=function(e,n){var r=n.windowId;return{setNextCanvas:function(){return e(Bb(r))},setPreviousCanvas:function(){return e(zb(r))}}},uS=function(e){return{thumbNavigation:{"&:focus":{boxShadow:0,outline:0}}}},lS=Pe(xe(uS),Le(),Ae(oS,sS),je("ThumbnailNavigation")),cS=lS(gd),dS=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilitySharp");e.default=a}),vd=nt(dS),fS=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM3.42 2.45L2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l3.43 3.43 1.41-1.41L3.42 2.45zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64l2.64 2.64z"}),"VisibilityOffSharp");e.default=a}),hd=nt(fS);function pS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gS(t,e,n){return e&&md(t.prototype,e),n&&md(t,n),t}function vS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bs(t,e)}function bs(t,e){return bs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},bs(t,e)}function hS(t){var e=yS();return function(){var r=Ja(t),a;if(e){var i=Ja(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return mS(this,a)}}function mS(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bS(t)}function bS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ja(t){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ja(t)}var wS=function(t){vS(n,t);var e=hS(n);function n(){return pS(this,n),e.apply(this,arguments)}return gS(n,[{key:"render",value:function(){var a=this.props,i=a.displayAll,o=a.displayAllDisabled,s=a.t,u=a.toggleAnnotationDisplay;return p.createElement(er,{"aria-label":s(i?"displayNoAnnotations":"highlightAllAnnotations"),onClick:u,disabled:o,size:"small"},i?p.createElement(vd,null):p.createElement(hd,null))}}]),n}(p.Component),IS=function(e,n){var r=n.windowId;return{displayAll:Mn(e,{windowId:r}).highlightAllAnnotations,displayAllDisabled:yc(e,{windowId:r}).length<2}},SS=function(e,n){var r=n.windowId;return{toggleAnnotationDisplay:function(){e(Yy(r))}}},OS=Pe(Le(),Ae(IS,SS),je("AnnotationSettings")),ES=OS(wS);/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */function CS(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var TS=Object.hasOwnProperty,bd=Object.setPrototypeOf,PS=Object.isFrozen,_S=Object.getPrototypeOf,RS=Object.getOwnPropertyDescriptor,Et=Object.freeze,Pn=Object.seal,AS=Object.create,yd=typeof Reflect!="undefined"&&Reflect,Qa=yd.apply,ys=yd.construct;Qa||(Qa=function(e,n,r){return e.apply(n,r)}),Et||(Et=function(e){return e}),Pn||(Pn=function(e){return e}),ys||(ys=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(CS(n))))});var kS=un(Array.prototype.forEach),wd=un(Array.prototype.pop),Xr=un(Array.prototype.push),ei=un(String.prototype.toLowerCase),Id=un(String.prototype.match),Wn=un(String.prototype.replace),DS=un(String.prototype.indexOf),xS=un(String.prototype.trim),jt=un(RegExp.prototype.test),Sd=NS(TypeError);function un(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Qa(t,e,r)}}function NS(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ys(t,n)}}function ge(t,e){bd&&bd(t,null);for(var n=e.length;n--;){var r=e[n];if(typeof r=="string"){var a=ei(r);a!==r&&(PS(e)||(e[n]=a),r=a)}t[r]=!0}return t}function tr(t){var e=AS(null),n=void 0;for(n in t)Qa(TS,t,[n])&&(e[n]=t[n]);return e}function ti(t,e){for(;t!==null;){var n=RS(t,e);if(n){if(n.get)return un(n.get);if(typeof n.value=="function")return un(n.value)}t=_S(t)}function r(a){return console.warn("fallback value for",a),null}return r}var Od=Et(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ws=Et(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Is=Et(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),LS=Et(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ss=Et(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),MS=Et(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ed=Et(["#text"]),Cd=Et(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Os=Et(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Td=Et(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ni=Et(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$S=Pn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),jS=Pn(/<%[\s\S]*|[\s\S]*%>/gm),WS=Pn(/^data-[\-\w.\u00B7-\uFFFF]/),FS=Pn(/^aria-[\-\w]+$/),BS=Pn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zS=Pn(/^(?:\w+script|data):/i),US=Pn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function vn(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var HS=function(){return typeof window=="undefined"?null:window},VS=function(e,n){if((typeof e=="undefined"?"undefined":Jr(e))!=="object"||typeof e.createPolicy!="function")return null;var r=null,a="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(a)&&(r=n.currentScript.getAttribute(a));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(s){return s}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Pd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HS(),e=function(O){return Pd(O)};if(e.version="2.3.4",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,a=t.DocumentFragment,i=t.HTMLTemplateElement,o=t.Node,s=t.Element,u=t.NodeFilter,l=t.NamedNodeMap,c=l===void 0?t.NamedNodeMap||t.MozNamedAttrMap:l,d=t.HTMLFormElement,f=t.DOMParser,g=t.trustedTypes,v=s.prototype,m=ti(v,"cloneNode"),b=ti(v,"nextSibling"),w=ti(v,"childNodes"),h=ti(v,"parentNode");if(typeof i=="function"){var I=r.createElement("template");I.content&&I.content.ownerDocument&&(r=I.content.ownerDocument)}var y=VS(g,n),E=y&&at?y.createHTML(""):"",S=r,C=S.implementation,k=S.createNodeIterator,L=S.createDocumentFragment,V=S.getElementsByTagName,ae=n.importNode,he={};try{he=tr(r).documentMode?r.documentMode:{}}catch(q){}var X={};e.isSupported=typeof h=="function"&&C&&typeof C.createHTMLDocument!="undefined"&&he!==9;var me=$S,le=jS,Ge=WS,et=FS,we=zS,ke=US,qe=BS,oe=null,ue=ge({},[].concat(vn(Od),vn(ws),vn(Is),vn(Ss),vn(Ed))),J=null,Oe=ge({},[].concat(vn(Cd),vn(Os),vn(Td),vn(ni))),R=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),A=null,x=null,Z=!0,Q=!0,te=!1,Ee=!1,_e=!1,Ke=!1,Ze=!1,He=!1,st=!1,at=!1,Dt=!0,rn=!0,vt=!1,ut={},Ye=null,We=ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xe=null,xt=ge({},["audio","video","img","source","image","track"]),Ot=null,Fe=ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",De="http://www.w3.org/1999/xhtml",B=De,Se=!1,Be=void 0,Lt=["application/xhtml+xml","text/html"],wn="text/html",tt=void 0,Mt=null,dn=r.createElement("form"),ce=function(O){return O instanceof RegExp||O instanceof Function},fn=function(O){Mt&&Mt===O||((!O||(typeof O=="undefined"?"undefined":Jr(O))!=="object")&&(O={}),O=tr(O),oe="ALLOWED_TAGS"in O?ge({},O.ALLOWED_TAGS):ue,J="ALLOWED_ATTR"in O?ge({},O.ALLOWED_ATTR):Oe,Ot="ADD_URI_SAFE_ATTR"in O?ge(tr(Fe),O.ADD_URI_SAFE_ATTR):Fe,Xe="ADD_DATA_URI_TAGS"in O?ge(tr(xt),O.ADD_DATA_URI_TAGS):xt,Ye="FORBID_CONTENTS"in O?ge({},O.FORBID_CONTENTS):We,A="FORBID_TAGS"in O?ge({},O.FORBID_TAGS):{},x="FORBID_ATTR"in O?ge({},O.FORBID_ATTR):{},ut="USE_PROFILES"in O?O.USE_PROFILES:!1,Z=O.ALLOW_ARIA_ATTR!==!1,Q=O.ALLOW_DATA_ATTR!==!1,te=O.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=O.SAFE_FOR_TEMPLATES||!1,_e=O.WHOLE_DOCUMENT||!1,He=O.RETURN_DOM||!1,st=O.RETURN_DOM_FRAGMENT||!1,at=O.RETURN_TRUSTED_TYPE||!1,Ze=O.FORCE_BODY||!1,Dt=O.SANITIZE_DOM!==!1,rn=O.KEEP_CONTENT!==!1,vt=O.IN_PLACE||!1,qe=O.ALLOWED_URI_REGEXP||qe,B=O.NAMESPACE||De,O.CUSTOM_ELEMENT_HANDLING&&ce(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(R.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&ce(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(R.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(R.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be=Lt.indexOf(O.PARSER_MEDIA_TYPE)===-1?Be=wn:Be=O.PARSER_MEDIA_TYPE,tt=Be==="application/xhtml+xml"?function(D){return D}:ei,Ee&&(Q=!1),st&&(He=!0),ut&&(oe=ge({},[].concat(vn(Ed))),J=[],ut.html===!0&&(ge(oe,Od),ge(J,Cd)),ut.svg===!0&&(ge(oe,ws),ge(J,Os),ge(J,ni)),ut.svgFilters===!0&&(ge(oe,Is),ge(J,Os),ge(J,ni)),ut.mathMl===!0&&(ge(oe,Ss),ge(J,Td),ge(J,ni))),O.ADD_TAGS&&(oe===ue&&(oe=tr(oe)),ge(oe,O.ADD_TAGS)),O.ADD_ATTR&&(J===Oe&&(J=tr(J)),ge(J,O.ADD_ATTR)),O.ADD_URI_SAFE_ATTR&&ge(Ot,O.ADD_URI_SAFE_ATTR),O.FORBID_CONTENTS&&(Ye===We&&(Ye=tr(Ye)),ge(Ye,O.FORBID_CONTENTS)),rn&&(oe["#text"]=!0),_e&&ge(oe,["html","head","body"]),oe.table&&(ge(oe,["tbody"]),delete A.tbody),Et&&Et(O),Mt=O)},In=ge({},["mi","mo","mn","ms","mtext"]),an=ge({},["foreignobject","desc","title","annotation-xml"]),Ce=ge({},ws);ge(Ce,Is),ge(Ce,LS);var on=ge({},Ss);ge(on,MS);var Pt=function(O){var D=h(O);(!D||!D.tagName)&&(D={namespaceURI:De,tagName:"template"});var U=ei(O.tagName),fe=ei(D.tagName);if(O.namespaceURI===Nt)return D.namespaceURI===De?U==="svg":D.namespaceURI===it?U==="svg"&&(fe==="annotation-xml"||In[fe]):Boolean(Ce[U]);if(O.namespaceURI===it)return D.namespaceURI===De?U==="math":D.namespaceURI===Nt?U==="math"&&an[fe]:Boolean(on[U]);if(O.namespaceURI===De){if(D.namespaceURI===Nt&&!an[fe]||D.namespaceURI===it&&!In[fe])return!1;var Ve=ge({},["title","style","font","a","script"]);return!on[U]&&(Ve[U]||!Ce[U])}return!1},G=function(O){Xr(e.removed,{element:O});try{O.parentNode.removeChild(O)}catch(D){try{O.outerHTML=E}catch(U){O.remove()}}},$=function(O,D){try{Xr(e.removed,{attribute:D.getAttributeNode(O),from:D})}catch(U){Xr(e.removed,{attribute:null,from:D})}if(D.removeAttribute(O),O==="is"&&!J[O])if(He||st)try{G(D)}catch(U){}else try{D.setAttribute(O,"")}catch(U){}},N=function(O){var D=void 0,U=void 0;if(Ze)O="<remove></remove>"+O;else{var fe=Id(O,/^[\r\n\t ]+/);U=fe&&fe[0]}Be==="application/xhtml+xml"&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");var Ve=y?y.createHTML(O):O;if(B===De)try{D=new f().parseFromString(Ve,Be)}catch(Je){}if(!D||!D.documentElement){D=C.createDocument(B,"template",null);try{D.documentElement.innerHTML=Se?"":Ve}catch(Je){}}var $e=D.body||D.documentElement;return O&&U&&$e.insertBefore(r.createTextNode(U),$e.childNodes[0]||null),B===De?V.call(D,_e?"html":"body")[0]:_e?D.documentElement:$e},K=function(O){return k.call(O.ownerDocument||O,O,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},re=function(O){return O instanceof d&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof c)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function")},ee=function(O){return(typeof o=="undefined"?"undefined":Jr(o))==="object"?O instanceof o:O&&(typeof O=="undefined"?"undefined":Jr(O))==="object"&&typeof O.nodeType=="number"&&typeof O.nodeName=="string"},de=function(O,D,U){!X[O]||kS(X[O],function(fe){fe.call(e,D,U,Mt)})},Re=function(O){var D=void 0;if(de("beforeSanitizeElements",O,null),re(O)||Id(O.nodeName,/[\u0080-\uFFFF]/))return G(O),!0;var U=tt(O.nodeName);if(de("uponSanitizeElement",O,{tagName:U,allowedTags:oe}),!ee(O.firstElementChild)&&(!ee(O.content)||!ee(O.content.firstElementChild))&&jt(/<[/\w]/g,O.innerHTML)&&jt(/<[/\w]/g,O.textContent)||U==="select"&&jt(/<template/i,O.innerHTML))return G(O),!0;if(!oe[U]||A[U]){if(rn&&!Ye[U]){var fe=h(O)||O.parentNode,Ve=w(O)||O.childNodes;if(Ve&&fe)for(var $e=Ve.length,Je=$e-1;Je>=0;--Je)fe.insertBefore(m(Ve[Je],!0),b(O))}return!A[U]&&se(U)&&(R.tagNameCheck instanceof RegExp&&jt(R.tagNameCheck,U)||R.tagNameCheck instanceof Function&&R.tagNameCheck(U))?!1:(G(O),!0)}return O instanceof s&&!Pt(O)||(U==="noscript"||U==="noembed")&&jt(/<\/no(script|embed)/i,O.innerHTML)?(G(O),!0):(Ee&&O.nodeType===3&&(D=O.textContent,D=Wn(D,me," "),D=Wn(D,le," "),O.textContent!==D&&(Xr(e.removed,{element:O.cloneNode()}),O.textContent=D)),de("afterSanitizeElements",O,null),!1)},Te=function(O,D,U){if(Dt&&(D==="id"||D==="name")&&(U in r||U in dn))return!1;if(!(Q&&!x[D]&&jt(Ge,D))){if(!(Z&&jt(et,D))){if(!J[D]||x[D]){if(!(se(O)&&(R.tagNameCheck instanceof RegExp&&jt(R.tagNameCheck,O)||R.tagNameCheck instanceof Function&&R.tagNameCheck(O))&&(R.attributeNameCheck instanceof RegExp&&jt(R.attributeNameCheck,D)||R.attributeNameCheck instanceof Function&&R.attributeNameCheck(D))||D==="is"&&R.allowCustomizedBuiltInElements&&(R.tagNameCheck instanceof RegExp&&jt(R.tagNameCheck,U)||R.tagNameCheck instanceof Function&&R.tagNameCheck(U))))return!1}else if(!Ot[D]){if(!jt(qe,Wn(U,ke,""))){if(!((D==="src"||D==="xlink:href"||D==="href")&&O!=="script"&&DS(U,"data:")===0&&Xe[O])){if(!(te&&!jt(we,Wn(U,ke,"")))){if(U)return!1}}}}}}return!0},se=function(O){return O.indexOf("-")>0},Ht=function(O){var D=void 0,U=void 0,fe=void 0,Ve=void 0;de("beforeSanitizeAttributes",O,null);var $e=O.attributes;if(!!$e){var Je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J};for(Ve=$e.length;Ve--;){D=$e[Ve];var ht=D,Vt=ht.name,xn=ht.namespaceURI;if(U=xS(D.value),fe=tt(Vt),Je.attrName=fe,Je.attrValue=U,Je.keepAttr=!0,Je.forceKeepAttr=void 0,de("uponSanitizeAttribute",O,Je),U=Je.attrValue,!Je.forceKeepAttr&&($(Vt,O),!!Je.keepAttr)){if(jt(/\/>/i,U)){$(Vt,O);continue}Ee&&(U=Wn(U,me," "),U=Wn(U,le," "));var lr=tt(O.nodeName);if(!!Te(lr,fe,U))try{xn?O.setAttributeNS(xn,Vt,U):O.setAttribute(Vt,U),wd(e.removed)}catch(Xn){}}}de("afterSanitizeAttributes",O,null)}},Yn=function q(O){var D=void 0,U=K(O);for(de("beforeSanitizeShadowDOM",O,null);D=U.nextNode();)de("uponSanitizeShadowNode",D,null),!Re(D)&&(D.content instanceof a&&q(D.content),Ht(D));de("afterSanitizeShadowDOM",O,null)};return e.sanitize=function(q,O){var D=void 0,U=void 0,fe=void 0,Ve=void 0,$e=void 0;if(Se=!q,Se&&(q="<!-->"),typeof q!="string"&&!ee(q)){if(typeof q.toString!="function")throw Sd("toString is not a function");if(q=q.toString(),typeof q!="string")throw Sd("dirty is not a string, aborting")}if(!e.isSupported){if(Jr(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof q=="string")return t.toStaticHTML(q);if(ee(q))return t.toStaticHTML(q.outerHTML)}return q}if(Ke||fn(O),e.removed=[],typeof q=="string"&&(vt=!1),!vt)if(q instanceof o)D=N("<!---->"),U=D.ownerDocument.importNode(q,!0),U.nodeType===1&&U.nodeName==="BODY"||U.nodeName==="HTML"?D=U:D.appendChild(U);else{if(!He&&!Ee&&!_e&&q.indexOf("<")===-1)return y&&at?y.createHTML(q):q;if(D=N(q),!D)return He?null:E}D&&Ze&&G(D.firstChild);for(var Je=K(vt?q:D);fe=Je.nextNode();)fe.nodeType===3&&fe===Ve||Re(fe)||(fe.content instanceof a&&Yn(fe.content),Ht(fe),Ve=fe);if(Ve=null,vt)return q;if(He){if(st)for($e=L.call(D.ownerDocument);D.firstChild;)$e.appendChild(D.firstChild);else $e=D;return J.shadowroot&&($e=ae.call(n,$e,!0)),$e}var ht=_e?D.outerHTML:D.innerHTML;return Ee&&(ht=Wn(ht,me," "),ht=Wn(ht,le," ")),y&&at?y.createHTML(ht):ht},e.setConfig=function(q){fn(q),Ke=!0},e.clearConfig=function(){Mt=null,Ke=!1},e.isValidAttribute=function(q,O,D){Mt||fn({});var U=tt(q),fe=tt(O);return Te(U,fe,D)},e.addHook=function(q,O){typeof O=="function"&&(X[q]=X[q]||[],Xr(X[q],O))},e.removeHook=function(q){X[q]&&wd(X[q])},e.removeHooks=function(q){X[q]&&(X[q]=[])},e.removeAllHooks=function(){X={}},e}var _d=Pd(),GS={},qS={ALLOWED_TAGS:[]},KS={ALLOWED_ATTR:["href","src","alt"],ALLOWED_TAGS:["a","b","br","i","img","p","span"]},ZS={ALLOWED_ATTR:["href","target","src","alt","dir"],ALLOWED_TAGS:["a","b","br","i","img","p","span","strong","em","ul","ol","li"]},YS={iiif:KS,liberal:GS,mirador2:ZS,noHtml:qS};function XS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JS(t,e,n){return e&&Rd(t.prototype,e),n&&Rd(t,n),t}function QS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Es(t,e)}function Es(t,e){return Es=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Es(t,e)}function eO(t){var e=rO();return function(){var r=ri(t),a;if(e){var i=ri(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return tO(this,a)}}function tO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nO(t)}function nO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ri(t)}var Ad=function(t){QS(n,t);var e=eO(n);function n(){return XS(this,n),e.apply(this,arguments)}return JS(n,[{key:"render",value:function(){var a=this.props,i=a.classes,o=a.htmlString,s=a.ruleSet;return _d.addHook("afterSanitizeAttributes",function(u){"target"in u&&(u.setAttribute("target","_blank"),u.setAttribute("rel","noopener noreferrer"))}),p.createElement("span",{className:[i.root,gn("third-party-html")].join(" "),dangerouslySetInnerHTML:{__html:_d.sanitize(o,YS[s])}})}}]),n}(p.Component);Ad.defaultProps={classes:{}};var aO=function(e){return{root:{"& a":{color:e.palette.primary.main,textDecoration:"underline"}}}},_n=xe(aO)(Ad);function iO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oO(t,e,n){return e&&kd(t.prototype,e),n&&kd(t,n),t}function sO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)}function Cs(t,e){return Cs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Cs(t,e)}function uO(t){var e=dO();return function(){var r=ai(t),a;if(e){var i=ai(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return lO(this,a)}}function lO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cO(t)}function cO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ai(t){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ai(t)}var wr=function(t){sO(n,t);var e=uO(n);function n(r){var a;return iO(this,n),a=e.call(this,r),a.scrollToRef=p.createRef(),a}return oO(n,[{key:"componentDidMount",value:function(){var a=this.props.scrollTo;!a||this.scrollToElement()}},{key:"componentDidUpdate",value:function(a){var i=this.props.scrollTo;i&&a.scrollTo!==i&&this.scrollToElement()}},{key:"containerBoundingRect",value:function(){var a=this.props.containerRef;return!a||!a.current||!a.current.domEl?{}:a.current.domEl.getBoundingClientRect()}},{key:"scrollToBoundingRect",value:function(){return this.elementToScrollTo()?this.elementToScrollTo().getBoundingClientRect():{}}},{key:"elementToScrollTo",value:function(){return!this.scrollToRef||!this.scrollToRef.current?null:this.scrollToRef.current}},{key:"scrollabelContainer",value:function(){var a=this.props.containerRef;return!a||!a.current||!a.current.domEl?null:a.current.domEl.getElementsByClassName("mirador-scrollto-scrollable")[0]}},{key:"elementIsVisible",value:function(){var a=this.props.offsetTop;return!(this.scrollToBoundingRect().top<this.containerBoundingRect().top+a||this.scrollToBoundingRect().bottom>this.containerBoundingRect().bottom)}},{key:"scrollToElement",value:function(){var a=this.props,i=a.offsetTop,o=a.scrollTo;if(!!o&&!!this.elementToScrollTo()&&!this.elementIsVisible()&&!!this.scrollabelContainer()){var s=this.elementToScrollTo().offsetTop-this.containerBoundingRect().height/2+i;this.scrollabelContainer().scrollTo(0,s)}}},{key:"render",value:function(){var a=this.props,i=a.children,o=a.scrollTo;return o?p.createElement("div",{ref:this.scrollToRef},i):i}}]),n}(p.Component);wr.defaultProps={offsetTop:0};function fO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gO(t,e,n){return e&&Dd(t.prototype,e),n&&Dd(t,n),t}function vO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ts(t,e)}function Ts(t,e){return Ts=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ts(t,e)}function hO(t){var e=bO();return function(){var r=oi(t),a;if(e){var i=oi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return mO(this,a)}}function mO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},oi(t)}var xd=function(t){vO(n,t);var e=hO(n);function n(r){var a;return pO(this,n),a=e.call(this,r),a.handleClick=a.handleClick.bind(ii(a)),a.handleAnnotationHover=a.handleAnnotationHover.bind(ii(a)),a.handleAnnotationBlur=a.handleAnnotationBlur.bind(ii(a)),a}return gO(n,[{key:"handleClick",value:function(a,i){var o=this.props,s=o.deselectAnnotation,u=o.selectAnnotation,l=o.selectedAnnotationId,c=o.windowId;l===i.id?s(c,i.id):u(c,i.id)}},{key:"handleAnnotationHover",value:function(a){var i=this.props,o=i.hoverAnnotation,s=i.windowId;o(s,[a.id])}},{key:"handleAnnotationBlur",value:function(){var a=this.props,i=a.hoverAnnotation,o=a.windowId;i(o,[])}},{key:"render",value:function(){var a=this,i=this.props,o=i.annotations,s=i.classes,u=i.index,l=i.label,c=i.selectedAnnotationId,d=i.t,f=i.totalSize,g=i.listContainerComponent,v=i.htmlSanitizationRuleSet,m=i.hoveredAnnotationIds,b=i.containerRef;return o.length===0?p.createElement(p.Fragment,null):p.createElement(p.Fragment,null,p.createElement(pe,{className:s.sectionHeading,variant:"overline"},d("annotationCanvasLabel",{context:"".concat(u+1,"/").concat(f),label:l})),p.createElement(Jo,{autoFocusItem:!0,variant:"selectedMenu"},o.map(function(w){return p.createElement(wr,{containerRef:b,key:"".concat(w.id,"-scroll"),offsetTop:96,scrollTo:c===w.id},p.createElement(fr,{button:!0,component:g,className:$t(s.annotationListItem,fO({},s.hovered,m.includes(w.id))),key:w.id,annotationid:w.id,selected:c===w.id,onClick:function(I){return a.handleClick(I,w)},onFocus:function(){return a.handleAnnotationHover(w)},onBlur:a.handleAnnotationBlur,onMouseEnter:function(){return a.handleAnnotationHover(w)},onMouseLeave:a.handleAnnotationBlur},p.createElement(Fr,{primaryTypographyProps:{variant:"body2"}},p.createElement(_n,{ruleSet:v,htmlString:w.content}),p.createElement("div",null,w.tags.map(function(h){return p.createElement(Ha,{size:"small",variant:"outlined",label:h,id:h,className:s.chip,key:h.toString()})})))))})))}}]),n}(p.Component);xd.defaultProps={annotations:[],classes:{},containerRef:void 0,hoveredAnnotationIds:[],htmlSanitizationRuleSet:"iiif",listContainerComponent:"li",selectedAnnotationId:void 0};function yO(t){return t.map(function(e,n){return{content:e.chars,id:e.id,tags:e.tags,targetId:e.targetId}})}var wO=function(e,n){var r=n.canvasId,a=n.windowId;return{annotations:yO(Xy(e,{canvasId:r,windowId:a})),htmlSanitizationRuleSet:Ln(e).annotations.htmlSanitizationRuleSet,label:ja(e,{canvasId:r,windowId:a}),selectedAnnotationId:wc(e,{windowId:a})}},IO={deselectAnnotation:Jy,hoverAnnotation:Qy,selectAnnotation:qr},SO=function(e){return{annotationListItem:{"&$hovered":{backgroundColor:e.palette.action.hover},"&:hover,&:focus":{backgroundColor:e.palette.action.hover},borderBottom:"0.5px solid ".concat(e.palette.divider),cursor:"pointer",whiteSpace:"normal"},chip:{backgroundColor:e.palette.background.paper,marginRight:e.spacing(.5),marginTop:e.spacing(1)},hovered:{},sectionHeading:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}},OO=Pe(Le(),xe(SO),Ae(wO,IO),je("CanvasAnnotations")),EO=OO(xd);function CO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TO(t,e,n){return e&&Nd(t.prototype,e),n&&Nd(t,n),t}function PO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ps(t,e)}function Ps(t,e){return Ps=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ps(t,e)}function _O(t){var e=kO();return function(){var r=si(t),a;if(e){var i=si(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return RO(this,a)}}function RO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AO(t)}function AO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function si(t){return si=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},si(t)}var Ld=function(t){PO(n,t);var e=_O(n);function n(r){var a;return CO(this,n),a=e.call(this,r),a.containerRef=p.createRef(),a}return TO(n,[{key:"render",value:function(){var a=this,i=this.props,o=i.annotationCount,s=i.classes,u=i.canvasIds,l=i.t,c=i.windowId,d=i.id;return p.createElement(jn,{title:l("annotations"),paperClassName:gn("window-sidebar-annotation-panel"),windowId:c,id:d,ref:this.containerRef,otherRef:this.containerRef,titleControls:p.createElement(ES,{windowId:c})},p.createElement("div",{className:s.section},p.createElement(pe,{component:"p",variant:"subtitle2"},l("showingNumAnnotations",{count:o,number:o}))),u.map(function(f,g){return p.createElement(EO,{canvasId:f,containerRef:a.containerRef,key:f,index:g,totalSize:u.length,windowId:c})}))}}]),n}(p.Component);Ld.defaultProps={canvasIds:[],t:function(e){return e}};var DO=function(e,n){var r=n.windowId;return{annotationCount:yc(e,{windowId:r}).length,canvasIds:pr(e,{windowId:r})}},xO=function(e){return{section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}},NO=Pe(Le(),xe(xO),Ae(DO,null),je("WindowSideBarAnnotationsPanel")),LO=NO(Ld),MO=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownSharp");e.default=a}),$O=nt(MO),jO=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpSharp");e.default=a}),WO=nt(jO);function FO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BO(t,e,n){return e&&Md(t.prototype,e),n&&Md(t,n),t}function zO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_s(t,e)}function _s(t,e){return _s=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},_s(t,e)}function UO(t){var e=VO();return function(){var r=ui(t),a;if(e){var i=ui(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return HO(this,a)}}function HO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $d(t)}function $d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ui(t)}var GO=function(t){zO(n,t);var e=UO(n);function n(r){var a;return FO(this,n),a=e.call(this,r),a.state={open:!0},a.toggleSection=a.toggleSection.bind($d(a)),a}return BO(n,[{key:"toggleSection",value:function(){var a=this.state.open;this.setState({open:!a})}},{key:"render",value:function(){var a=this.props,i=a.children,o=a.classes,s=a.id,u=a.label,l=a.t,c=this.state.open;return p.createElement(p.Fragment,null,p.createElement("div",{className:o.container},p.createElement(pe,{className:o.heading,id:s,onClick:this.toggleSection,variant:"overline",component:"h4"},u),p.createElement(er,{"aria-label":l(c?"collapseSection":"expandSection",{section:u}),"aria-expanded":c,className:o.button,onClick:this.toggleSection},c?p.createElement(WO,null):p.createElement($O,null))),c&&i)}}]),n}(p.Component),qO={button:{padding:0},container:{display:"flex",justifyContent:"space-between"},heading:{cursor:"pointer"}},KO=Pe(Le(),xe(qO)),Qr=KO(GO);function ZO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YO(t,e,n){return e&&jd(t.prototype,e),n&&jd(t,n),t}function XO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rs(t,e)}function Rs(t,e){return Rs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Rs(t,e)}function JO(t){var e=tE();return function(){var r=li(t),a;if(e){var i=li(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return QO(this,a)}}function QO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eE(t)}function eE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},li(t)}var ea=function(t){XO(n,t);var e=JO(n);function n(){return ZO(this,n),e.apply(this,arguments)}return YO(n,[{key:"render",value:function(){var a=this.props,i=a.defaultLabel,o=a.labelValuePairs;return o.length===0?p.createElement(p.Fragment,null):p.createElement("dl",{className:gn("label-value-metadata")},o.reduce(function(s,u,l){return s.concat([p.createElement(pe,{component:"dt",key:"label-".concat(l),variant:"subtitle2"},u.label||i),p.createElement(pe,{style:{marginBottom:".5em",marginLeft:"0px"},component:"dd",key:"value-".concat(l),variant:"body1"},p.createElement(_n,{htmlString:u.values.join(", "),ruleSet:"iiif"}))])},[]))}}]),n}(p.Component);ea.defaultProps={defaultLabel:void 0};var nE=["classes"];function Wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wd(Object(n),!0).forEach(function(r){rE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aE(t,e){if(t==null)return{};var n=iE(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function iE(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var ta=p.forwardRef(function(t,e){var n=t.PluginComponents,r=t.classes,a=aE(t,nE);return n?n.map(function(i,o){return p.isValidElement(i)?p.cloneElement(i,Fd(Fd({},a),{},{ref:e})):p.createElement(i,Object.assign({ref:e},a,{key:o}))}):null});function oE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sE(t,e,n){return e&&Bd(t.prototype,e),n&&Bd(t,n),t}function uE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&As(t,e)}function As(t,e){return As=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},As(t,e)}function lE(t){var e=fE();return function(){var r=ci(t),a;if(e){var i=ci(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return cE(this,a)}}function cE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(t)}function dE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ci(t)}var zd=function(t){uE(n,t);var e=lE(n);function n(){return oE(this,n),e.apply(this,arguments)}return sE(n,[{key:"render",value:function(){var a=this.props,i=a.canvasDescription,o=a.canvasLabel,s=a.canvasMetadata,u=a.id,l=a.index,c=a.t,d=a.totalSize;return p.createElement(Qr,{id:"".concat(u,"-currentItem-").concat(l),label:c("currentItem",{context:"".concat(l+1,"/").concat(d)})},o&&p.createElement(pe,{"aria-labelledby":"".concat(u,"-currentItem-").concat(l," ").concat(u,"-currentItem-").concat(l,"-heading"),id:"".concat(u,"-currentItem-").concat(l,"-heading"),variant:"h4",component:"h5"},o),i&&p.createElement(pe,{variant:"body1"},p.createElement(_n,{htmlString:i,ruleSet:"iiif"})),s&&s.length>0&&p.createElement(ea,{labelValuePairs:s}),p.createElement(ta,this.props))}}]),n}(p.Component);zd.defaultProps={canvasDescription:null,canvasLabel:null,canvasMetadata:[],index:1,t:function(e){return e},totalSize:1};var pE=function(e,n){var r=n.canvasId,a=n.id,i=n.windowId;return{canvasDescription:Ub(e,{canvasId:r,companionWindowId:a,windowId:i}),canvasLabel:ja(e,{canvasId:r,companionWindowId:a,windowId:i}),canvasMetadata:Hb(ac(e,{canvasId:r,companionWindowId:a,windowId:i}))}},gE=Pe(Le(),Ae(pE),je("CanvasInfo")),vE=gE(zd);function hE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mE(t,e,n){return e&&Ud(t.prototype,e),n&&Ud(t,n),t}function bE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}function ks(t,e){return ks=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},ks(t,e)}function yE(t){var e=SE();return function(){var r=di(t),a;if(e){var i=di(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return wE(this,a)}}function wE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IE(t)}function IE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},di(t)}var Hd=function(t){bE(n,t);var e=yE(n);function n(){return hE(this,n),e.apply(this,arguments)}return mE(n,[{key:"render",value:function(){var a=this.props,i=a.availableLocales,o=a.classes,s=a.locale,u=a.setLocale;return!u||i.length<2?p.createElement(p.Fragment,null):p.createElement(Ic,null,p.createElement(Sc,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:s,onChange:function(c){u(c.target.value)},name:"locale",classes:{select:o.select},className:o.selectEmpty},i.map(function(l){return p.createElement(fr,{key:l,value:l},p.createElement(pe,{variant:"body2"},l))})))}}]),n}(p.Component);Hd.defaultProps={availableLocales:[],classes:{},locale:"",setLocale:void 0};var OE=function(e){return{select:{"&:focus":{backgroundColor:e.palette.background.paper}},selectEmpty:{backgroundColor:e.palette.background.paper}}},EE=Pe(Le(),xe(OE)),CE=EE(Hd);function TE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PE(t,e,n){return e&&Vd(t.prototype,e),n&&Vd(t,n),t}function _E(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ds(t,e)}function Ds(t,e){return Ds=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ds(t,e)}function RE(t){var e=DE();return function(){var r=fi(t),a;if(e){var i=fi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return AE(this,a)}}function AE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kE(t)}function kE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function fi(t){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fi(t)}var Gd=function(t){_E(n,t);var e=RE(n);function n(){return TE(this,n),e.apply(this,arguments)}return PE(n,[{key:"render",value:function(){var a=this.props,i=a.manifestDescription,o=a.manifestLabel,s=a.manifestMetadata,u=a.id,l=a.t;return p.createElement(Qr,{id:"".concat(u,"-resource"),label:l("resource")},o&&p.createElement(pe,{"aria-labelledby":"".concat(u,"-resource ").concat(u,"-resource-heading"),id:"".concat(u,"-resource-heading"),variant:"h4",component:"h5"},o),i&&p.createElement(pe,{variant:"body1"},p.createElement(_n,{htmlString:i,ruleSet:"iiif"})),s.length>0&&p.createElement(ea,{labelValuePairs:s}),p.createElement(ta,this.props))}}]),n}(p.Component);Gd.defaultProps={manifestDescription:null,manifestLabel:null,manifestMetadata:[],t:function(e){return e}};var xE=function(e,n){var r=n.id,a=n.manifestId,i=n.windowId;return{manifestDescription:Vb(e,{companionWindowId:r,manifestId:a,windowId:i}),manifestLabel:ic(e,{companionWindowId:r,manifestId:a,windowId:i}),manifestMetadata:Gb(e,{companionWindowId:r,manifestId:a,windowId:i})}},NE=Pe(Le(),Ae(xE),je("ManifestInfo")),qd=NE(Gd),LE=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h12v-4H8v4zm0 5h12v-4H8v4zM8 5v4h12V5H8z"}),"ViewListSharp");e.default=a}),Kd=nt(LE);function ME(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $E(t,e,n){return e&&Zd(t.prototype,e),n&&Zd(t,n),t}function jE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xs(t,e)}function xs(t,e){return xs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},xs(t,e)}function WE(t){var e=BE();return function(){var r=pi(t),a;if(e){var i=pi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return FE(this,a)}}function FE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yd(t)}function Yd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pi(t)}var Xd=function(t){jE(n,t);var e=WE(n);function n(r){var a;return ME(this,n),a=e.call(this,r),a.openCollectionDialog=a.openCollectionDialog.bind(Yd(a)),a}return $E(n,[{key:"openCollectionDialog",value:function(){var a=this.props,i=a.collectionPath,o=a.showCollectionDialog,s=a.windowId,u=i[i.length-1];o(u,i.slice(0,-1),s)}},{key:"render",value:function(){var a=this.props,i=a.collectionLabel,o=a.collectionPath,s=a.id,u=a.t;return o.length===0?null:p.createElement(Qr,{id:"".concat(s,"-collection"),label:u("collection")},i&&p.createElement(pe,{"aria-labelledby":"".concat(s,"-resource ").concat(s,"-resource-heading"),id:"".concat(s,"-resource-heading"),variant:"h4"},i),p.createElement(hr,{color:"primary",onClick:this.openCollectionDialog,startIcon:p.createElement(Kd,null)},u("showCollection")))}}]),n}(p.Component);Xd.defaultProps={collectionLabel:null,collectionPath:[],t:function(e){return e},windowId:null};var zE=function(e,n){var r=n.id,a=n.windowId,i=Mn(e,{windowId:a})||{},o=i.collectionPath,s=o[o.length-1];return{collectionLabel:ic(e,{manifestId:s}),collectionPath:o}},UE={showCollectionDialog:oc},HE=Pe(Le(),Ae(zE,UE),je("CollectionInfo")),VE=HE(Xd);function GE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qE(t,e,n){return e&&Jd(t.prototype,e),n&&Jd(t,n),t}function KE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ns(t,e)}function Ns(t,e){return Ns=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ns(t,e)}function ZE(t){var e=JE();return function(){var r=gi(t),a;if(e){var i=gi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return YE(this,a)}}function YE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XE(t)}function XE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gi(t)}var Qd=function(t){KE(n,t);var e=ZE(n);function n(){return GE(this,n),e.apply(this,arguments)}return qE(n,[{key:"render",value:function(){var a=this.props,i=a.classes,o=a.homepage,s=a.manifestUrl,u=a.renderings,l=a.seeAlso,c=a.id,d=a.t;return p.createElement(Qr,{id:"".concat(c,"-related"),label:d("related")},p.createElement(pe,{"aria-labelledby":"".concat(c,"-related ").concat(c,"-related-heading"),id:"".concat(c,"-related-heading"),variant:"h4",component:"h5"},d("links")),p.createElement("dl",{className:Cn(gn("label-value-metadata"),i.labelValueMetadata)},o&&p.createElement(p.Fragment,null,p.createElement(pe,{variant:"subtitle2",component:"dt"},d("iiif_homepage")),o.map(function(f){return p.createElement(pe,{key:f.value,variant:"body1",component:"dd"},p.createElement(Kr,{target:"_blank",rel:"noopener noreferrer",href:f.value},f.label||f.value))})),u&&u.length>0&&p.createElement(p.Fragment,null,p.createElement(pe,{variant:"subtitle2",component:"dt"},d("iiif_renderings")),u.map(function(f){return p.createElement(pe,{key:f.value,variant:"body1",component:"dd"},p.createElement(Kr,{target:"_blank",rel:"noopener noreferrer",href:f.value},f.label||f.value))})),l&&p.createElement(p.Fragment,null,p.createElement(pe,{variant:"subtitle2",component:"dt"},d("iiif_seeAlso")),l.map(function(f){return p.createElement(pe,{key:f.value,variant:"body1",component:"dd"},p.createElement(Kr,{target:"_blank",rel:"noopener noreferrer",href:f.value},f.label||f.value),f.format&&p.createElement(pe,{component:"span"}," (".concat(f.format,")")))})),s&&p.createElement(p.Fragment,null,p.createElement(pe,{variant:"subtitle2",component:"dt"},d("iiif_manifest")),p.createElement(pe,{variant:"body1",component:"dd"},p.createElement(Kr,{target:"_blank",rel:"noopener noreferrer",href:s},s)))),p.createElement(ta,this.props))}}]),n}(p.Component);Qd.defaultProps={homepage:null,manifestUrl:null,renderings:null,seeAlso:null,t:function(e){return e}};var QE=function(e,n){var r=n.id,a=n.windowId;return{homepage:qb(e,{windowId:a}),manifestUrl:Kb(e,{windowId:a}),renderings:Zb(e,{windowId:a}),seeAlso:Yb(e,{windowId:a})}},eC={labelValueMetadata:{"& dd":{marginBottom:".5em",marginLeft:"0"}}},tC=Pe(xe(eC),Le(),Ae(QE),je("ManifestRelatedLinks")),nC=tC(Qd);function rC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aC(t,e,n){return e&&ef(t.prototype,e),n&&ef(t,n),t}function iC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ls(t,e)}function Ls(t,e){return Ls=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ls(t,e)}function oC(t){var e=lC();return function(){var r=vi(t),a;if(e){var i=vi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return sC(this,a)}}function sC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uC(t)}function uC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vi(t)}var tf=function(t){iC(n,t);var e=oC(n);function n(){return rC(this,n),e.apply(this,arguments)}return aC(n,[{key:"render",value:function(){var a=this.props,i=a.windowId,o=a.id,s=a.canvasIds,u=a.classes,l=a.collectionPath,c=a.t,d=a.locale,f=a.setLocale,g=a.availableLocales,v=a.showLocalePicker;return p.createElement(jn,{title:c("aboutThisItem"),paperClassName:gn("window-sidebar-info-panel"),windowId:i,id:o,titleControls:v&&p.createElement(CE,{locale:d,setLocale:f,availableLocales:g})},s.map(function(m,b){return p.createElement("div",{key:m,className:u.section},p.createElement(vE,{id:o,canvasId:m,index:b,totalSize:s.length,windowId:i}))}),l.length>0&&p.createElement("div",{className:u.section},p.createElement(VE,{id:o,windowId:i})),p.createElement("div",{className:u.section},p.createElement(qd,{id:o,windowId:i})),p.createElement("div",{className:u.section},p.createElement(nC,{id:o,windowId:i})))}}]),n}(p.Component);tf.defaultProps={availableLocales:[],canvasIds:[],classes:{},collectionPath:[],locale:"",setLocale:void 0,showLocalePicker:!1,t:function(e){return e}};var cC=function(e,n){var r=n.id,a=n.windowId;return{availableLocales:Xb(e,{companionWindowId:r,windowId:a}),canvasIds:pr(e,{windowId:a}),collectionPath:(Mn(e,{windowId:a})||{}).collectionPath,locale:Wr(e,{companionWindowId:r}).locale||Jb(e,{windowId:a}),showLocalePicker:sc(e,{windowId:a}).showLocalePicker}},dC=function(e,n){var r=n.windowId,a=n.id;return{setLocale:function(o){return e(Qo(r,a,{locale:o}))}}},fC=function(e){return{section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}},pC=Pe(Le(),xe(fC),Ae(cC,dC),je("WindowSideBarInfoPanel")),gC=pC(tf),vC=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"ReorderSharp");e.default=a}),hC=nt(vC),mC=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"SortSharp");e.default=a}),bC=nt(mC),yC=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"}),"ArrowForwardSharp");e.default=a}),wC=nt(yC);function IC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SC(t,e,n){return e&&nf(t.prototype,e),n&&nf(t,n),t}function OC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ms(t,e)}function Ms(t,e){return Ms=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ms(t,e)}function EC(t){var e=PC();return function(){var r=hi(t),a;if(e){var i=hi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return CC(this,a)}}function CC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TC(t)}function TC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hi(t)}var _C=function(t){OC(n,t);var e=EC(n);function n(){return IC(this,n),e.apply(this,arguments)}return SC(n,[{key:"render",value:function(){var a=this.props,i=a.classes,o=a.label;return p.createElement(p.Fragment,null,p.createElement(pe,{className:Cn(i.label),variant:"body1"},o))}}]),n}(p.Component),RC=function(e){return{label:{paddingLeft:e.spacing(1)}}},AC=Pe(xe(RC),Le(),Ae(null,null),je("SidebarIndexItem")),kC=AC(_C);function DC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xC(t,e,n){return e&&rf(t.prototype,e),n&&rf(t,n),t}function NC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$s(t,e)}function $s(t,e){return $s=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},$s(t,e)}function LC(t){var e=jC();return function(){var r=mi(t),a;if(e){var i=mi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return MC(this,a)}}function MC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $C(t)}function $C(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mi(t)}var af=function(t){NC(n,t);var e=LC(n);function n(){return DC(this,n),e.apply(this,arguments)}return xC(n,[{key:"render",value:function(){var a=this.props,i=a.classes,o=a.canvas,s=a.height,u=a.label,l=a.width;return p.createElement(p.Fragment,null,p.createElement("div",{style:{minWidth:50}},p.createElement(Yr,{label:u,resource:o,className:Cn(i.clickable),maxHeight:s,maxWidth:l})),p.createElement(pe,{className:Cn(i.label),variant:"body1"},u))}}]),n}(p.Component);af.defaultProps={height:void 0,width:void 0};function of(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?of(Object(n),!0).forEach(function(r){FC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BC=function(e,n){var r=n.data;return WC({},Ln(e).canvasNavigation||{})},zC=function(e){return{label:{paddingLeft:e.spacing(1)}}},UC=Pe(xe(zC),Le(),Ae(BC,null),je("SidebarIndexThumbnail")),HC=UC(af);function VC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GC(t,e,n){return e&&sf(t.prototype,e),n&&sf(t,n),t}function qC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&js(t,e)}function js(t,e){return js=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},js(t,e)}function KC(t){var e=XC();return function(){var r=bi(t),a;if(e){var i=bi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return ZC(this,a)}}function ZC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YC(t)}function YC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bi(t)}var uf=function(t){qC(n,t);var e=KC(n);function n(){return VC(this,n),e.apply(this,arguments)}return GC(n,[{key:"getIdAndLabelOfCanvases",value:function(){var a=this.props.canvases;return a.map(function(i,o){return{id:i.id,label:new Wa(i).getLabel()}})}},{key:"render",value:function(){var a=this.props,i=a.canvases,o=a.classes,s=a.containerRef,u=a.selectedCanvasIds,l=a.setCanvas,c=a.variant,d=a.windowId,f=this.getIdAndLabelOfCanvases(i),g;switch(c){case"thumbnail":g=HC;break;default:g=kC}return p.createElement(Jo,{variant:"selectedMenu"},f.map(function(v,m){var b=function(){l(d,v.id)};return p.createElement(wr,{containerRef:s,key:"".concat(v.id,"-").concat(c),offsetTop:96,scrollTo:u.includes(v.id)},p.createElement(fr,{key:v.id,className:o.listItem,alignItems:"flex-start",onClick:b,button:!0,component:"li",selected:u.includes(v.id)},p.createElement(g,{label:v.label,canvas:i[m]})))}))}}]),n}(p.Component);uf.defaultProps={selectedCanvasIds:[],variant:"item"};var JC=function(e,n){var r=n.id,a=n.windowId;return{canvases:Vo(e,{windowId:a}),selectedCanvasIds:pr(e,{windowId:a}),variant:Wr(e,{companionWindowId:r,windowId:a}).variant}},QC=function(e,n){var r=n.id,a=n.windowId;return{setCanvas:function(){return e(Qn.apply($n,arguments))}}},eT=function(e){return{label:{paddingLeft:e.spacing(1)},listItem:{borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:e.spacing(1)}}},tT=Pe(xe(eT),Le(),Ae(JC,QC),je("SidebarIndexList")),nT=tT(uf),lf=p.createContext({}),rT={root:{padding:0,margin:0,listStyle:"none"}};function aT(t,e){if(t.length!==e.length)return!0;for(var n=0;n<t.length;n+=1)if(t[n]!==e[n])return!0;return!1}var cf=function(e,n,r){for(var a=n;a<e.length;a+=1)if(r===e[a])return a;return-1},iT=[],oT=[],sT=p.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,o=e.defaultCollapseIcon,s=e.defaultEndIcon,u=e.defaultExpanded,l=u===void 0?iT:u,c=e.defaultExpandIcon,d=e.defaultParentIcon,f=e.defaultSelected,g=f===void 0?oT:f,v=e.disableSelection,m=v===void 0?!1:v,b=e.multiSelect,w=b===void 0?!1:b,h=e.expanded,I=e.onNodeSelect,y=e.onNodeToggle,E=e.selected,S=Br(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),C=p.useState(null),k=C[0],L=C[1],V=p.useState(null),ae=V[0],he=V[1],X=p.useRef({}),me=p.useRef({}),le=p.useRef([]),Ge=zr({controlled:h,default:l,name:"TreeView",state:"expanded"}),et=Ur(Ge,2),we=et[0],ke=et[1],qe=zr({controlled:E,default:g,name:"TreeView",state:"selected"}),oe=Ur(qe,2),ue=oe[0],J=oe[1],Oe=p.useCallback(function(G){return Array.isArray(we)?we.indexOf(G)!==-1:!1},[we]),R=p.useCallback(function(G){return Array.isArray(ue)?ue.indexOf(G)!==-1:ue===G},[ue]),A=function($){return k===$},x=function($){return ae===$},Z=function($){var N=le.current.indexOf($);return N!==-1&&N+1<le.current.length?le.current[N+1]:null},Q=function($){var N=le.current.indexOf($);return N!==-1&&N-1>=0?le.current[N-1]:null},te=function(){return le.current[le.current.length-1]},Ee=function(){return le.current[0]},_e=function($){return X.current[$].parent},Ke=function($,N){var K=le.current.indexOf($),re=le.current.indexOf(N),ee=Math.min(K,re),de=Math.max(K,re);return le.current.slice(ee,de+1)},Ze=function($){$&&(L($),he($))},He=function($){return Ze(Z($))},st=function($){return Ze(Q($))},at=function(){return Ze(Ee())},Dt=function(){return Ze(te())},rn=function($,N){var K,re,ee=N.toLowerCase(),de=[],Re=[];Object.keys(me.current).forEach(function(Te){var se=me.current[Te],Ht=X.current[Te],Yn=Ht.parent?Oe(Ht.parent):!0;Yn&&(de.push(Te),Re.push(se))}),K=de.indexOf($)+1,K===X.current.length&&(K=0),re=cf(Re,K,ee),re===-1&&(re=cf(Re,0,ee)),re>-1&&Ze(de[re])},vt=function($){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae,K;we.indexOf(N)!==-1?(K=we.filter(function(re){return re!==N}),L(function(re){var ee=X.current[re];return re&&(ee&&ee.parent?ee.parent.id:null)===N?N:re})):K=[N].concat(we),y&&y($,K),ke(K)},ut=function($,N){var K=X.current[N],re=X.current[K.parent],ee;if(re)ee=re.children.filter(function(Te){return!Oe(Te)});else{var de=X.current[-1].children;ee=de.filter(function(Te){return!Oe(Te)})}var Re=we.concat(ee);ee.length>0&&(ke(Re),y&&y($,Re))},Ye=p.useRef(null),We=p.useRef(!1),Xe=p.useRef([]),xt=function($,N){var K=ue,re=N.start,ee=N.next,de=N.current;!ee||!de||(Xe.current.indexOf(de)===-1&&(Xe.current=[]),We.current?Xe.current.indexOf(ee)!==-1?(K=K.filter(function(Re){return Re===re||Re!==de}),Xe.current=Xe.current.filter(function(Re){return Re===re||Re!==de})):(K.push(ee),Xe.current.push(ee)):(K.push(ee),Xe.current.push(de,ee)),I&&I($,K),J(K))},Ot=function($,N){var K=ue,re=N.start,ee=N.end;We.current&&(K=ue.filter(function(Te){return Xe.current.indexOf(Te)===-1}));var de=Ke(re,ee);Xe.current=de;var Re=K.concat(de);Re=Re.filter(function(Te,se){return Re.indexOf(Te)===se}),I&&I($,Re),J(Re)},Fe=function($,N){var K=[];ue.indexOf(N)!==-1?K=ue.filter(function(re){return re!==N}):K=[N].concat(ue),I&&I($,K),J(K)},it=function($,N){var K=w?[N]:N;I&&I($,K),J(K)},Nt=function($,N){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return N?(K?Fe($,N):it($,N),Ye.current=N,We.current=!1,Xe.current=[],!0):!1},De=function($,N){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,re=N.start,ee=re===void 0?Ye.current:re,de=N.end,Re=N.current;return K?xt($,{start:ee,next:de,current:Re}):Ot($,{start:ee,end:de}),We.current=!0,!0},B=function($,N){Ye.current||(Ye.current=N);var K=We.current?Ye.current:N;return De($,{start:K,end:Ee()})},Se=function($,N){Ye.current||(Ye.current=N);var K=We.current?Ye.current:N;return De($,{start:K,end:te()})},Be=function($,N){return De($,{end:Z(N),current:N},!0)},Lt=function($,N){return De($,{end:Q(N),current:N},!0)},wn=function($){return De($,{start:Ee(),end:te()})},tt=function($,N){var K=X.current[$];X.current[$]=H({},K,{children:N,id:$}),N.forEach(function(re){var ee=X.current[re];X.current[re]=H({},ee,{parent:$,id:re})})},Mt=p.useCallback(function(G){var $=X.current[G],N=[];return $&&(N.push(G),$.children&&(N.concat($.children),$.children.forEach(function(K){N.concat(Mt(K))}))),N},[]),dn=p.useCallback(function(G){var $=H({},me.current);G.forEach(function(N){$[N]&&delete $[N]}),me.current=$},[]),ce=p.useCallback(function(G){var $=Mt(G);dn($);var N=H({},X.current);$.forEach(function(K){var re=N[K];if(re){if(re.parent){var ee=N[re.parent];if(ee&&ee.children){var de=ee.children.filter(function(Re){return Re!==K});N[re.parent]=H({},ee,{children:de})}}delete N[K]}}),X.current=N,he(function(K){return K===G?null:K})},[Mt,dn]),fn=function($,N){me.current[$]=N},In=p.useRef([]),an=p.useState(!1),Ce=an[0],on=an[1];p.useEffect(function(){var G=[];p.Children.forEach(r,function($){p.isValidElement($)&&$.props.nodeId&&G.push($.props.nodeId)}),aT(In.current,G)&&(X.current[-1]={parent:null,children:G},G.forEach(function($,N){N===0&&L($)}),le.current=X.current[-1].children,In.current=G,on(!0))},[r]),p.useEffect(function(){var G=function $(N){for(var K=[],re=0;re<N.length;re+=1){var ee=N[re];K.push(ee);var de=X.current[ee].children;Oe(ee)&&de&&(K=K.concat($(de)))}return K};Ce&&(le.current=G(X.current[-1].children))},[we,Ce,Oe,r]);var Pt=function(){return!1};return p.createElement(lf.Provider,{value:{icons:{defaultCollapseIcon:o,defaultExpandIcon:c,defaultParentIcon:d,defaultEndIcon:s},focus:Ze,focusFirstNode:at,focusLastNode:Dt,focusNextNode:He,focusPreviousNode:st,focusByFirstCharacter:rn,expandAllSiblings:ut,toggleExpansion:vt,isExpanded:Oe,isFocused:x,isSelected:R,selectNode:m?Pt:Nt,selectRange:m?Pt:De,selectNextNode:m?Pt:Be,selectPreviousNode:m?Pt:Lt,rangeSelectToFirst:m?Pt:B,rangeSelectToLast:m?Pt:Se,selectAllNodes:m?Pt:wn,isTabbable:A,multiSelect:w,getParent:_e,mapFirstChar:fn,addNodeToNodeMap:tt,removeNodeFromNodeMap:ce}},p.createElement("ul",H({role:"tree","aria-multiselectable":w,className:$t(a.root,i),ref:n},S),r))}),uT=xe(rT,{name:"MuiTreeView"})(sT),lT=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");e.default=a}),df=nt(lT),cT=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");e.default=a}),dT=nt(cT),fT=function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:Go(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:Go(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},pT=function(e){return e&&e.length===1&&e.match(/\S/)},gT=p.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,o=e.collapseIcon,s=e.endIcon,u=e.expandIcon,l=e.icon,c=e.label,d=e.nodeId,f=e.onClick,g=e.onLabelClick,v=e.onIconClick,m=e.onFocus,b=e.onKeyDown,w=e.onMouseDown,h=e.TransitionComponent,I=h===void 0?ew:h,y=e.TransitionProps,E=Br(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),S=p.useContext(lf),C=S.icons,k=S.focus,L=S.focusFirstNode,V=S.focusLastNode,ae=S.focusNextNode,he=S.focusPreviousNode,X=S.focusByFirstCharacter,me=S.selectNode,le=S.selectRange,Ge=S.selectNextNode,et=S.selectPreviousNode,we=S.rangeSelectToFirst,ke=S.rangeSelectToLast,qe=S.selectAllNodes,oe=S.expandAllSiblings,ue=S.toggleExpansion,J=S.isExpanded,Oe=S.isFocused,R=S.isSelected,A=S.isTabbable,x=S.multiSelect,Z=S.getParent,Q=S.mapFirstChar,te=S.addNodeToNodeMap,Ee=S.removeNodeFromNodeMap,_e=p.useRef(null),Ke=p.useRef(null),Ze=Qb(_e,n),He=l,st=Boolean(Array.isArray(r)?r.length:r),at=J?J(d):!1,Dt=Oe?Oe(d):!1,rn=A?A(d):!1,vt=R?R(d):!1,ut=C||{},Ye=ey();He||(st?(at?He=o||ut.defaultCollapseIcon:He=u||ut.defaultExpandIcon,He||(He=ut.defaultParentIcon)):He=s||ut.defaultEndIcon);var We=function(B){Dt||k(d);var Se=x&&(B.shiftKey||B.ctrlKey||B.metaKey);st&&!B.defaultPrevented&&!(Se&&J(d))&&ue(B,d),Se?B.shiftKey?le(B,{end:d}):me(B,d,!0):me(B,d),f&&f(B)},Xe=function(B){(B.shiftKey||B.ctrlKey||B.metaKey)&&B.preventDefault(),w&&w(B)},xt=function(B){return st&&(at?ae(d):ue(B)),!0},Ot=function(B){if(at)return ue(B,d),!0;var Se=Z(d);return Se?(k(Se),!0):!1},Fe=function(B){var Se=!1,Be=B.key;if(!(B.altKey||B.currentTarget!==B.target)){var Lt=B.ctrlKey||B.metaKey;switch(Be){case" ":_e.current===B.currentTarget&&(x&&B.shiftKey?Se=le(B,{end:d}):x?Se=me(B,d,!0):Se=me(B,d)),B.stopPropagation();break;case"Enter":_e.current===B.currentTarget&&st&&(ue(B),Se=!0),B.stopPropagation();break;case"ArrowDown":x&&B.shiftKey&&Ge(B,d),ae(d),Se=!0;break;case"ArrowUp":x&&B.shiftKey&&et(B,d),he(d),Se=!0;break;case"ArrowRight":Ye.direction==="rtl"?Se=Ot(B):Se=xt(B);break;case"ArrowLeft":Ye.direction==="rtl"?Se=xt(B):Se=Ot(B);break;case"Home":x&&Lt&&B.shiftKey&&we(B,d),L(),Se=!0;break;case"End":x&&Lt&&B.shiftKey&&ke(B,d),V(),Se=!0;break;default:Be==="*"?(oe(B,d),Se=!0):x&&Lt&&Be.toLowerCase()==="a"?Se=qe(B):!Lt&&!B.shiftKey&&pT(Be)&&(X(d,Be),Se=!0)}Se&&(B.preventDefault(),B.stopPropagation()),b&&b(B)}},it=function(B){!Dt&&B.currentTarget===B.target&&k(d),m&&m(B)};p.useEffect(function(){if(te){var De=[];p.Children.forEach(r,function(B){p.isValidElement(B)&&B.props.nodeId&&De.push(B.props.nodeId)}),te(d,De)}},[r,d,te]),p.useEffect(function(){if(Ee)return function(){Ee(d)}},[d,Ee]),p.useEffect(function(){Q&&c&&Q(d,Ke.current.textContent.substring(0,1).toLowerCase())},[Q,d,c]),p.useEffect(function(){Dt&&_e.current.focus()},[Dt]);var Nt;return x?Nt=vt:vt&&(Nt=!0),p.createElement("li",H({className:$t(a.root,i,at&&a.expanded,vt&&a.selected),role:"treeitem",onKeyDown:Fe,onFocus:it,"aria-expanded":st?at:null,"aria-selected":Nt,ref:Ze,tabIndex:rn?0:-1},E),p.createElement("div",{className:a.content,onClick:We,onMouseDown:Xe,ref:Ke},p.createElement("div",{onClick:v,className:a.iconContainer},He),p.createElement(pe,{onClick:g,component:"div",className:a.label},c)),r&&p.createElement(I,H({unmountOnExit:!0,className:a.group,in:at,component:"ul",role:"group"},y),r))}),vT=xe(fT,{name:"MuiTreeItem"})(gT);function hT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bT(t,e,n){return e&&ff(t.prototype,e),n&&ff(t,n),t}function yT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ws(t,e)}function Ws(t,e){return Ws=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ws(t,e)}function wT(t){var e=OT();return function(){var r=yi(t),a;if(e){var i=yi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return IT(this,a)}}function IT(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ST(t)}function ST(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yi(t){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yi(t)}function ET(t){var e=t.data.__jsonld;if(e.startCanvas&&typeof e.startCanvas=="string")return e.startCanvas;if(e.start){if(e.start.type==="Canvas"&&typeof e.start.id=="string")return e.start.id;if(e.start.type==="SpecificResource"&&typeof e.start.source=="string")return e.start.source}return t.data.getCanvasIds()[0]}var CT=function(t){yT(n,t);var e=wT(n);function n(){return mT(this,n),e.apply(this,arguments)}return bT(n,[{key:"handleKeyPressed",value:function(a,i){var o=this.props,s=o.expandedNodeIds,u=o.toggleNode;(a.key==="Enter"||a.key===" "||a.key==="Spacebar")&&this.selectTreeItem(i),(a.key==="ArrowLeft"&&s.indexOf(i.id)!==-1||a.key==="ArrowRight"&&s.indexOf(i.id)===-1&&i.nodes.length>0)&&u(i.id)}},{key:"selectTreeItem",value:function(a){var i=this.props,o=i.setCanvas,s=i.toggleNode,u=i.windowId;if(a.nodes.length>0&&s(a.id),!(!a.data.getCanvasIds()||a.data.getCanvasIds().length===0||a.nodes.length>0)){var l=ET(a),c=l.indexOf("#")===-1?l:l.substr(0,l.indexOf("#"));o(u,c)}}},{key:"buildTreeItems",value:function(a,i,o,s){var u=this,l=this.props.classes;return a?a.map(function(c){return p.createElement(wr,{containerRef:o,key:"".concat(c.id,"-scroll"),offsetTop:96,scrollTo:s===c.id},p.createElement(vT,{key:c.id,nodeId:c.id,classes:{content:l.content,group:l.group,label:l.label,root:l.treeItemRoot,selected:l.selected},label:p.createElement("div",{className:$t(hT({},l.visibleNode,i.indexOf(c.id)!==-1))},c.label),onClick:function(){return u.selectTreeItem(c)},onKeyDown:function(f){return u.handleKeyPressed(f,c)}},c.nodes&&c.nodes.length>0?u.buildTreeItems(c.nodes,i,o,s):null))}):null}},{key:"render",value:function(){var a=this.props,i=a.classes,o=a.treeStructure,s=a.visibleNodeIds,u=a.expandedNodeIds,l=a.containerRef,c=a.nodeIdToScrollTo;return o?p.createElement(p.Fragment,null,p.createElement(uT,{className:i.root,defaultCollapseIcon:p.createElement(df,{color:"action"}),defaultExpandIcon:p.createElement(dT,{color:"action"}),defaultEndIcon:p.createElement(p.Fragment,null),expanded:u},this.buildTreeItems(o.nodes,s,l,c))):p.createElement(p.Fragment,null)}}]),n}(p.Component),TT=function(e,n){var r=n.id,a=n.windowId;return{expandedNodeIds:tw(e,{companionWindowId:r,windowId:a}),nodeIdToScrollTo:nw(e,{companionWindowId:r,windowId:a}),treeStructure:uc(e,{windowId:a}),visibleNodeIds:rw(e,{companionWindowId:r,windowId:a})}},PT=function(e,n){var r=n.id,a=n.windowId;return{setCanvas:function(){return e(Qn.apply($n,arguments))},toggleNode:function(o){return e(aw(a,r,o))}}},_T=function(e){return{content:{alignItems:"flex-start",borderLeft:"1px solid transparent",padding:"8px 16px 8px 0",width:"auto"},group:{borderLeft:"1px solid ".concat(e.palette.grey[300])},label:{paddingLeft:0},root:{flexGrow:1},selected:{},treeItemRoot:{"&:focus > $content":{backgroundColor:e.palette.action.selected},"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:hover >$content $label, &:focus > $content $label, &$selected > $content $label, &$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:"transparent"}},visibleNode:{backgroundColor:Zw.fade(e.palette.highlights.primary,.35),display:"inline"}}},RT=Pe(xe(_T),Le(),Ae(TT,PT),je("SidebarIndexTableOfContents")),AT=RT(CT);function kT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DT(t,e,n){return e&&pf(t.prototype,e),n&&pf(t,n),t}function xT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fs(t,e)}function Fs(t,e){return Fs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Fs(t,e)}function NT(t){var e=MT();return function(){var r=wi(t),a;if(e){var i=wi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return LT(this,a)}}function LT(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bs(t)}function Bs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wi(t)}var gf=function(t){xT(n,t);var e=NT(n);function n(r){var a;return kT(this,n),a=e.call(this,r),a.handleSequenceChange=a.handleSequenceChange.bind(Bs(a)),a.handleVariantChange=a.handleVariantChange.bind(Bs(a)),a.containerRef=p.createRef(),a}return DT(n,[{key:"handleSequenceChange",value:function(a){var i=this.props.updateSequence;i(a.target.value)}},{key:"handleVariantChange",value:function(a,i){var o=this.props.updateVariant;o(i)}},{key:"render",value:function(){var a=this.props,i=a.classes,o=a.collection,s=a.id,u=a.showMultipart,l=a.sequenceId,c=a.sequences,d=a.t,f=a.variant,g=a.showToc,v=a.windowId,m;return f==="tableOfContents"?m=p.createElement(AT,{id:s,containerRef:this.containerRef,windowId:v}):m=p.createElement(nT,{id:s,containerRef:this.containerRef,windowId:v}),p.createElement(jn,{title:d("canvasIndex"),id:s,windowId:v,ref:this.containerRef,otherRef:this.containerRef,titleControls:p.createElement(p.Fragment,null,c&&c.length>1&&p.createElement(Ic,null,p.createElement(Sc,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:l,onChange:this.handleSequenceChange,name:"sequenceId",classes:{select:i.select},className:i.selectEmpty},c.map(function(b,w){return p.createElement(fr,{value:b.id,key:b.id},p.createElement(pe,{variant:"body2"},n.getUseableLabel(b,w)))}))),p.createElement("div",{className:i.break}),p.createElement(iw,{value:f,onChange:this.handleVariantChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},g&&p.createElement(Hr,{title:d("tableOfContentsList"),value:"tableOfContents"},p.createElement(es,{className:i.variantTab,value:"tableOfContents","aria-label":d("tableOfContentsList"),"aria-controls":"tab-panel-".concat(s),icon:p.createElement(bC,{style:{transform:"scale(-1, 1)"}})})),p.createElement(Hr,{title:d("itemList"),value:"item"},p.createElement(es,{className:i.variantTab,value:"item","aria-label":d("itemList"),"aria-controls":"tab-panel-".concat(s),icon:p.createElement(hC,null)})),p.createElement(Hr,{title:d("thumbnailList"),value:"thumbnail"},p.createElement(es,{className:i.variantTab,value:"thumbnail","aria-label":d("thumbnailList"),"aria-controls":"tab-panel-".concat(s),icon:p.createElement(Kd,null)}))))},p.createElement("div",{id:"tab-panel-".concat(s)},o&&p.createElement(hr,{fullWidth:!0,onClick:u,endIcon:p.createElement(wC,null)},p.createElement(pe,{className:i.collectionNavigationButton},n.getUseableLabel(o))),m))}}],[{key:"getUseableLabel",value:function(a,i){return a&&a.getLabel&&a.getLabel().length>0?a.getLabel().getValue():a.id}}]),n}(p.Component);gf.defaultProps={collection:null,sequenceId:null,sequences:[],showToc:!1};var $T=function(e,n){var r=n.id,a=n.windowId,i=uc(e,{windowId:a}),o=Mn(e,{windowId:a}),s=e.config,u=Wr(e,{companionWindowId:r}),l=o.collectionPath||[],c=l&&l[l.length-1],d=ty(e,{windowId:a});return{collection:c&&gr(e,{manifestId:c}),config:s,sequenceId:d&&d.id,sequences:ny(e,{windowId:a}),showToc:i&&i.nodes&&i.nodes.length>0,variant:u.variant||Oc(e,{windowId:a})}},jT=function(e,n){var r=n.id,a=n.windowId;return{showMultipart:function(){return e(ow(a,{content:"collection",position:"right"}))},updateSequence:function(o){return e(Fa(a,{sequenceId:o}))},updateVariant:function(o){return e(Qo(a,r,{variant:o}))}}},WT=function(e){return{break:{flexBasis:"100%",height:0},collectionNavigationButton:{textTransform:"none"},label:{paddingLeft:e.spacing(1)},select:{"&:focus":{backgroundColor:e.palette.background.paper}},selectEmpty:{backgroundColor:e.palette.background.paper},variantTab:{minWidth:"auto"}}},FT=Pe(Le(),xe(WT),Ae($T,jT),je("WindowSideBarCanvasPanel")),BT=FT(gf),zT=function(e){return{root:{display:"block",backgroundColor:Go(e.palette.text.primary,e.palette.type==="light"?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}},UT=p.forwardRef(function(e,n){var r=e.animation,a=r===void 0?"pulse":r,i=e.classes,o=e.className,s=e.component,u=s===void 0?"span":s,l=e.height,c=e.variant,d=c===void 0?"text":c,f=e.width,g=Br(e,["animation","classes","className","component","height","variant","width"]),v=Boolean(g.children);return p.createElement(u,H({ref:n,className:$t(i.root,i[d],o,v&&[i.withChildren,!f&&i.fitContent,!l&&i.heightAuto],a!==!1&&i[a])},g,{style:H({width:f,height:l},g.style)}))}),Ir=xe(zT,{name:"MuiSkeleton"})(UT),vf=function(t){var e=t.decode,n=e===void 0?!0:e,r=t.crossOrigin,a=r===void 0?"":r;return function(i){return new Promise(function(o,s){var u=new Image;a&&(u.crossOrigin=a),u.onload=function(){n&&u.decode?u.decode().then(o).catch(s):o()},u.onerror=s,u.src=i})}};function hf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hf(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var HT=function(e){return e.filter(function(n){return n})},VT=function(e){return Array.isArray(e)?e:[e]},Wt={},GT=function(e,n){var r=!1;return new Promise(function(a,i){var o=function(u){return n(u).then(function(){r=!0,a(u)})};e.reduce(function(s,u){return s.catch(function(){if(!r)return o(u)})},o(e.shift())).catch(i)})};function qT(t){var e=t.srcList,n=t.imgPromise,r=n===void 0?vf({decode:!0}):n,a=t.useSuspense,i=a===void 0?!0:a,o=p.useState(!0),s=o[1],u=HT(VT(e)),l=u.join("");if(Wt[l]||(Wt[l]={promise:GT(u,r),cache:"pending",error:null}),Wt[l].promise.then(function(c){Wt[l]=Ii(Ii({},Wt[l]),{},{cache:"resolved",src:c}),i||s(!1)}).catch(function(c){Wt[l]=Ii(Ii({},Wt[l]),{},{cache:"rejected",error:c}),i||s(!1)}),Wt[l].cache==="resolved")return{src:Wt[l].src,isLoading:!1,error:null};if(Wt[l].cache==="rejected"){if(i)throw Wt[l].error;return{isLoading:!1,error:Wt[l].error,src:void 0}}if(i)throw Wt[l].promise;return{isLoading:!0,src:void 0,error:null}}var zs=function(e){return e};function mf(t){var e=t.decode,n=e===void 0?!0:e,r=t.src,a=r===void 0?[]:r,i=t.loader,o=i===void 0?null:i,s=t.unloader,u=s===void 0?null:s,l=t.container,c=l===void 0?zs:l,d=t.loaderContainer,f=d===void 0?zs:d,g=t.unloaderContainer,v=g===void 0?zs:g,m=t.imgPromise,b=t.crossorigin,w=t.useSuspense,h=w===void 0?!1:w,I=ay(t,["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"]);m=m||vf({decode:n,crossOrigin:b});var y=qT({srcList:a,imgPromise:m,useSuspense:h}),E=y.src,S=y.isLoading;return E?c(p.createElement("img",Object.assign({src:E},I))):!h&&S?f(o):!h&&u?v(u):null}function KT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZT(t,e,n){return e&&bf(t.prototype,e),n&&bf(t,n),t}function YT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Us(t,e)}function Us(t,e){return Us=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Us(t,e)}function XT(t){var e=eP();return function(){var r=Si(t),a;if(e){var i=Si(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return JT(this,a)}}function JT(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QT(t)}function QT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Si(t)}var yf=function(t){YT(n,t);var e=XT(n);function n(){return KT(this,n),e.apply(this,arguments)}return ZT(n,[{key:"render",value:function(){var a=this.props,i=a.manifestLogo,o=a.requiredStatement,s=a.rights,u=a.windowId,l=a.id,c=a.classes,d=a.t;return p.createElement(jn,{title:d("attributionTitle"),paperClassName:gn("attribution-panel"),windowId:u,id:l},p.createElement("div",{className:c.section},o&&p.createElement(ea,{labelValuePairs:o,defaultLabel:d("attribution")}),s&&s.length>0&&p.createElement("dl",{className:gn("label-value-metadata")},p.createElement(pe,{variant:"subtitle2",component:"dt"},d("rights")),s.map(function(f){return p.createElement(pe,{variant:"body1",component:"dd",key:f.toString()},p.createElement(Kr,{target:"_blank",rel:"noopener noreferrer",href:f},f))}))),i&&p.createElement("div",{className:c.section},p.createElement(mf,{src:[i],alt:"",role:"presentation",className:c.logo,unloader:p.createElement(Ir,{className:c.placeholder,variant:"rect",height:60,width:60})})),p.createElement(ta,this.props))}}]),n}(p.Component);yf.defaultProps={classes:{},manifestLogo:null,requiredStatement:null,rights:null,t:function(e){return e}};var tP=function(e,n){var r=n.id,a=n.windowId;return{manifestLogo:iy(e,{windowId:a}),requiredStatement:oy(e,{windowId:a}),rights:sy(e,{windowId:a})}},nP=function(e){return{logo:{maxWidth:"100%"},placeholder:{backgroundColor:e.palette.grey[300]},section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}},rP=Pe(xe(nP),Le(),Ae(tP),je("AttributionPanel")),aP=rP(yf);function iP(t){return function(e){return t==null?void 0:t[e]}}var oP=iP,sP={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uP=oP(sP),lP=uP,cP=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dP="\\u0300-\\u036f",fP="\\ufe20-\\ufe2f",pP="\\u20d0-\\u20ff",gP=dP+fP+pP,vP="["+gP+"]",hP=RegExp(vP,"g");function mP(t){return t=lc(t),t&&t.replace(cP,lP).replace(hP,"")}var Hs=mP,bP=function(){return uy.Date.now()},Vs=bP,yP="Expected a function",wP=Math.max,IP=Math.min;function SP(t,e,n){var r,a,i,o,s,u,l=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(yP);e=Ec(e)||0,Jn(n)&&(c=!!n.leading,d="maxWait"in n,i=d?wP(Ec(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function g(S){var C=r,k=a;return r=a=void 0,l=S,o=t.apply(k,C),o}function v(S){return l=S,s=setTimeout(w,e),c?g(S):o}function m(S){var C=S-u,k=S-l,L=e-C;return d?IP(L,i-k):L}function b(S){var C=S-u,k=S-l;return u===void 0||C>=e||C<0||d&&k>=i}function w(){var S=Vs();if(b(S))return h(S);s=setTimeout(w,m(S))}function h(S){return s=void 0,f&&r?g(S):(r=a=void 0,o)}function I(){s!==void 0&&clearTimeout(s),l=0,r=u=a=s=void 0}function y(){return s===void 0?o:h(Vs())}function E(){var S=Vs(),C=b(S);if(r=arguments,a=this,u=S,C){if(s===void 0)return v(u);if(d)return clearTimeout(s),s=setTimeout(w,e),g(u)}return s===void 0&&(s=setTimeout(w,e)),o}return E.cancel=I,E.flush=y,E}var wf=SP,If=cc(p.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),OP=cc(p.createElement("path",{d:"M7 10l5 5 5-5z"}));function Sf(t){return typeof t.normalize!="undefined"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function EP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.ignoreAccents,n=e===void 0?!0:e,r=t.ignoreCase,a=r===void 0?!0:r,i=t.limit,o=t.matchFrom,s=o===void 0?"any":o,u=t.stringify,l=t.trim,c=l===void 0?!1:l;return function(d,f){var g=f.inputValue,v=f.getOptionLabel,m=c?g.trim():g;a&&(m=m.toLowerCase()),n&&(m=Sf(m));var b=d.filter(function(w){var h=(u||v)(w);return a&&(h=h.toLowerCase()),n&&(h=Sf(h)),s==="start"?h.indexOf(m)===0:h.indexOf(m)>-1});return typeof i=="number"?b.slice(0,i):b}}function Gs(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}var CP=EP(),Of=5;function TP(t){var e=t.autoComplete,n=e===void 0?!1:e,r=t.autoHighlight,a=r===void 0?!1:r,i=t.autoSelect,o=i===void 0?!1:i,s=t.blurOnSelect,u=s===void 0?!1:s,l=t.clearOnBlur,c=l===void 0?!t.freeSolo:l,d=t.clearOnEscape,f=d===void 0?!1:d,g=t.componentName,v=g===void 0?"useAutocomplete":g,m=t.debug,b=m===void 0?!1:m,w=t.defaultValue,h=w===void 0?t.multiple?[]:null:w,I=t.disableClearable,y=I===void 0?!1:I,E=t.disableCloseOnSelect,S=E===void 0?!1:E,C=t.disabledItemsFocusable,k=C===void 0?!1:C,L=t.disableListWrap,V=L===void 0?!1:L,ae=t.filterOptions,he=ae===void 0?CP:ae,X=t.filterSelectedOptions,me=X===void 0?!1:X,le=t.freeSolo,Ge=le===void 0?!1:le,et=t.getOptionDisabled,we=t.getOptionLabel,ke=we===void 0?function(W){return W}:we,qe=t.getOptionSelected,oe=qe===void 0?function(W,M){return W===M}:qe,ue=t.groupBy,J=t.handleHomeEndKeys,Oe=J===void 0?!t.freeSolo:J,R=t.id,A=t.includeInputInList,x=A===void 0?!1:A,Z=t.inputValue,Q=t.multiple,te=Q===void 0?!1:Q,Ee=t.onChange,_e=t.onClose,Ke=t.onHighlightChange,Ze=t.onInputChange,He=t.onOpen,st=t.open,at=t.openOnFocus,Dt=at===void 0?!1:at,rn=t.options,vt=t.selectOnFocus,ut=vt===void 0?!t.freeSolo:vt,Ye=t.value,We=ly(R),Xe=ke,xt=p.useRef(!1),Ot=p.useRef(!0),Fe=p.useRef(null),it=p.useRef(null),Nt=p.useState(null),De=Nt[0],B=Nt[1],Se=p.useState(-1),Be=Se[0],Lt=Se[1],wn=a?0:-1,tt=p.useRef(wn),Mt=zr({controlled:Ye,default:h,name:v}),dn=Ur(Mt,2),ce=dn[0],fn=dn[1],In=zr({controlled:Z,default:"",name:v,state:"inputValue"}),an=Ur(In,2),Ce=an[0],on=an[1],Pt=p.useState(!1),G=Pt[0],$=Pt[1],N=Vr(function(W,M){var P;if(te)P="";else if(M==null)P="";else{var ne=Xe(M);P=typeof ne=="string"?ne:""}Ce!==P&&(on(P),Ze&&Ze(W,P,"reset"))});p.useEffect(function(){N(null,ce)},[ce,N]);var K=zr({controlled:st,default:!1,name:v,state:"open"}),re=Ur(K,2),ee=re[0],de=re[1],Re=!te&&ce!=null&&Ce===Xe(ce),Te=ee,se=Te?he(rn.filter(function(W){return!(me&&(te?ce:[ce]).some(function(M){return M!==null&&oe(W,M)}))}),{inputValue:Re?"":Ce,getOptionLabel:Xe}):[],Ht=Vr(function(W){W===-1?Fe.current.focus():De.querySelector('[data-tag-index="'.concat(W,'"]')).focus()});p.useEffect(function(){te&&Be>ce.length-1&&(Lt(-1),Ht(-1))},[ce,te,Be,Ht]);function Yn(W,M){if(!it.current||W===-1)return-1;for(var P=W;;){if(M==="next"&&P===se.length||M==="previous"&&P===-1)return-1;var ne=it.current.querySelector('[data-option-index="'.concat(P,'"]')),_t=k?!1:ne&&(ne.disabled||ne.getAttribute("aria-disabled")==="true");if(ne&&!ne.hasAttribute("tabindex")||_t)P+=M==="next"?1:-1;else return P}}var q=Vr(function(W){var M=W.event,P=W.index,ne=W.reason,_t=ne===void 0?"auto":ne;if(tt.current=P,P===-1?Fe.current.removeAttribute("aria-activedescendant"):Fe.current.setAttribute("aria-activedescendant","".concat(We,"-option-").concat(P)),Ke&&Ke(M,P===-1?null:se[P],_t),!!it.current){var Rt=it.current.querySelector("[data-focus]");Rt&&Rt.removeAttribute("data-focus");var ze=it.current.parentElement.querySelector('[role="listbox"]');if(!!ze){if(P===-1){ze.scrollTop=0;return}var Nn=it.current.querySelector('[data-option-index="'.concat(P,'"]'));if(!!Nn&&(Nn.setAttribute("data-focus","true"),ze.scrollHeight>ze.clientHeight&&_t!=="mouse")){var Gt=Nn,Nr=ze.clientHeight+ze.scrollTop,$a=Gt.offsetTop+Gt.offsetHeight;$a>Nr?ze.scrollTop=$a-ze.clientHeight:Gt.offsetTop-Gt.offsetHeight*(ue?1.3:0)<ze.scrollTop&&(ze.scrollTop=Gt.offsetTop-Gt.offsetHeight*(ue?1.3:0))}}}}),O=Vr(function(W){var M=W.event,P=W.diff,ne=W.direction,_t=ne===void 0?"next":ne,Rt=W.reason,ze=Rt===void 0?"auto":Rt;if(!!Te){var Nn=function(){var Lr=se.length-1;if(P==="reset")return wn;if(P==="start")return 0;if(P==="end")return Lr;var Mr=tt.current+P;return Mr<0?Mr===-1&&x?-1:V&&tt.current!==-1||Math.abs(P)>1?0:Lr:Mr>Lr?Mr===Lr+1&&x?-1:V||Math.abs(P)>1?Lr:0:Mr},Gt=Yn(Nn(),_t);if(q({index:Gt,reason:ze,event:M}),n&&P!=="reset")if(Gt===-1)Fe.current.value=Ce;else{var Nr=Xe(se[Gt]);Fe.current.value=Nr;var $a=Nr.toLowerCase().indexOf(Ce.toLowerCase());$a===0&&Ce.length>0&&Fe.current.setSelectionRange(Ce.length,Nr.length)}}}),D=p.useCallback(function(){if(!!Te){var W=te?ce[0]:ce;if(se.length===0||W==null){O({diff:"reset"});return}if(!!it.current){if(!me&&W!=null){var M=se[tt.current];if(te&&M&&Gs(ce,function(ne){return oe(M,ne)})!==-1)return;var P=Gs(se,function(ne){return oe(ne,W)});P===-1?O({diff:"reset"}):q({index:P});return}if(tt.current>=se.length-1){q({index:se.length-1});return}q({index:tt.current})}}},[se.length===0,te?!1:ce,me,O,q,Te,Ce,te]),U=Vr(function(W){cy(it,W),!!W&&D()});p.useEffect(function(){D()},[D]);var fe=function(M){ee||(de(!0),He&&He(M))},Ve=function(M,P){!ee||(de(!1),_e&&_e(M,P))},$e=function(M,P,ne,_t){ce!==P&&(Ee&&Ee(M,P,ne,_t),fn(P))},Je=p.useRef(!1),ht=function(M,P){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"select-option",_t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"options",Rt=ne,ze=P;if(te){ze=Array.isArray(ce)?ce.slice():[];var Nn=Gs(ze,function(Gt){return oe(P,Gt)});Nn===-1?ze.push(P):_t!=="freeSolo"&&(ze.splice(Nn,1),Rt="remove-option")}N(M,ze),$e(M,ze,Rt,{option:P}),S||Ve(M,Rt),(u===!0||u==="touch"&&Je.current||u==="mouse"&&!Je.current)&&Fe.current.blur()};function Vt(W,M){if(W===-1)return-1;for(var P=W;;){if(M==="next"&&P===ce.length||M==="previous"&&P===-1)return-1;var ne=De.querySelector('[data-tag-index="'.concat(P,'"]'));if(ne&&(!ne.hasAttribute("tabindex")||ne.disabled||ne.getAttribute("aria-disabled")==="true"))P+=M==="next"?1:-1;else return P}}var xn=function(M,P){if(!!te){Ve(M,"toggleInput");var ne=Be;Be===-1?Ce===""&&P==="previous"&&(ne=ce.length-1):(ne+=P==="next"?1:-1,ne<0&&(ne=0),ne===ce.length&&(ne=-1)),ne=Vt(ne,P),Lt(ne),Ht(ne)}},lr=function(M){xt.current=!0,on(""),Ze&&Ze(M,"","clear"),$e(M,te?[]:null,"clear")},Xn=function(M){return function(P){switch(Be!==-1&&["ArrowLeft","ArrowRight"].indexOf(P.key)===-1&&(Lt(-1),Ht(-1)),P.key){case"Home":Te&&Oe&&(P.preventDefault(),O({diff:"start",direction:"next",reason:"keyboard",event:P}));break;case"End":Te&&Oe&&(P.preventDefault(),O({diff:"end",direction:"previous",reason:"keyboard",event:P}));break;case"PageUp":P.preventDefault(),O({diff:-Of,direction:"previous",reason:"keyboard",event:P}),fe(P);break;case"PageDown":P.preventDefault(),O({diff:Of,direction:"next",reason:"keyboard",event:P}),fe(P);break;case"ArrowDown":P.preventDefault(),O({diff:1,direction:"next",reason:"keyboard",event:P}),fe(P);break;case"ArrowUp":P.preventDefault(),O({diff:-1,direction:"previous",reason:"keyboard",event:P}),fe(P);break;case"ArrowLeft":xn(P,"previous");break;case"ArrowRight":xn(P,"next");break;case"Enter":if(P.which===229)break;if(tt.current!==-1&&Te){var ne=se[tt.current],_t=et?et(ne):!1;if(P.preventDefault(),_t)return;ht(P,ne,"select-option"),n&&Fe.current.setSelectionRange(Fe.current.value.length,Fe.current.value.length)}else Ge&&Ce!==""&&Re===!1&&(te&&P.preventDefault(),ht(P,Ce,"create-option","freeSolo"));break;case"Escape":Te?(P.preventDefault(),P.stopPropagation(),Ve(P,"escape")):f&&(Ce!==""||te&&ce.length>0)&&(P.preventDefault(),P.stopPropagation(),lr(P));break;case"Backspace":if(te&&Ce===""&&ce.length>0){var Rt=Be===-1?ce.length-1:Be,ze=ce.slice();ze.splice(Rt,1),$e(P,ze,"remove-option",{option:ce[Rt]})}break}M.onKeyDown&&M.onKeyDown(P)}},jo=function(M){$(!0),Dt&&!xt.current&&fe(M)},Wo=function(M){if(it.current!==null&&document.activeElement===it.current.parentElement){Fe.current.focus();return}$(!1),Ot.current=!0,xt.current=!1,!(b&&Ce!=="")&&(o&&tt.current!==-1&&Te?ht(M,se[tt.current],"blur"):o&&Ge&&Ce!==""?ht(M,Ce,"blur","freeSolo"):c&&N(M,ce),Ve(M,"blur"))},cr=function(M){var P=M.target.value;Ce!==P&&(on(P),Ze&&Ze(M,P,"input")),P===""?!y&&!te&&$e(M,null,"clear"):fe(M)},sn=function(M){q({event:M,index:Number(M.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Da=function(){Je.current=!0},xa=function(M){var P=Number(M.currentTarget.getAttribute("data-option-index"));ht(M,se[P],"select-option"),Je.current=!1},Fo=function(M){return function(P){var ne=ce.slice();ne.splice(M,1),$e(P,ne,"remove-option",{option:ce[M]})}},Na=function(M){ee?Ve(M,"toggleInput"):fe(M)},Bo=function(M){M.target.getAttribute("id")!==We&&M.preventDefault()},La=function(){Fe.current.focus(),ut&&Ot.current&&Fe.current.selectionEnd-Fe.current.selectionStart==0&&Fe.current.select(),Ot.current=!1},Ma=function(M){(Ce===""||!ee)&&Na(M)},dr=Ge&&Ce.length>0;dr=dr||(te?ce.length>0:ce!==null);var mt=se;return ue&&(mt=se.reduce(function(W,M,P){var ne=ue(M);return W.length>0&&W[W.length-1].group===ne?W[W.length-1].options.push(M):W.push({key:P,index:P,group:ne,options:[M]}),W},[])),{getRootProps:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H({"aria-owns":Te?"".concat(We,"-popup"):null,role:"combobox","aria-expanded":Te},M,{onKeyDown:Xn(M),onMouseDown:Bo,onClick:La})},getInputLabelProps:function(){return{id:"".concat(We,"-label"),htmlFor:We}},getInputProps:function(){return{id:We,value:Ce,onBlur:Wo,onFocus:jo,onChange:cr,onMouseDown:Ma,"aria-activedescendant":Te?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Te?"".concat(We,"-popup"):null,autoComplete:"off",ref:Fe,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:lr}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:Na}},getTagProps:function(M){var P=M.index;return{key:P,"data-tag-index":P,tabIndex:-1,onDelete:Fo(P)}},getListboxProps:function(){return{role:"listbox",id:"".concat(We,"-popup"),"aria-labelledby":"".concat(We,"-label"),ref:U,onMouseDown:function(P){P.preventDefault()}}},getOptionProps:function(M){var P=M.index,ne=M.option,_t=(te?ce:[ce]).some(function(ze){return ze!=null&&oe(ne,ze)}),Rt=et?et(ne):!1;return{key:P,tabIndex:-1,role:"option",id:"".concat(We,"-option-").concat(P),onMouseOver:sn,onClick:xa,onTouchStart:Da,"data-option-index":P,"aria-disabled":Rt,"aria-selected":_t}},id:We,inputValue:Ce,value:ce,dirty:dr,popupOpen:Te,focused:G||Be!==-1,anchorEl:De,setAnchorEl:B,focusedTag:Be,groupedOptions:mt}}var PP=function(e){var n;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4+9},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4+9},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4+9},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4+9},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:H({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(n={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},vr(n,e.breakpoints.up("sm"),{minHeight:"auto"}),vr(n,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),vr(n,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),vr(n,"&:active",{backgroundColor:e.palette.action.selected}),vr(n,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),n),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}};function _P(t){var e=t.anchorEl,n=t.open,r=Br(t,["anchorEl","open"]);return p.createElement("div",r)}var RP=p.createElement(If,{fontSize:"small"}),AP=p.createElement(OP,null),kP=p.forwardRef(function(e,n){var r=e.autoComplete,a=e.autoHighlight,i=e.autoSelect,o=e.blurOnSelect,s=e.ChipProps,u=e.classes,l=e.className,c=e.clearOnBlur,d=c===void 0?!e.freeSolo:c,f=e.clearOnEscape,g=e.clearText,v=g===void 0?"Clear":g,m=e.closeIcon,b=m===void 0?RP:m,w=e.closeText,h=w===void 0?"Close":w,I=e.debug,y=e.defaultValue,E=y===void 0?e.multiple?[]:null:y,S=e.disableClearable,C=S===void 0?!1:S,k=e.disableCloseOnSelect,L=e.disabled,V=L===void 0?!1:L,ae=e.disabledItemsFocusable,he=e.disableListWrap,X=e.disablePortal,me=X===void 0?!1:X,le=e.filterOptions,Ge=e.filterSelectedOptions,et=e.forcePopupIcon,we=et===void 0?"auto":et,ke=e.freeSolo,qe=ke===void 0?!1:ke,oe=e.fullWidth,ue=oe===void 0?!1:oe,J=e.getLimitTagsText,Oe=J===void 0?function(mt){return"+".concat(mt)}:J,R=e.getOptionDisabled,A=e.getOptionLabel,x=A===void 0?function(mt){return mt}:A,Z=e.getOptionSelected,Q=e.groupBy,te=e.handleHomeEndKeys,Ee=te===void 0?!e.freeSolo:te,_e=e.id,Ke=e.includeInputInList,Ze=e.inputValue,He=e.limitTags,st=He===void 0?-1:He,at=e.ListboxComponent,Dt=at===void 0?"ul":at,rn=e.ListboxProps,vt=e.loading,ut=vt===void 0?!1:vt,Ye=e.loadingText,We=Ye===void 0?"Loading…":Ye,Xe=e.multiple,xt=Xe===void 0?!1:Xe,Ot=e.noOptionsText,Fe=Ot===void 0?"No options":Ot,it=e.onChange,Nt=e.onClose,De=e.onHighlightChange,B=e.onInputChange,Se=e.onOpen,Be=e.open,Lt=e.openOnFocus,wn=e.openText,tt=wn===void 0?"Open":wn,Mt=e.options,dn=e.PaperComponent,ce=dn===void 0?bc:dn,fn=e.PopperComponent,In=fn===void 0?dy:fn,an=e.popupIcon,Ce=an===void 0?AP:an,on=e.renderGroup,Pt=e.renderInput,G=e.renderOption,$=e.renderTags,N=e.selectOnFocus,K=N===void 0?!e.freeSolo:N,re=e.size,ee=re===void 0?"medium":re,de=e.value,Re=Br(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"]),Te=me?_P:In,se=TP(H({},e,{componentName:"Autocomplete"})),Ht=se.getRootProps,Yn=se.getInputProps,q=se.getInputLabelProps,O=se.getPopupIndicatorProps,D=se.getClearProps,U=se.getTagProps,fe=se.getListboxProps,Ve=se.getOptionProps,$e=se.value,Je=se.dirty,ht=se.id,Vt=se.popupOpen,xn=se.focused,lr=se.focusedTag,Xn=se.anchorEl,jo=se.setAnchorEl,Wo=se.inputValue,cr=se.groupedOptions,sn;if(xt&&$e.length>0){var Da=function(W){return H({className:$t(u.tag,ee==="small"&&u.tagSizeSmall),disabled:V},U(W))};$?sn=$($e,Da):sn=$e.map(function(mt,W){return p.createElement(Ha,H({label:x(mt),size:ee},Da({index:W}),s))})}if(st>-1&&Array.isArray(sn)){var xa=sn.length-st;!xn&&xa>0&&(sn=sn.splice(0,st),sn.push(p.createElement("span",{className:u.tag,key:sn.length},Oe(xa))))}var Fo=function(W){return p.createElement("li",{key:W.key},p.createElement(sw,{className:u.groupLabel,component:"div"},W.group),p.createElement("ul",{className:u.groupUl},W.children))},Na=on||Fo,Bo=G||x,La=function(W,M){var P=Ve({option:W,index:M});return p.createElement("li",H({},P,{className:u.option}),Bo(W,{selected:P["aria-selected"],inputValue:Wo}))},Ma=!C&&!V,dr=(!qe||we===!0)&&we!==!1;return p.createElement(p.Fragment,null,p.createElement("div",H({ref:n,className:$t(u.root,l,xn&&u.focused,ue&&u.fullWidth,Ma&&u.hasClearIcon,dr&&u.hasPopupIcon)},Ht(Re)),Pt({id:ht,disabled:V,fullWidth:!0,size:ee==="small"?"small":void 0,InputLabelProps:q(),InputProps:{ref:jo,className:u.inputRoot,startAdornment:sn,endAdornment:p.createElement("div",{className:u.endAdornment},Ma?p.createElement(dc,H({},D(),{"aria-label":v,title:v,className:$t(u.clearIndicator,Je&&u.clearIndicatorDirty)}),b):null,dr?p.createElement(dc,H({},O(),{disabled:V,"aria-label":Vt?h:tt,title:Vt?h:tt,className:$t(u.popupIndicator,Vt&&u.popupIndicatorOpen)}),Ce):null)},inputProps:H({className:$t(u.input,lr===-1&&u.inputFocused),disabled:V},Yn())})),Vt&&Xn?p.createElement(Te,{className:$t(u.popper,me&&u.popperDisablePortal),style:{width:Xn?Xn.clientWidth:null},role:"presentation",anchorEl:Xn,open:!0},p.createElement(ce,{className:u.paper},ut&&cr.length===0?p.createElement("div",{className:u.loading},We):null,cr.length===0&&!qe&&!ut?p.createElement("div",{className:u.noOptions},Fe):null,cr.length>0?p.createElement(Dt,H({className:u.listbox},fe(),rn),cr.map(function(mt,W){return Q?Na({key:mt.key,group:mt.group,children:mt.options.map(function(M,P){return La(M,mt.index+P)})}):La(mt,W)})):null)):null)}),DP=xe(PP,{name:"MuiAutocomplete"})(kP),xP=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchSharp");e.default=a}),Ef=nt(xP),NP=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"}),"ChevronLeftSharp");e.default=a}),LP=nt(NP),MP=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"}),"ChevronRightSharp");e.default=a}),$P=nt(MP);function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WP(t,e,n){return e&&Cf(t.prototype,e),n&&Cf(t,n),t}function FP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}function qs(t,e){return qs=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},qs(t,e)}function BP(t){var e=HP();return function(){var r=Oi(t),a;if(e){var i=Oi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return zP(this,a)}}function zP(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UP(t)}function UP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Oi(t)}var Tf=function(t){FP(n,t);var e=BP(n);function n(){return jP(this,n),e.apply(this,arguments)}return WP(n,[{key:"nextSearchResult",value:function(a){var i=this.props,o=i.searchHits,s=i.selectAnnotation;s(o[a+1].annotations[0])}},{key:"previousSearchResult",value:function(a){var i=this.props,o=i.searchHits,s=i.selectAnnotation;s(o[a-1].annotations[0])}},{key:"hasNextResult",value:function(a){var i=this.props.searchHits;return i.length===0?!1:a<i.length-1}},{key:"hasPreviousResult",value:function(a){var i=this.props.searchHits;return i.length===0?!1:a>0}},{key:"render",value:function(){var a=this,i=this.props,o=i.numTotal,s=i.searchHits,u=i.selectedContentSearchAnnotation,l=i.classes,c=i.t,d=i.direction,f=d==="rtl"?{transform:"rotate(180deg)"}:{},g=s.findIndex(function(m){return m.annotations.includes(u[0])}),v=s.length;return s.length<o&&(v+="+"),p.createElement(p.Fragment,null,s.length>0&&p.createElement(pe,{variant:"body2",align:"center",classes:l},p.createElement(er,{"aria-label":c("searchPreviousResult"),disabled:!this.hasPreviousResult(g),onClick:function(){return a.previousSearchResult(g)}},p.createElement(LP,{style:f})),p.createElement("span",{style:{unicodeBidi:"plaintext"}},c("pagination",{current:g+1,total:v})),p.createElement(er,{"aria-label":c("searchNextResult"),disabled:!this.hasNextResult(g),onClick:function(){return a.nextSearchResult(g)}},p.createElement($P,{style:f}))))}}]),n}(p.Component);Tf.defaultProps={classes:{},numTotal:void 0,searchHits:[],t:function(e){return e}};var VP=function(e,n){var r=n.companionWindowId,a=n.windowId;return{direction:fy(e),numTotal:Cc(e,{companionWindowId:r,windowId:a}),searchHits:Tc(e,{companionWindowId:r,windowId:a}),selectedContentSearchAnnotation:ts(e,{companionWindowId:r,windowId:a})}},GP=function(e,n){var r=n.windowId;return{selectAnnotation:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e(qr.apply($n,[r].concat(o)))}}},qP=function(e){return{body2:{marginLeft:"-16px",width:"100%"}}},KP=Pe(Ae(VP,GP),xe(qP),Le(),je("SearchPanelNavigation")),ZP=KP(Tf);function Pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pf(Object(n),!0).forEach(function(r){YP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JP(t,e,n){return e&&Rf(t.prototype,e),n&&Rf(t,n),t}function QP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ks(t,e)}function Ks(t,e){return Ks=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ks(t,e)}function e_(t){var e=n_();return function(){var r=Ei(t),a;if(e){var i=Ei(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return t_(this,a)}}function t_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nr(t)}function nr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ei(t){return Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ei(t)}var na=function(e){return Jn(e)?e.match:e},Af=function(t){QP(n,t);var e=e_(n);function n(r){var a;return XP(this,n),a=e.call(this,r),a.state={search:r.query,suggestions:[]},a.handleChange=a.handleChange.bind(nr(a)),a.submitSearch=a.submitSearch.bind(nr(a)),a.getSuggestions=a.getSuggestions.bind(nr(a)),a.selectItem=a.selectItem.bind(nr(a)),a.fetchAutocomplete=wf(a.fetchAutocomplete.bind(nr(a)),500),a.receiveAutocomplete=a.receiveAutocomplete.bind(nr(a)),a}return JP(n,[{key:"componentDidUpdate",value:function(a){var i=this.props.query;i!==a.query&&this.setState({search:i})}},{key:"handleChange",value:function(a,i,o){o==="reset"&&!i||(this.setState({search:i,suggestions:[]}),i&&this.fetchAutocomplete(i))}},{key:"getSuggestions",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.showEmpty,s=o===void 0?!1:o,u=this.state.suggestions,l=Hs(a.trim()).toLowerCase(),c=l.length;return c===0&&!s?[]:u}},{key:"fetchAutocomplete",value:function(a){var i=this.props.autocompleteService;!i||!a||fetch("".concat(i.id,"?q=").concat(a)).then(function(o){return o.json()}).then(this.receiveAutocomplete)}},{key:"receiveAutocomplete",value:function(a){this.setState({suggestions:a.terms})}},{key:"submitSearch",value:function(a){var i=this.props,o=i.companionWindowId,s=i.fetchSearch,u=i.searchService,l=i.windowId,c=this.state.search;a&&a.preventDefault(),!!c&&s(l,o,"".concat(u.id,"?q=").concat(c),c)}},{key:"selectItem",value:function(a,i,o){i&&na(i)&&this.setState({search:na(i)},this.submitSearch)}},{key:"render",value:function(){var a=this.props,i=a.classes,o=a.companionWindowId,s=a.searchIsFetching,u=a.t,l=a.windowId,c=this.state,d=c.search,f=c.suggestions,g="search-".concat(o);return p.createElement(p.Fragment,null,p.createElement("form",{onSubmit:this.submitSearch,className:i.form},p.createElement(DP,{id:g,inputValue:d,options:f,getOptionLabel:na,getOptionSelected:function(m,b){return Hs(na(m).trim()).toLowerCase()===Hs(na(b).trim()).toLowerCase()},noOptionsText:"",onChange:this.selectItem,onInputChange:this.handleChange,freeSolo:!0,renderInput:function(m){return p.createElement(uw,Object.assign({},m,{label:u("searchInputLabel"),InputProps:_f(_f({},m.InputProps),{},{endAdornment:p.createElement("div",{className:i.endAdornment},p.createElement(er,{"aria-label":u("searchSubmitAria"),type:"submit"},p.createElement(Ef,null)),Boolean(s)&&p.createElement(lw,{className:i.searchProgress,size:50}))})}))}})),p.createElement(ZP,{windowId:l,companionWindowId:o}))}}]),n}(p.Component);Af.defaultProps={autocompleteService:void 0,classes:{},query:"",t:function(e){return e}};var r_=function(e,n){var r=n.companionWindowId,a=n.windowId;return{autocompleteService:py(e,{windowId:a}),query:ns(e,{companionWindowId:r,windowId:a}),searchIsFetching:Pc(e,{companionWindowId:r,windowId:a}),searchService:qo(e,{windowId:a})}},a_={fetchSearch:Va},i_=function(e){return{endAdornment:{position:"absolute",right:0},form:{paddingBottom:e.spacing(1),paddingRight:e.spacing(1.5),width:"100%"},searchProgress:{position:"absolute",right:0}}},o_=Pe(Ae(r_,a_),xe(i_),Le(),je("SearchPanelControls")),s_=o_(Af),u_=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackSharp");e.default=a}),kf=nt(u_),l_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"},ra=function(e){var n=e.message,r=e["aria-live"];return p.createElement("div",{style:l_,role:"log","aria-live":r},n||"")};ra.propTypes={};function c_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Df(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function d_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xf=function(t){d_(e,t);function e(){var n,r,a;c_(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=(n=(r=Df(this,t.call.apply(t,[this].concat(o))),r),r.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:!1,setAlternateAssertive:!1},n),Df(r,a)}return e.getDerivedStateFromProps=function(r,a){var i=a.oldPolitemessage,o=a.oldPoliteMessageId,s=a.oldAssertiveMessage,u=a.oldAssertiveMessageId,l=r.politeMessage,c=r.politeMessageId,d=r.assertiveMessage,f=r.assertiveMessageId;return i!==l||o!==c?{politeMessage1:a.setAlternatePolite?"":l,politeMessage2:a.setAlternatePolite?l:"",oldPolitemessage:l,oldPoliteMessageId:c,setAlternatePolite:!a.setAlternatePolite}:s!==d||u!==f?{assertiveMessage1:a.setAlternateAssertive?"":d,assertiveMessage2:a.setAlternateAssertive?d:"",oldAssertiveMessage:d,oldAssertiveMessageId:f,setAlternateAssertive:!a.setAlternateAssertive}:null},e.prototype.render=function(){var r=this.state,a=r.assertiveMessage1,i=r.assertiveMessage2,o=r.politeMessage1,s=r.politeMessage2;return p.createElement("div",null,p.createElement(ra,{"aria-live":"assertive",message:a}),p.createElement(ra,{"aria-live":"assertive",message:i}),p.createElement(ra,{"aria-live":"polite",message:o}),p.createElement(ra,{"aria-live":"polite",message:s}))},e}(p.Component);xf.propTypes={};var Nf=p.createContext({announceAssertive:Lf,announcePolite:Lf});function Lf(){console.warn("Announcement failed, LiveAnnouncer context is missing")}function f_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function g_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v_=function(t){g_(e,t);function e(n){f_(this,e);var r=p_(this,t.call(this,n));return r.announcePolite=function(a,i){r.setState({announcePoliteMessage:a,politeMessageId:i||""})},r.announceAssertive=function(a,i){r.setState({announceAssertiveMessage:a,assertiveMessageId:i||""})},r.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:r.announcePolite,announceAssertive:r.announceAssertive}},r}return e.prototype.render=function(){var r=this.state,a=r.announcePoliteMessage,i=r.politeMessageId,o=r.announceAssertiveMessage,s=r.assertiveMessageId,u=r.updateFunctions;return p.createElement(Nf.Provider,{value:u},this.props.children,p.createElement(xf,{assertiveMessage:o,assertiveMessageId:s,politeMessage:a,politeMessageId:i}))},e}(p.Component);function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function m_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b_=function(t){m_(e,t);function e(){var n,r,a;h_(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=(n=(r=Mf(this,t.call.apply(t,[this].concat(o))),r),r.announce=function(){var u=r.props,l=u.message,c=u["aria-live"],d=u.announceAssertive,f=u.announcePolite;c==="assertive"&&d(l||"",_c()),c==="polite"&&f(l||"",_c())},n),Mf(r,a)}return e.prototype.componentDidMount=function(){this.announce()},e.prototype.componentDidUpdate=function(r){var a=this.props.message;a!==r.message&&this.announce()},e.prototype.componentWillUnmount=function(){var r=this.props,a=r.clearOnUnmount,i=r.announceAssertive,o=r.announcePolite;(a===!0||a==="true")&&(i(""),o(""))},e.prototype.render=function(){return null},e}(p.Component);b_.propTypes={};var $f=function(e){var n=e.children;return p.createElement(Nf.Consumer,null,function(r){return n(r)})};$f.propTypes={};function y_(t){return O_(t)||S_(t)||I_(t)||w_()}function w_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_(t,e){if(!!t){if(typeof t=="string")return Zs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zs(t,e)}}function S_(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O_(t){if(Array.isArray(t))return Zs(t)}function Zs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C_(t,e,n){return e&&jf(t.prototype,e),n&&jf(t,n),t}var Wf=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.maxChars,i=a===void 0?200:a,o=r.minimum,s=o===void 0?20:o;E_(this,t),this.hit=e,this.annotation=n,this.maxChars=i||200,this.minimum=s||20}return C_(t,[{key:"match",get:function(){return this.hit.match||this.annotation&&this.annotation.resource.resource.chars||"-"}},{key:"charsOnSide",get:function(){var n=(this.maxChars-this.match.length)/2,r=[(this.hit.before||"").length,(this.hit.after||"").length].filter(function(a){return a>0});return Math.max(Math.min.apply(Math,[n].concat(y_(r))),this.minimum)}},{key:"before",get:function(){return this.hit.before?this.hit.before.substring(this.hit.before.length-this.charsOnSide,this.hit.before.length):""}},{key:"after",get:function(){return this.hit.after?this.hit.after.substring(0,Math.min(this.hit.after.length,this.charsOnSide)):""}}]),t}();function Ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P_(t,e,n){return e&&Ff(t.prototype,e),n&&Ff(t,n),t}function __(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ys(t,e)}function Ys(t,e){return Ys=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ys(t,e)}function R_(t){var e=k_();return function(){var r=Ti(t),a;if(e){var i=Ti(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return A_(this,a)}}function A_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bf(t)}function Bf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ti(t){return Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ti(t)}var zf=function(t){__(n,t);var e=R_(n);function n(r){var a;return T_(this,n),a=e.call(this,r),a.handleClick=a.handleClick.bind(Bf(a)),a}return P_(n,[{key:"componentDidMount",value:function(){var a=this.props.selected;a&&this.announceHit()}},{key:"componentDidUpdate",value:function(a){var i=this.props.selected;i&&i!==a.selected&&this.announceHit()}},{key:"handleClick",value:function(){var a=this.props,i=a.annotation,o=a.annotationId,s=a.selectAnnotation;i&&o&&s(o)}},{key:"announceHit",value:function(){var a=this.props,i=a.annotation,o=a.annotationLabel,s=a.announcer,u=a.canvasLabel,l=a.hit,c=a.index,d=a.t,f=a.total;if(!!l){var g=new Wf(l,i);s([d("pagination",{current:c+1,total:f}),u,o,g.before,g.match,g.after].join(" "))}}},{key:"render",value:function(){var a,i=this.props,o=i.adjacent,s=i.annotation,u=i.annotationLabel,l=i.canvasLabel,c=i.classes,d=i.companionWindowId,f=i.containerRef,g=i.hit,v=i.focused,m=i.index,b=i.showDetails,w=i.selected,h=i.t,I=i.windowSelected;if(v&&!w)return null;var y=v?g:g&&new Wf(g,s),E=g&&y.before!==g.before&&y.after!==g.after,S="".concat(d,"-").concat(m);return p.createElement(wr,{containerRef:f,offsetTop:96,scrollTo:I&&!v},p.createElement(Ko,{className:$t(c.listItem,(a={},Ci(a,c.adjacent,o),Ci(a,c.selected,w),Ci(a,c.focused,v),Ci(a,c.windowSelected,I),a)),button:!w,component:"li",onClick:this.handleClick,selected:w},p.createElement(Fr,{primaryTypographyProps:{variant:"body1"}},p.createElement(pe,{variant:"subtitle2",className:c.subtitle},p.createElement(Ha,{component:"span",label:m+1,className:c.hitCounter}),p.createElement("span",{id:S},l)),u&&p.createElement(pe,{variant:"subtitle2"},u),g&&p.createElement(p.Fragment,null,p.createElement(_n,{ruleSet:"iiif",htmlString:y.before})," ",p.createElement("strong",null,p.createElement(_n,{ruleSet:"iiif",htmlString:y.match}))," ",p.createElement(_n,{ruleSet:"iiif",htmlString:y.after})," ",E&&!v&&p.createElement(hr,{className:c.inlineButton,onClick:b,color:"secondary",size:"small","aria-describedby":S},h("more"))),!g&&s&&p.createElement(_n,{ruleSet:"iiif",htmlString:s.chars}))))}}]),n}(p.Component);zf.defaultProps={adjacent:!1,annotation:void 0,annotationId:void 0,annotationLabel:void 0,canvasLabel:void 0,classes:{},companionWindowId:void 0,containerRef:void 0,focused:!1,hit:void 0,index:void 0,selectAnnotation:function(){},selected:!1,showDetails:function(){},t:function(e){return e},total:void 0,windowSelected:!1};function Uf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uf(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_(t){return $_(t)||M_(t)||L_(t)||N_()}function N_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_(t,e){if(!!t){if(typeof t=="string")return Xs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(t,e)}}function M_(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $_(t){if(Array.isArray(t))return Xs(t)}function Xs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j_=function(e,n){var r=n.annotationId,a=n.hit,i=a===void 0?{annotations:[]}:a,o=n.companionWindowId,s=n.windowId,u=r||i.annotations[0],l=cw(e,{annotationUri:u,companionWindowId:o,windowId:s}),c=dw(e,{annotationUri:u,companionWindowId:o,windowId:s}),d=pr(e,{windowId:s}),f=ts(e,{companionWindowId:o,windowId:s}),g=wc(e,{windowId:s}),v=[r].concat(x_(i.annotations));return{adjacent:d.includes(l.targetId),annotation:l,annotationId:u,annotationLabel:c[0],canvasLabel:l&&ja(e,{canvasId:l.targetId,windowId:s}),selected:f[0]&&v.includes(f[0]),windowSelected:g&&v.includes(g)}},W_=function(e,n){var r=n.windowId;return{selectAnnotation:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e(qr.apply($n,[r].concat(o)))}}},F_=function(e){return{adjacent:{},focused:{},hitCounter:Hf(Hf({},e.typography.subtitle2),{},{backgroundColor:e.palette.hitCounter.default,height:30,marginRight:e.spacing(1),verticalAlign:"inherit"}),inlineButton:{"& span":{lineHeight:"1.5em"},margin:0,padding:0,textTransform:"none"},listItem:{"&$adjacent":{"& $hitCounter":{backgroundColor:e.palette.highlights.secondary},"&$windowSelected":{"& $hitCounter":{backgroundColor:e.palette.highlights.primary}}},"&$windowSelected":{"& $hitCounter":{backgroundColor:e.palette.highlights.primary},"&$focused":{"&:hover":{backgroundColor:"inherit"},backgroundColor:"inherit"}},borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:8},selected:{},subtitle:{marginBottom:e.spacing(1.5)},windowSelected:{}}},B_=Pe(Ae(j_,W_),xe(F_),Le(),je("SearchHit")),Vf=B_(zf);function z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U_(t,e,n){return e&&Gf(t.prototype,e),n&&Gf(t,n),t}function H_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Js(t,e)}function Js(t,e){return Js=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Js(t,e)}function V_(t){var e=q_();return function(){var r=Pi(t),a;if(e){var i=Pi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return G_(this,a)}}function G_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qf(t)}function qf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pi(t)}var Kf=function(t){H_(n,t);var e=V_(n);function n(r){var a;return z_(this,n),a=e.call(this,r),a.state={focused:!1},a.toggleFocus=a.toggleFocus.bind(qf(a)),a}return U_(n,[{key:"toggleFocus",value:function(){var a=this.state.focused;this.setState({focused:!a})}},{key:"renderSearchHitsAndAnnotations",value:function(a){var i=this,o=this.props,s=o.companionWindowId,u=o.containerRef,l=o.searchAnnotations,c=o.searchHits,d=o.windowId,f=this.state.focused;return c.length===0&&l.length>0?l.map(function(g,v){return p.createElement(Vf,{announcer:a,annotationId:g.id,companionWindowId:s,containerRef:u,key:g.id,focused:f,index:v,total:l.length,windowId:d,showDetails:i.toggleFocus})}):c.map(function(g,v){return p.createElement(Vf,{announcer:a,containerRef:u,companionWindowId:s,key:g.annotations[0],focused:f,hit:g,index:v,total:c.length,windowId:d,showDetails:i.toggleFocus})})}},{key:"render",value:function(){var a=this,i=this.props,o=i.classes,s=i.companionWindowId,u=i.containerRef,l=i.isFetching,c=i.fetchSearch,d=i.nextSearch,f=i.query,g=i.searchAnnotations,v=i.searchHits,m=i.searchNumTotal,b=i.t,w=i.windowId,h=this.state.focused,I=f&&!l&&v.length===0&&g.length===0;return p.createElement(p.Fragment,null,h&&p.createElement(wr,{containerRef:u,offsetTop:96,scrollTo:!0},p.createElement(hr,{onClick:this.toggleFocus,className:o.navigation,size:"small"},p.createElement(kf,null),b("backToResults"))),I&&p.createElement(pe,{className:o.noResults},b("searchNoResults")),p.createElement(rs,{disablePadding:!0},p.createElement($f,null,function(y){var E=y.announcePolite;return a.renderSearchHitsAndAnnotations(E)})),d&&p.createElement(hr,{className:o.moreButton,color:"secondary",onClick:function(){return c(w,s,d,f)}},b("moreResults"),p.createElement("br",null),"(".concat(b("searchResultsRemaining",{numLeft:m-v.length}),")")))}}]),n}(p.Component);Kf.defaultProps={classes:{},containerRef:void 0,isFetching:!1,nextSearch:void 0,query:void 0,searchAnnotations:[],searchHits:[],searchNumTotal:void 0,t:function(e){return e}};function Zf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zf(Object(n),!0).forEach(function(r){K_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z_=function(e,n){var r=n.companionWindowId,a=n.windowId;return{isFetching:Pc(e,{companionWindowId:r,windowId:a}),nextSearch:fw(e,{companionWindowId:r,windowId:a}),query:ns(e,{companionWindowId:r,windowId:a}),searchAnnotations:Rc(e,{companionWindowId:r,windowId:a}),searchHits:Tc(e,{companionWindowId:r,windowId:a}),searchNumTotal:Cc(e,{companionWindowId:r,windowId:a})}},Y_={fetchSearch:Va},X_=function(e){return{moreButton:{width:"100%"},navigation:{textTransform:"none"},noResults:Qs(Qs({},e.typography.h6),{},{padding:e.spacing(2)}),toggleFocus:Qs({},e.typography.subtitle1)}},J_=Pe(Ae(Z_,Y_),xe(X_),Le(),je("SearchResults")),Q_=J_(Kf);function eR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tR(t,e,n){return e&&Yf(t.prototype,e),n&&Yf(t,n),t}function nR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eu(t,e)}function eu(t,e){return eu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},eu(t,e)}function rR(t){var e=oR();return function(){var r=_i(t),a;if(e){var i=_i(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return aR(this,a)}}function aR(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iR(t)}function iR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oR(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _i(t){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_i(t)}var Xf=function(t){nR(n,t);var e=rR(n);function n(r){var a;return eR(this,n),a=e.call(this,r),a.containerRef=p.createRef(),a}return tR(n,[{key:"render",value:function(){var a=this.props,i=a.classes,o=a.fetchSearch,s=a.windowId,u=a.id,l=a.query,c=a.removeSearch,d=a.searchService,f=a.suggestedSearches,g=a.t;return p.createElement(jn,{ariaLabel:g("searchTitle"),title:p.createElement(p.Fragment,null,g("searchTitle"),l&&l!==""&&p.createElement(Ha,{className:i.clearChip,color:"secondary",label:g("clearSearch"),onClick:c,onDelete:c,size:"small",variant:"outlined"})),windowId:s,id:u,titleControls:p.createElement(s_,{companionWindowId:u,windowId:s}),ref:this.containerRef},p.createElement(Q_,{containerRef:this.containerRef,companionWindowId:u,windowId:s}),o&&f&&l===""&&f.map(function(v){return p.createElement(pe,{component:"p",key:v,variant:"body1"},p.createElement(hr,{className:i.inlineButton,color:"secondary",onClick:function(){return o("".concat(d.id,"?q=").concat(v),v)}},g("suggestSearch",{query:v})))}))}}]),n}(p.Component);Xf.defaultProps={classes:{},fetchSearch:void 0,query:"",suggestedSearches:[],t:function(e){return e}};var sR=function(e,n){var r=n.id,a=n.windowId;return{query:ns(e,{companionWindowId:r,windowId:a}),searchService:qo(e,{windowId:a}),suggestedSearches:Mn(e,{windowId:a}).suggestedSearches}},uR=function(e,n){return{fetchSearch:function(a,i){return e(Va(n.windowId,n.id,a,i))},removeSearch:function(){return e(pw(n.windowId,n.id))}}},lR=function(e){return{clearChip:{marginLeft:e.spacing(1)},inlineButton:{"& span":{lineHeight:"1.5em"},margin:e.spacing(2),padding:0,textAlign:"inherit",textTransform:"none"}}},cR=Pe(Ae(sR,uR),xe(lR),Le(),je("SearchPanel")),dR=cR(Xf),fR=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandleSharp");e.default=a}),pR=nt(fR),gR=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}),"VerticalAlignTopSharp");e.default=a}),vR=nt(gR),hR=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"}),"OpacitySharp");e.default=a}),mR=nt(hR);function bR(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Jf(t,e){var n=p.useState(function(){return{inputs:e,result:t()}})[0],r=p.useRef(!0),a=p.useRef(n),i=r.current||Boolean(e&&a.current.inputs&&bR(e,a.current.inputs)),o=i?a.current:{inputs:e,result:t()};return p.useEffect(function(){r.current=!1,a.current=o},[o]),o.result}function yR(t,e){return Jf(function(){return t},e)}var Ie=Jf,Y=yR,wR="Invariant failed";function IR(t,e){if(!t)throw new Error(wR)}var ln=function(e){var n=e.top,r=e.right,a=e.bottom,i=e.left,o=r-i,s=a-n,u={top:n,right:r,bottom:a,left:i,width:o,height:s,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return u},tu=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},Qf=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},SR=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},nu={top:0,right:0,bottom:0,left:0},ru=function(e){var n=e.borderBox,r=e.margin,a=r===void 0?nu:r,i=e.border,o=i===void 0?nu:i,s=e.padding,u=s===void 0?nu:s,l=ln(tu(n,a)),c=ln(Qf(n,o)),d=ln(Qf(c,u));return{marginBox:l,borderBox:ln(n),paddingBox:c,contentBox:d,margin:a,border:o,padding:u}},Yt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&IR(!1),a},OR=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ri=function(e,n){var r=e.borderBox,a=e.border,i=e.margin,o=e.padding,s=SR(r,n);return ru({borderBox:s,border:a,margin:i,padding:o})},Ai=function(e,n){return n===void 0&&(n=OR()),Ri(e,n)},ep=function(e,n){var r={top:Yt(n.marginTop),right:Yt(n.marginRight),bottom:Yt(n.marginBottom),left:Yt(n.marginLeft)},a={top:Yt(n.paddingTop),right:Yt(n.paddingRight),bottom:Yt(n.paddingBottom),left:Yt(n.paddingLeft)},i={top:Yt(n.borderTopWidth),right:Yt(n.borderRightWidth),bottom:Yt(n.borderBottomWidth),left:Yt(n.borderLeftWidth)};return ru({borderBox:e,margin:r,padding:a,border:i})},tp=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return ep(n,r)},aa=function(e){var n=[],r=null,a=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];n=s,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return a.cancel=function(){!r||(cancelAnimationFrame(r),r=null)},a};function np(t,e){}var nz=np.bind(null,"warn"),rz=np.bind(null,"error");function Fn(){}function ER(t,e){return H({},t,{},e)}function Xt(t,e,n){var r=e.map(function(a){var i=ER(n,a.options);return t.addEventListener(a.eventName,a.fn,i),function(){t.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(function(i){i()})}}var CR="Invariant failed";function ki(t){this.message=t}ki.prototype.toString=function(){return this.message};function j(t,e){if(!t)throw new ki(CR)}var TR=function(t){Ho(e,t);function e(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,r.callbacks=null,r.unbind=Fn,r.onWindowError=function(s){var u=r.getCallbacks();u.isDragging()&&u.tryAbort();var l=s.error;l instanceof ki&&s.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(s){r.callbacks=s},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Xt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof ki){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(p.Component),PR=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Di=function(e){return e+1},_R=function(e){return`
  You have lifted an item in position `+Di(e.source.index)+`
`},rp=function(e,n){var r=e.droppableId===n.droppableId,a=Di(e.index),i=Di(n.index);return r?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},ap=function(e,n,r){var a=n.droppableId===r.droppableId;return a?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},RR=function(e){var n=e.destination;if(n)return rp(e.source,n);var r=e.combine;return r?ap(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},ip=function(e){return`
  The item has returned to its starting position
  of `+Di(e.index)+`
`},AR=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+ip(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+rp(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+ap(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+ip(e.source)+`
  `},xi={dragHandleUsageInstructions:PR,onDragStart:_R,onDragUpdate:RR,onDragEnd:AR},ft={x:0,y:0},bt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Ft=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Bn=function(e,n){return e.x===n.x&&e.y===n.y},Sr=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},rr=function(e,n,r){var a;return r===void 0&&(r=0),a={},a[e]=n,a[e==="x"?"y":"x"]=r,a},ia=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},op=function(e,n){return Math.min.apply(Math,n.map(function(r){return ia(e,r)}))},sp=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},kR=function(t,e){var n=ln({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},oa=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},up=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},DR={top:0,right:0,bottom:0,left:0},xR=function(e,n){return n?oa(e,n.scroll.diff.displacement):e},NR=function(e,n,r){if(r&&r.increasedBy){var a;return H({},e,(a={},a[n.end]=e[n.end]+r.increasedBy[n.line],a))}return e},LR=function(e,n){return n&&n.shouldClipSubject?kR(n.pageMarginBox,e):ln(e)},Or=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,a=t.frame,i=xR(e.marginBox,a),o=NR(i,r,n),s=LR(o,a);return{page:e,withPlaceholder:n,active:s}},au=function(t,e){t.frame||j(!1);var n=t.frame,r=Ft(e,n.scroll.initial),a=Sr(r),i=H({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:a},max:n.scroll.max}}),o=Or({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i}),s=H({},t,{frame:i,subject:o});return s};function Ni(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function iu(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function zn(t,e){if(t.find)return t.find(e);var n=iu(t,e);if(n!==-1)return t[n]}function lp(t){return Array.prototype.slice.call(t)}var cp=rt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),dp=rt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Li=rt(function(t){return Ni(t)}),MR=rt(function(t){return Ni(t)}),Er=rt(function(t,e){var n=MR(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,a){return r.descriptor.index-a.descriptor.index});return n});function ou(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Mi(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var $i=rt(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),$R=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,a=t.insideDestination,i=t.previousImpact;if(!r.isCombineEnabled)return null;var o=ou(i);if(!o)return null;function s(m){var b={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return H({},i,{at:b})}var u=i.displaced.all,l=u.length?u[0]:null;if(e)return l?s(l):null;var c=$i(n,a);if(!l){if(!c.length)return null;var d=c[c.length-1];return s(d.descriptor.id)}var f=iu(c,function(m){return m.descriptor.id===l});f===-1&&j(!1);var g=f-1;if(g<0)return null;var v=c[g];return s(v.descriptor.id)},Cr=function(t,e){return t.descriptor.droppableId===e.descriptor.id},fp={point:ft,value:0},sa={invisible:{},visible:{},all:[]},jR={displaced:sa,displacedBy:fp,at:null},Jt=function(t,e){return function(n){return t<=n&&n<=e}},pp=function(t){var e=Jt(t.top,t.bottom),n=Jt(t.left,t.right);return function(r){var a=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(a)return!0;var i=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right),s=i&&o;if(s)return!0;var u=r.top<t.top&&r.bottom>t.bottom,l=r.left<t.left&&r.right>t.right,c=u&&l;if(c)return!0;var d=u&&o||l&&i;return d}},WR=function(t){var e=Jt(t.top,t.bottom),n=Jt(t.left,t.right);return function(r){var a=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return a}},su={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},gp={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},FR=function(t){return function(e){var n=Jt(e.top,e.bottom),r=Jt(e.left,e.right);return function(a){return t===su?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)}}},BR=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:ft;return oa(e,r)},zR=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},UR=function(e,n,r){return r(n)(e)},uu=function(e){var n=e.target,r=e.destination,a=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,s=i?BR(n,r):n;return zR(s,r,o)&&UR(s,a,o)},HR=function(e){return uu(H({},e,{isVisibleThroughFrameFn:pp}))},vp=function(e){return uu(H({},e,{isVisibleThroughFrameFn:WR}))},VR=function(e){return uu(H({},e,{isVisibleThroughFrameFn:FR(e.destination.axis)}))},GR=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[e])return!1;var o=i[e];return o?o.shouldAnimate:!0};function qR(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return ln(tu(n,r))}function ua(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,a=t.viewport,i=t.forceShouldAnimate,o=t.last;return e.reduce(function(u,l){var c=qR(l,r),d=l.descriptor.id;u.all.push(d);var f=HR({target:c,destination:n,viewport:a,withDroppableDisplacement:!0});if(!f)return u.invisible[l.descriptor.id]=!0,u;var g=GR(d,o,i),v={draggableId:d,shouldAnimate:g};return u.visible[d]=v,u},{all:[],visible:{},invisible:{}})}function KR(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function hp(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,a=t.destination,i=KR(e,{inHomeList:n});return{displaced:sa,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function ji(t){var e=t.draggable,n=t.insideDestination,r=t.destination,a=t.viewport,i=t.displacedBy,o=t.last,s=t.index,u=t.forceShouldAnimate,l=Cr(e,r);if(s==null)return hp({insideDestination:n,inHomeList:l,displacedBy:i,destination:r});var c=zn(n,function(m){return m.descriptor.index===s});if(!c)return hp({insideDestination:n,inHomeList:l,displacedBy:i,destination:r});var d=$i(e,n),f=n.indexOf(c),g=d.slice(f),v=ua({afterDragging:g,destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:u});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Un(t,e){return Boolean(e.effected[t])}var ZR=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,a=t.combine,i=t.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,s=r[o],u=s.descriptor.index,l=Un(o,i);return l?e?u:u-1:e?u+1:u},YR=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,a=t.location;if(!r.length)return null;var i=a.index,o=e?i+1:i-1,s=r[0].descriptor.index,u=r[r.length-1].descriptor.index,l=n?u:u+1;return o<s||o>l?null:o},XR=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,a=t.draggables,i=t.destination,o=t.insideDestination,s=t.previousImpact,u=t.viewport,l=t.afterCritical,c=s.at;if(c||j(!1),c.type==="REORDER"){var d=YR({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:o});return d==null?null:ji({draggable:r,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=ZR({isMovingForward:e,destination:i,displaced:s.displaced,draggables:a,combine:c.combine,afterCritical:l});return f==null?null:ji({draggable:r,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:f})},JR=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,a=t.displacedBy,i=Boolean(e.visible[r]||e.invisible[r]);return Un(r,n)?i?ft:Sr(a.point):i?a.point:ft},QR=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,a=Mi(n);a||j(!1);var i=a.draggableId,o=r[i].page.borderBox.center,s=JR({displaced:n.displaced,afterCritical:e,combineWith:i,displacedBy:n.displacedBy});return bt(o,s)},mp=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},eA=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},lu=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},bp=function(e){var n=e.axis,r=e.moveRelativeTo,a=e.isMoving;return rr(n.line,r.marginBox[n.end]+mp(n,a),lu(n,r.marginBox,a))},yp=function(e){var n=e.axis,r=e.moveRelativeTo,a=e.isMoving;return rr(n.line,r.marginBox[n.start]-eA(n,a),lu(n,r.marginBox,a))},tA=function(e){var n=e.axis,r=e.moveInto,a=e.isMoving;return rr(n.line,r.contentBox[n.start]+mp(n,a),lu(n,r.contentBox,a))},nA=function(t){var e=t.impact,n=t.draggable,r=t.draggables,a=t.droppable,i=t.afterCritical,o=Er(a.descriptor.id,r),s=n.page,u=a.axis;if(!o.length)return tA({axis:u,moveInto:a.page,isMoving:s});var l=e.displaced,c=e.displacedBy,d=l.all[0];if(d){var f=r[d];if(Un(d,i))return yp({axis:u,moveRelativeTo:f.page,isMoving:s});var g=Ri(f.page,c.point);return yp({axis:u,moveRelativeTo:g,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Un(v.descriptor.id,i)){var m=Ri(v.page,Sr(i.displacedBy.point));return bp({axis:u,moveRelativeTo:m,isMoving:s})}return bp({axis:u,moveRelativeTo:v.page,isMoving:s})},cu=function(t,e){var n=t.frame;return n?bt(e,n.scroll.diff.displacement):e},rA=function(e){var n=e.impact,r=e.draggable,a=e.droppable,i=e.draggables,o=e.afterCritical,s=r.page.borderBox.center,u=n.at;return!a||!u?s:u.type==="REORDER"?nA({impact:n,draggable:r,draggables:i,droppable:a,afterCritical:o}):QR({impact:n,draggables:i,afterCritical:o})},Wi=function(t){var e=rA(t),n=t.droppable,r=n?cu(n,e):e;return r},wp=function(t,e){var n=Ft(e,t.scroll.initial),r=Sr(n),a=ln({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),i={frame:a,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return i};function Ip(t,e){return t.map(function(n){return e[n]})}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var iA=function(t){var e=t.impact,n=t.viewport,r=t.destination,a=t.draggables,i=t.maxScrollChange,o=wp(n,bt(n.scroll.current,i)),s=r.frame?au(r,bt(r.frame.scroll.current,i)):r,u=e.displaced,l=ua({afterDragging:Ip(u.all,a),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),c=ua({afterDragging:Ip(u.all,a),destination:s,displacedBy:e.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),d={},f={},g=[u,l,c];u.all.forEach(function(m){var b=aA(m,g);if(b){f[m]=b;return}d[m]=!0});var v=H({},e,{displaced:{all:u.all,invisible:d,visible:f}});return v},oA=function(t,e){return bt(t.scroll.diff.displacement,e)},du=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,a=oA(r,e),i=Ft(a,n.page.borderBox.center);return bt(n.client.borderBox.center,i)},Sp=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,a=t.viewport,i=t.withDroppableDisplacement,o=t.onlyOnMainAxis,s=o===void 0?!1:o,u=Ft(r,e.page.borderBox.center),l=oa(e.page.borderBox,u),c={target:l,destination:n,withDroppableDisplacement:i,viewport:a};return s?VR(c):vp(c)},sA=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,a=t.draggables,i=t.previousImpact,o=t.viewport,s=t.previousPageBorderBoxCenter,u=t.previousClientSelection,l=t.afterCritical;if(!r.isEnabled)return null;var c=Er(r.descriptor.id,a),d=Cr(n,r),f=$R({isMovingForward:e,draggable:n,destination:r,insideDestination:c,previousImpact:i})||XR({isMovingForward:e,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!f)return null;var g=Wi({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:l}),v=Sp({draggable:n,destination:r,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var m=du({pageBorderBoxCenter:g,draggable:n,viewport:o});return{clientSelection:m,impact:f,scrollJumpRequest:null}}var b=Ft(g,s),w=iA({impact:f,viewport:o,destination:r,draggables:a,maxScrollChange:b});return{clientSelection:u,impact:w,scrollJumpRequest:b}},Ct=function(e){var n=e.subject.active;return n||j(!1),n},uA=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,a=t.droppables,i=t.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,u=Jt(o[s.start],o[s.end]),l=Li(a).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return Boolean(d.subject.active)}).filter(function(d){return pp(i.frame)(Ct(d))}).filter(function(d){var f=Ct(d);return e?o[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(d){var f=Ct(d),g=Jt(f[s.start],f[s.end]);return u(f[s.start])||u(f[s.end])||g(o[s.start])||g(o[s.end])}).sort(function(d,f){var g=Ct(d)[s.crossAxisStart],v=Ct(f)[s.crossAxisStart];return e?g-v:v-g}).filter(function(d,f,g){return Ct(d)[s.crossAxisStart]===Ct(g[0])[s.crossAxisStart]});if(!l.length)return null;if(l.length===1)return l[0];var c=l.filter(function(d){var f=Jt(Ct(d)[s.start],Ct(d)[s.end]);return f(n[s.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,f){return Ct(d)[s.start]-Ct(f)[s.start]})[0]:l.sort(function(d,f){var g=op(n,up(Ct(d))),v=op(n,up(Ct(f)));return g!==v?g-v:Ct(d)[s.start]-Ct(f)[s.start]})[0]},Op=function(e,n){var r=e.page.borderBox.center;return Un(e.descriptor.id,n)?Ft(r,n.displacedBy.point):r},lA=function(e,n){var r=e.page.borderBox;return Un(e.descriptor.id,n)?oa(r,Sr(n.displacedBy.point)):r},cA=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,a=t.insideDestination,i=t.afterCritical,o=a.filter(function(s){return vp({target:lA(s,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(s,u){var l=ia(e,cu(r,Op(s,i))),c=ia(e,cu(r,Op(u,i)));return l<c?-1:c<l?1:s.descriptor.index-u.descriptor.index});return o[0]||null},la=rt(function(e,n){var r=n[e.line];return{value:r,point:rr(e.line,r)}}),dA=function(e,n,r){var a=e.axis;if(e.descriptor.mode==="virtual")return rr(a.line,n[a.line]);var i=e.subject.page.contentBox[a.size],o=Er(e.descriptor.id,r),s=o.reduce(function(c,d){return c+d.client.marginBox[a.size]},0),u=s+n[a.line],l=u-i;return l<=0?null:rr(a.line,l)},Ep=function(e,n){return H({},e,{scroll:H({},e.scroll,{max:n})})},Cp=function(e,n,r){var a=e.frame;Cr(n,e)&&j(!1),e.subject.withPlaceholder&&j(!1);var i=la(e.axis,n.displaceBy).point,o=dA(e,i,r),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){var u=Or({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return H({},e,{subject:u})}var l=o?bt(a.scroll.max,o):a.scroll.max,c=Ep(a,l),d=Or({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return H({},e,{subject:d,frame:c})},fA=function(e){var n=e.subject.withPlaceholder;n||j(!1);var r=e.frame;if(!r){var a=Or({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return H({},e,{subject:a})}var i=n.oldFrameMaxScroll;i||j(!1);var o=Ep(r,i),s=Or({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return H({},e,{subject:s,frame:o})},pA=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,a=t.draggable,i=t.draggables,o=t.destination,s=t.viewport,u=t.afterCritical;if(!n){if(r.length)return null;var l={displaced:sa,displacedBy:fp,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=Wi({impact:l,draggable:a,droppable:o,draggables:i,afterCritical:u}),d=Cr(a,o)?o:Cp(o,a,i),f=Sp({draggable:a,destination:d,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?l:null}var g=Boolean(e[o.axis.line]<=n.page.borderBox.center[o.axis.line]),v=function(){var b=n.descriptor.index;return n.descriptor.id===a.descriptor.id||g?b:b+1}(),m=la(o.axis,a.displaceBy);return ji({draggable:a,insideDestination:r,destination:o,viewport:s,displacedBy:m,last:sa,index:v})},gA=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,a=t.isOver,i=t.draggables,o=t.droppables,s=t.viewport,u=t.afterCritical,l=uA({isMovingForward:e,pageBorderBoxCenter:n,source:a,droppables:o,viewport:s});if(!l)return null;var c=Er(l.descriptor.id,i),d=cA({pageBorderBoxCenter:n,viewport:s,destination:l,insideDestination:c,afterCritical:u}),f=pA({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:u});if(!f)return null;var g=Wi({impact:f,draggable:r,droppable:l,draggables:i,afterCritical:u}),v=du({pageBorderBoxCenter:g,draggable:r,viewport:s});return{clientSelection:v,impact:f,scrollJumpRequest:null}},Bt=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},vA=function(e,n){var r=Bt(e);return r?n[r]:null},hA=function(t){var e=t.state,n=t.type,r=vA(e.impact,e.dimensions.droppables),a=Boolean(r),i=e.dimensions.droppables[e.critical.droppable.id],o=r||i,s=o.axis.direction,u=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(u&&!a)return null;var l=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,g=f.draggables,v=f.droppables;return u?sA({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:g,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gA({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:g,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function ar(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Tp(t){var e=Jt(t.top,t.bottom),n=Jt(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function mA(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function bA(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,a=n.page.borderBox.center,i=r.map(function(o){var s=o.axis,u=rr(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:ia(a,u)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function yA(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,a=Li(r).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!mA(e,o))return!1;if(Tp(o)(e.center))return!0;var s=i.axis,u=o.center[s.crossAxisLine],l=e[s.crossAxisStart],c=e[s.crossAxisEnd],d=Jt(o[s.crossAxisStart],o[s.crossAxisEnd]),f=d(l),g=d(c);return!f&&!g?!0:f?l<u:c>u});return a.length?a.length===1?a[0].descriptor.id:bA({pageBorderBox:e,draggable:n,candidates:a}):null}var Pp=function(e,n){return ln(oa(e,n))},wA=function(t,e){var n=t.frame;return n?Pp(e,n.scroll.diff.value):e};function _p(t){var e=t.displaced,n=t.id;return Boolean(e.visible[n]||e.invisible[n])}function IA(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var SA=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,a=t.insideDestination,i=t.last,o=t.viewport,s=t.afterCritical,u=r.axis,l=la(r.axis,n.displaceBy),c=l.value,d=e[u.start],f=e[u.end],g=$i(n,a),v=zn(g,function(b){var w=b.descriptor.id,h=b.page.borderBox.center[u.line],I=Un(w,s),y=_p({displaced:i,id:w});return I?y?f<=h:d<h-c:y?f<=h+c:d<h}),m=IA({draggable:n,closest:v,inHomeList:Cr(n,r)});return ji({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:l,index:m})},OA=4,EA=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,a=t.destination,i=t.insideDestination,o=t.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,u=la(a.axis,e.displaceBy),l=u.value,c=n[s.start],d=n[s.end],f=$i(e,i),g=zn(f,function(m){var b=m.descriptor.id,w=m.page.borderBox,h=w[s.size],I=h/OA,y=Un(b,o),E=_p({displaced:r.displaced,id:b});return y?E?d>w[s.start]+I&&d<w[s.end]-I:c>w[s.start]-l+I&&c<w[s.end]-l-I:E?d>w[s.start]+l+I&&d<w[s.end]+l-I:c>w[s.start]+I&&c<w[s.end]-I});if(!g)return null;var v={displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:a.descriptor.id}}};return v},Rp=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,a=t.droppables,i=t.previousImpact,o=t.viewport,s=t.afterCritical,u=Pp(n.page.borderBox,e),l=yA({pageBorderBox:u,draggable:n,droppables:a});if(!l)return jR;var c=a[l],d=Er(c.descriptor.id,r),f=wA(c,u);return EA({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:i,destination:c,insideDestination:d,afterCritical:s})||SA({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:i.displaced,viewport:o,afterCritical:s})},fu=function(t,e){var n;return H({},t,(n={},n[e.descriptor.id]=e,n))},CA=function(e){var n=e.previousImpact,r=e.impact,a=e.droppables,i=Bt(n),o=Bt(r);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var u=fA(s);return fu(a,u)},TA=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,a=t.previousImpact,i=t.impact,o=CA({previousImpact:a,impact:i,droppables:r}),s=Bt(i);if(!s)return o;var u=r[s];if(Cr(e,u)||u.subject.withPlaceholder)return o;var l=Cp(u,e,n);return fu(o,l)},ca=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,a=t.viewport,i=t.impact,o=t.scrollJumpRequest,s=a||e.viewport,u=r||e.dimensions,l=n||e.current.client.selection,c=Ft(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:bt(e.initial.client.borderBoxCenter,c)},f={selection:bt(d.selection,s.scroll.current),borderBoxCenter:bt(d.borderBoxCenter,s.scroll.current),offset:bt(d.offset,s.scroll.diff.value)},g={client:d,page:f};if(e.phase==="COLLECTING")return H({phase:"COLLECTING"},e,{dimensions:u,viewport:s,current:g});var v=u.draggables[e.critical.draggable.id],m=i||Rp({pageOffset:f.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),b=TA({draggable:v,impact:m,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables}),w=H({},e,{current:g,dimensions:{draggables:u.draggables,droppables:b},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return w};function PA(t,e){return t.map(function(n){return e[n]})}var Ap=function(t){var e=t.impact,n=t.viewport,r=t.draggables,a=t.destination,i=t.forceShouldAnimate,o=e.displaced,s=PA(o.all,r),u=ua({afterDragging:s,destination:a,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return H({},e,{displaced:u})},kp=function(t){var e=t.impact,n=t.draggable,r=t.droppable,a=t.draggables,i=t.viewport,o=t.afterCritical,s=Wi({impact:e,draggable:n,draggables:a,droppable:r,afterCritical:o});return du({pageBorderBoxCenter:s,draggable:n,viewport:i})},Dp=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&j(!1);var a=e.impact,i=r||e.viewport,o=n||e.dimensions,s=o.draggables,u=o.droppables,l=s[e.critical.draggable.id],c=Bt(a);c||j(!1);var d=u[c],f=Ap({impact:a,viewport:i,destination:d,draggables:s}),g=kp({impact:f,draggable:l,droppable:d,draggables:s,viewport:i,afterCritical:e.afterCritical});return ca({impact:f,clientSelection:g,state:e,dimensions:o,viewport:i})},_A=function(t){return{index:t.index,droppableId:t.droppableId}},xp=function(t){var e=t.draggable,n=t.home,r=t.draggables,a=t.viewport,i=la(n.axis,e.displaceBy),o=Er(n.descriptor.id,r),s=o.indexOf(e);s===-1&&j(!1);var u=o.slice(s+1),l=u.reduce(function(g,v){return g[v.descriptor.id]=!0,g},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:l},d=ua({afterDragging:u,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:i,at:{type:"REORDER",destination:_A(e.descriptor)}};return{impact:f,afterCritical:c}},RA=function(t,e){return{draggables:t.draggables,droppables:fu(t.droppables,e)}},AA=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,a=Ri(e.client,n),i=Ai(a,r),o=H({},e,{placeholder:H({},e.placeholder,{client:a}),client:a,page:i});return o},kA=function(t){var e=t.frame;return e||j(!1),e},DA=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,a=r.scroll.diff.value;return e.map(function(i){var o=i.descriptor.droppableId,s=n[o],u=kA(s),l=u.scroll.diff.value,c=bt(a,l),d=AA({draggable:i,offset:c,initialWindowScroll:r.scroll.initial});return d})},xA=function(t){var e=t.state,n=t.published,r=n.modified.map(function(I){var y=e.dimensions.droppables[I.droppableId],E=au(y,I.scroll);return E}),a=H({},e.dimensions.droppables,{},cp(r)),i=dp(DA({additions:n.additions,updatedDroppables:a,viewport:e.viewport})),o=H({},e.dimensions.draggables,{},i);n.removals.forEach(function(I){delete o[I]});var s={droppables:a,draggables:o},u=Bt(e.impact),l=u?s.droppables[u]:null,c=s.draggables[e.critical.draggable.id],d=s.droppables[e.critical.droppable.id],f=xp({draggable:c,home:d,draggables:o,viewport:e.viewport}),g=f.impact,v=f.afterCritical,m=l&&l.isCombineEnabled?e.impact:g,b=Rp({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:e.viewport,afterCritical:v}),w=H({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:b,onLiftImpact:g,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return w;var h=H({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return h},pu=function(e){return e.movementMode==="SNAP"},gu=function(e,n,r){var a=RA(e.dimensions,n);return!pu(e)||r?ca({state:e,dimensions:a}):Dp({state:e,dimensions:a})};function vu(t){return t.isDragging&&t.movementMode==="SNAP"?H({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var Np={phase:"IDLE",completed:null,shouldFlush:!1},NA=function(t,e){if(t===void 0&&(t=Np),e.type==="FLUSH")return H({},Np,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&j(!1);var n=e.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,s=n.movementMode,u=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:a,borderBoxCenter:u.client.borderBox.center,offset:ft},d={client:c,page:{selection:bt(c.selection,i.scroll.initial),borderBoxCenter:bt(c.selection,i.scroll.initial),offset:bt(c.selection,i.scroll.diff.value)}},f=Li(o.droppables).every(function(Ee){return!Ee.isFixedOnPage}),g=xp({draggable:u,home:l,draggables:o.draggables,viewport:i}),v=g.impact,m=g.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:v,afterCritical:m,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&j(!1);var w=H({phase:"COLLECTING"},t,{phase:"COLLECTING"});return w}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||j(!1),xA({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ar(t)||j(!1);var h=e.payload.client;return Bn(h,t.current.client.selection)?t:ca({state:t,clientSelection:h,impact:pu(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return vu(t);ar(t)||j(!1);var I=e.payload,y=I.id,E=I.newScroll,S=t.dimensions.droppables[y];if(!S)return t;var C=au(S,E);return gu(t,C,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ar(t)||j(!1);var k=e.payload,L=k.id,V=k.isEnabled,ae=t.dimensions.droppables[L];ae||j(!1),ae.isEnabled===V&&j(!1);var he=H({},ae,{isEnabled:V});return gu(t,he,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ar(t)||j(!1);var X=e.payload,me=X.id,le=X.isCombineEnabled,Ge=t.dimensions.droppables[me];Ge||j(!1),Ge.isCombineEnabled===le&&j(!1);var et=H({},Ge,{isCombineEnabled:le});return gu(t,et,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ar(t)||j(!1),t.isWindowScrollAllowed||j(!1);var we=e.payload.newScroll;if(Bn(t.viewport.scroll.current,we))return vu(t);var ke=wp(t.viewport,we);return pu(t)?Dp({state:t,viewport:ke}):ca({state:t,viewport:ke})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ar(t))return t;var qe=e.payload.maxScroll;if(Bn(qe,t.viewport.scroll.max))return t;var oe=H({},t.viewport,{scroll:H({},t.viewport.scroll,{max:qe})});return H({phase:"DRAGGING"},t,{viewport:oe})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&j(!1);var ue=hA({state:t,type:e.type});return ue?ca({state:t,impact:ue.impact,clientSelection:ue.clientSelection,scrollJumpRequest:ue.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var J=e.payload.reason;t.phase!=="COLLECTING"&&j(!1);var Oe=H({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:J});return Oe}if(e.type==="DROP_ANIMATE"){var R=e.payload,A=R.completed,x=R.dropDuration,Z=R.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||j(!1);var Q={phase:"DROP_ANIMATING",completed:A,dropDuration:x,newHomeClientOffset:Z,dimensions:t.dimensions};return Q}if(e.type==="DROP_COMPLETE"){var te=e.payload.completed;return{phase:"IDLE",completed:te,shouldFlush:!1}}return t},LA=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},MA=function(e){return{type:"LIFT",payload:e}},$A=function(e){return{type:"INITIAL_PUBLISH",payload:e}},jA=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},WA=function(){return{type:"COLLECTION_STARTING",payload:null}},FA=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},BA=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},zA=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Lp=function(e){return{type:"MOVE",payload:e}},UA=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},HA=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},VA=function(){return{type:"MOVE_UP",payload:null}},GA=function(){return{type:"MOVE_DOWN",payload:null}},qA=function(){return{type:"MOVE_RIGHT",payload:null}},KA=function(){return{type:"MOVE_LEFT",payload:null}},hu=function(){return{type:"FLUSH",payload:null}},ZA=function(e){return{type:"DROP_ANIMATE",payload:e}},mu=function(e){return{type:"DROP_COMPLETE",payload:e}},Mp=function(e){return{type:"DROP",payload:e}},YA=function(e){return{type:"DROP_PENDING",payload:e}},$p=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},XA=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,u=o.clientSelection,l=o.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(mu({completed:c.completed})),n().phase!=="IDLE"&&j(!1),r(hu()),r(LA({draggableId:s,movementMode:l}));var d={shouldPublishImmediately:l==="SNAP"},f={draggableId:s,scrollOptions:d},g=t.startPublishing(f),v=g.critical,m=g.dimensions,b=g.viewport;r($A({critical:v,dimensions:m,clientSelection:u,movementMode:l,viewport:b}))}}}},JA=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},bu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},da={opacity:{drop:0,combining:.7},scale:{drop:.75}},yu={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ir=yu.outOfTheWay+"s "+bu.outOfTheWay,fa={fluid:"opacity "+ir,snap:"transform "+ir+", opacity "+ir,drop:function(e){var n=e+"s "+bu.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+ir,placeholder:"height "+ir+", width "+ir+", margin "+ir},jp=function(e){return Bn(e,ft)?null:"translate("+e.x+"px, "+e.y+"px)"},wu={moveTo:jp,drop:function(e,n){var r=jp(e);return r?n?r+" scale("+da.scale.drop+")":r:null}},Iu=yu.minDropTime,Wp=yu.maxDropTime,QA=Wp-Iu,Fp=1500,ek=.6,tk=function(t){var e=t.current,n=t.destination,r=t.reason,a=ia(e,n);if(a<=0)return Iu;if(a>=Fp)return Wp;var i=a/Fp,o=Iu+QA*i,s=r==="CANCEL"?o*ek:o;return Number(s.toFixed(2))},nk=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,a=t.viewport,i=t.afterCritical,o=r.draggables,s=r.droppables,u=Bt(e),l=u?s[u]:null,c=s[n.descriptor.droppableId],d=kp({impact:e,draggable:n,draggables:o,afterCritical:i,droppable:l||c,viewport:a}),f=Ft(d,n.client.borderBox.center);return f},rk=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,a=t.home,i=t.viewport,o=t.onLiftImpact;if(!r.at||n!=="DROP"){var s=Ap({draggables:e,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var u=H({},r,{displaced:sa});return{impact:u,didDropInsideDroppable:!0}},ak=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(a){if(a.type!=="DROP"){r(a);return}var i=e(),o=a.payload.reason;if(i.phase==="COLLECTING"){n(YA({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&j(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||j(!1);var u=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],d=rk({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d.impact,g=d.didDropInsideDroppable,v=g?ou(f):null,m=g?Mi(f):null,b={index:u.draggable.index,droppableId:u.droppable.id},w={draggableId:c.descriptor.id,type:c.descriptor.type,source:b,reason:o,mode:i.movementMode,destination:v,combine:m},h=nk({impact:f,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),I={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f},y=!Bn(i.current.client.offset,h)||Boolean(w.combine);if(!y){n(mu({completed:I}));return}var E=tk({current:i.current.client.offset,destination:h,reason:o}),S={newHomeClientOffset:h,dropDuration:E,completed:I};n(ZA(S))}}}},Bp=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function ik(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function ok(t){var e=t.onWindowScroll;function n(){e(Bp())}var r=aa(n),a=ik(r),i=Fn;function o(){return i!==Fn}function s(){o()&&j(!1),i=Xt(window,[a])}function u(){o()||j(!1),r.cancel(),i(),i=Fn}return{start:s,stop:u,isActive:o}}var sk=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},uk=function(t){var e=ok({onWindowScroll:function(r){t.dispatch(UA({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&sk(r)&&e.stop(),n(r)}}},lk=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(o){e||n||(e=!0,t(o),clearTimeout(r))};return a.wasCalled=function(){return e},a},ck=function(){var t=[],e=function(i){var o=iu(t,function(l){return l.timerId===i});o===-1&&j(!1);var s=t.splice(o,1),u=s[0];u.callback()},n=function(i){var o=setTimeout(function(){return e(o)}),s={timerId:o,callback:i};t.push(s)},r=function(){if(!!t.length){var i=[].concat(t);t.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},dk=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},fk=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},pk=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,a=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&a},pa=function(e,n){n()},Fi=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},Su=function(e,n,r,a){if(!e){r(a(n));return}var i=lk(r),o={announce:i};e(n,o),i.wasCalled()||r(a(n))},gk=function(t,e){var n=ck(),r=null,a=function(f,g){r&&j(!1),pa("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var m={draggableId:f,mode:g};v(m)}})},i=function(f,g){r&&j(!1),pa("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(Fi(f,g))})},o=function(f,g){r&&j(!1);var v=Fi(f,g);r={mode:g,lastCritical:f,lastLocation:v.source,lastCombine:null},n.add(function(){pa("onDragStart",function(){return Su(t().onDragStart,v,e,xi.onDragStart)})})},s=function(f,g){var v=ou(g),m=Mi(g);r||j(!1);var b=!pk(f,r.lastCritical);b&&(r.lastCritical=f);var w=!dk(r.lastLocation,v);w&&(r.lastLocation=v);var h=!fk(r.lastCombine,m);if(h&&(r.lastCombine=m),!(!b&&!w&&!h)){var I=H({},Fi(f,r.mode),{combine:m,destination:v});n.add(function(){pa("onDragUpdate",function(){return Su(t().onDragUpdate,I,e,xi.onDragUpdate)})})}},u=function(){r||j(!1),n.flush()},l=function(f){r||j(!1),r=null,pa("onDragEnd",function(){return Su(t().onDragEnd,f,e,xi.onDragEnd)})},c=function(){if(!!r){var f=H({},Fi(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});l(f)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:u,drop:l,abort:c}},vk=function(t,e){var n=gk(t,e);return function(r){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;n.flush(),a(i),n.drop(s);return}if(a(i),i.type==="FLUSH"){n.abort();return}var u=r.getState();u.phase==="DRAGGING"&&n.update(u.critical,u.impact)}}}},hk=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&j(!1),t.dispatch(mu({completed:r.completed}))}}},mk=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=t.getState();u.phase==="DROP_ANIMATING"&&t.dispatch($p())}};n=requestAnimationFrame(function(){n=null,e=Xt(window,[o])})}}}},bk=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},yk=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var a=r.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},wk=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},Ik=function(t){return function(e){return function(n){return function(r){if(wk(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var a=e.getState();a.phase!=="DRAGGING"&&j(!1),t.start(a);return}n(r),t.scroll(e.getState())}}}},Sk=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(Mp({reason:r.reason})))}}}},Ok=Pe,Ek=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,a=t.getResponders,i=t.announce,o=t.autoScroller;return as(NA,Ok(kc(JA(r),bk(e),XA(e),ak,hk,mk,Sk,Ik(o),uk,yk(n),vk(a,i))))},Ou=function(){return{additions:{},removals:{},modified:{}}};function Ck(t){var e=t.registry,n=t.callbacks,r=Ou(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var c=r,d=c.additions,f=c.removals,g=c.modified,v=Object.keys(d).map(function(w){return e.draggable.getById(w).getDimension(ft)}).sort(function(w,h){return w.descriptor.index-h.descriptor.index}),m=Object.keys(g).map(function(w){var h=e.droppable.getById(w),I=h.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:I}}),b={additions:v,removals:Object.keys(f),modified:m};r=Ou(),n.publish(b)}))},o=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],i()},s=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],i()},u=function(){!a||(cancelAnimationFrame(a),a=null,r=Ou())};return{add:o,remove:s,stop:u}}var zp=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,a=t.width,i=Ft({x:n,y:e},{x:a,y:r}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Up=function(){var t=document.documentElement;return t||j(!1),t},Hp=function(){var t=Up(),e=zp({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},Tk=function(){var t=Bp(),e=Hp(),n=t.y,r=t.x,a=Up(),i=a.clientWidth,o=a.clientHeight,s=r+i,u=n+o,l=ln({top:n,left:r,right:s,bottom:u}),c={frame:l,scroll:{initial:t,current:t,max:e,diff:{value:ft,displacement:ft}}};return c},Pk=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,a=Tk(),i=a.scroll.current,o=e.droppable,s=r.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(i,n)}),u=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(i)}),l={draggables:dp(u),droppables:cp(s)},c={dimensions:l,critical:e,viewport:a};return c};function Vp(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var _k=function(t,e){var n=null,r=Ck({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=function(g,v){t.droppable.exists(g)||j(!1),!!n&&e.updateDroppableIsEnabled({id:g,isEnabled:v})},i=function(g,v){!n||(t.droppable.exists(g)||j(!1),e.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=function(g,v){!n||(t.droppable.exists(g)||j(!1),e.updateDroppableScroll({id:g,newScroll:v}))},s=function(g,v){!n||t.droppable.getById(g).callbacks.scroll(v)},u=function(){if(!!n){r.stop();var g=n.critical.droppable;t.droppable.getAllByType(g.type).forEach(function(v){return v.callbacks.dragStopped()}),n.unsubscribe(),n=null}},l=function(g){n||j(!1);var v=n.critical.draggable;g.type==="ADDITION"&&Vp(t,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&Vp(t,v,g.value)&&r.remove(g.value)},c=function(g){n&&j(!1);var v=t.draggable.getById(g.draggableId),m=t.droppable.getById(v.descriptor.droppableId),b={draggable:v.descriptor,droppable:m.descriptor},w=t.subscribe(l);return n={critical:b,unsubscribe:w},Pk({critical:b,registry:t,scrollOptions:g.scrollOptions})},d={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:c,stopPublishing:u};return d},Gp=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},Rk=function(t){window.scrollBy(t.x,t.y)},Ak=rt(function(t){return Li(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),kk=function(e,n){var r=zn(Ak(n),function(a){return a.frame||j(!1),Tp(a.frame.pageMarginBox)(e)});return r},Dk=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var a=r[n];return a.frame?a:null}var i=kk(e,r);return i},Hn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},xk=function(t,e){var n=t[e.size]*Hn.startFromPercentage,r=t[e.size]*Hn.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:r};return a},qp=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,a=n-e;if(a===0)return 0;var i=r-e,o=i/a;return o},Eu=1,Nk=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Hn.maxPixelScroll;if(t===e.startScrollingFrom)return Eu;var n=qp({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,a=Hn.maxPixelScroll*Hn.ease(r);return Math.ceil(a)},Kp=Hn.durationDampening.accelerateAt,Zp=Hn.durationDampening.stopDampeningAt,Lk=function(t,e){var n=e,r=Zp,a=Date.now(),i=a-n;if(i>=Zp)return t;if(i<Kp)return Eu;var o=qp({startOfRange:Kp,endOfRange:r,current:i}),s=t*Hn.ease(o);return Math.ceil(s)},Yp=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,a=t.shouldUseTimeDampening,i=Nk(e,n);return i===0?0:a?Math.max(Lk(i,r),Eu):i},Xp=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,a=t.axis,i=t.shouldUseTimeDampening,o=xk(e,a),s=n[a.end]<n[a.start];return s?Yp({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*Yp({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},Mk=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,a=n.height>e.height,i=n.width>e.width;return!i&&!a?r:i&&a?null:{x:i?0:r.x,y:a?0:r.y}},$k=sp(function(t){return t===0?0:t}),Jp=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,a=t.center,i=t.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=Xp({container:n,distanceToEdges:o,dragStartTime:e,axis:su,shouldUseTimeDampening:i}),u=Xp({container:n,distanceToEdges:o,dragStartTime:e,axis:gp,shouldUseTimeDampening:i}),l=$k({x:u,y:s});if(Bn(l,ft))return null;var c=Mk({container:n,subject:r,proposedScroll:l});return c?Bn(c,ft)?null:c:null},jk=sp(function(t){return t===0?0:t>0?1:-1}),Cu=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,a=e.change,i=bt(n,a),o={x:t(i.x,r.x),y:t(i.y,r.y)};return Bn(o,ft)?null:o}}(),Qp=function(e){var n=e.max,r=e.current,a=e.change,i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=jk(a),s=Cu({max:i,current:r,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Tu=function(e,n){return Qp({current:e.scroll.current,max:e.scroll.max,change:n})},Wk=function(e,n){if(!Tu(e,n))return null;var r=e.scroll.max,a=e.scroll.current;return Cu({current:a,max:r,change:n})},Pu=function(e,n){var r=e.frame;return r?Qp({current:r.scroll.current,max:r.scroll.max,change:n}):!1},Fk=function(e,n){var r=e.frame;return!r||!Pu(e,n)?null:Cu({current:r.scroll.current,max:r.scroll.max,change:n})},Bk=function(t){var e=t.viewport,n=t.subject,r=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,o=Jp({dragStartTime:a,container:e.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&Tu(e,o)?o:null},zk=function(t){var e=t.droppable,n=t.subject,r=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var s=Jp({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Pu(e,s)?s:null},eg=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,a=t.scrollWindow,i=t.scrollDroppable,o=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id],u=s.page.marginBox;if(e.isWindowScrollAllowed){var l=e.viewport,c=Bk({dragStartTime:n,viewport:l,subject:u,center:o,shouldUseTimeDampening:r});if(c){a(c);return}}var d=Dk({center:o,destination:Bt(e.impact),droppables:e.dimensions.droppables});if(!!d){var f=zk({dragStartTime:n,droppable:d,subject:u,center:o,shouldUseTimeDampening:r});f&&i(d.descriptor.id,f)}},Uk=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=aa(e),a=aa(n),i=null,o=function(c){i||j(!1);var d=i,f=d.shouldUseTimeDampening,g=d.dragStartTime;eg({state:c,scrollWindow:r,scrollDroppable:a,dragStartTime:g,shouldUseTimeDampening:f})},s=function(c){i&&j(!1);var d=Date.now(),f=!1,g=function(){f=!0};eg({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),i={dragStartTime:d,shouldUseTimeDampening:f},f&&o(c)},u=function(){!i||(r.cancel(),a.cancel(),i=null)};return{start:s,stop:u,scroll:o}},Hk=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,a=function(l,c){var d=bt(l.current.client.selection,c);e({client:d})},i=function(l,c){if(!Pu(l,c))return c;var d=Fk(l,c);if(!d)return n(l.descriptor.id,c),null;var f=Ft(c,d);n(l.descriptor.id,f);var g=Ft(c,f);return g},o=function(l,c,d){if(!l||!Tu(c,d))return d;var f=Wk(c,d);if(!f)return r(d),null;var g=Ft(d,f);r(g);var v=Ft(d,g);return v},s=function(l){var c=l.scrollJumpRequest;if(!!c){var d=Bt(l.impact);d||j(!1);var f=i(l.dimensions.droppables[d],c);if(!!f){var g=l.viewport,v=o(l.isWindowScrollAllowed,g,f);!v||a(l,v)}}};return s},Vk=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,a=Uk({scrollWindow:n,scrollDroppable:e}),i=Hk({move:r,scrollWindow:n,scrollDroppable:e}),o=function(l){if(l.phase==="DRAGGING"){if(l.movementMode==="FLUID"){a.scroll(l);return}!l.scrollJumpRequest||i(l)}},s={scroll:o,start:a.start,stop:a.stop};return s},Tr="data-rbd",Pr=function(){var t=Tr+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),_u=function(){var t=Tr+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Gk=function(){var t=Tr+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),tg={contextId:Tr+"-scroll-container-context-id"},qk=function(e){return function(n){return"["+n+'="'+e+'"]'}},ga=function(e,n){return e.map(function(r){var a=r.styles[n];return a?r.selector+" { "+a+" }":""}).join(" ")},Kk="pointer-events: none;",Zk=function(t){var e=qk(t),n=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Pr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Kk,dropAnimating:s}}}(),r=function(){var s=`
      transition: `+fa.outOfTheWay+`;
    `;return{selector:e(_u.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:e(Gk.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,a,i];return{always:ga(o,"always"),resting:ga(o,"resting"),dragging:ga(o,"dragging"),dropAnimating:ga(o,"dropAnimating"),userCancel:ga(o,"userCancel")}},zt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?p.useLayoutEffect:p.useEffect,Ru=function(){var e=document.querySelector("head");return e||j(!1),e},ng=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function Yk(t,e){var n=Ie(function(){return Zk(t)},[t]),r=p.useRef(null),a=p.useRef(null),i=Y(rt(function(d){var f=a.current;f||j(!1),f.textContent=d}),[]),o=Y(function(d){var f=r.current;f||j(!1),f.textContent=d},[]);zt(function(){!r.current&&!a.current||j(!1);var d=ng(e),f=ng(e);return r.current=d,a.current=f,d.setAttribute(Tr+"-always",t),f.setAttribute(Tr+"-dynamic",t),Ru().appendChild(d),Ru().appendChild(f),o(n.always),i(n.resting),function(){var g=function(m){var b=m.current;b||j(!1),Ru().removeChild(b),m.current=null};g(r),g(a)}},[e,o,i,n.always,n.resting,t]);var s=Y(function(){return i(n.dragging)},[i,n.dragging]),u=Y(function(d){if(d==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),l=Y(function(){!a.current||i(n.resting)},[i,n.resting]),c=Ie(function(){return{dragging:s,dropping:u,resting:l}},[s,u,l]);return c}var rg=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Bi(t){return t instanceof rg(t).HTMLElement}function Xk(t,e){var n="["+Pr.contextId+'="'+t+'"]',r=lp(document.querySelectorAll(n));if(!r.length)return null;var a=zn(r,function(i){return i.getAttribute(Pr.draggableId)===e});return!a||!Bi(a)?null:a}function Jk(t){var e=p.useRef({}),n=p.useRef(null),r=p.useRef(null),a=p.useRef(!1),i=Y(function(f,g){var v={id:f,focus:g};return e.current[f]=v,function(){var b=e.current,w=b[f];w!==v&&delete b[f]}},[]),o=Y(function(f){var g=Xk(t,f);g&&g!==document.activeElement&&g.focus()},[t]),s=Y(function(f,g){n.current===f&&(n.current=g)},[]),u=Y(function(){r.current||!a.current||(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&o(f)}))},[o]),l=Y(function(f){n.current=null;var g=document.activeElement;!g||g.getAttribute(Pr.draggableId)===f&&(n.current=f)},[]);zt(function(){return a.current=!0,function(){a.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var c=Ie(function(){return{register:i,tryRecordFocus:l,tryRestoreFocusRecorded:u,tryShiftRecord:s}},[i,l,u,s]);return c}function Qk(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var g=e.indexOf(d);g!==-1&&e.splice(g,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function a(d){return t.draggables[d]||null}function i(d){var f=a(d);return f||j(!1),f}var o={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,g){var v=t.draggables[g.descriptor.id];!v||v.uniqueId===f.uniqueId&&(delete t.draggables[g.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var g=f.descriptor.id,v=a(g);!v||f.uniqueId===v.uniqueId&&(delete t.draggables[g],r({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:function(f){return Boolean(a(f))},getAllByType:function(f){return Ni(t.draggables).filter(function(g){return g.descriptor.type===f})}};function s(d){return t.droppables[d]||null}function u(d){var f=s(d);return f||j(!1),f}var l={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var g=s(f.descriptor.id);!g||f.uniqueId===g.uniqueId&&delete t.droppables[f.descriptor.id]},getById:u,findById:s,exists:function(f){return Boolean(s(f))},getAllByType:function(f){return Ni(t.droppables).filter(function(g){return g.descriptor.type===f})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:l,subscribe:n,clean:c}}function eD(){var t=Ie(Qk,[]);return p.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Au=p.createContext(null),zi=function(){var t=document.body;return t||j(!1),t},tD={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},nD=function(e){return"rbd-announcement-"+e};function rD(t){var e=Ie(function(){return nD(t)},[t]),n=p.useRef(null);p.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),H(i.style,tD),zi().appendChild(i),function(){setTimeout(function(){var u=zi();u.contains(i)&&u.removeChild(i),i===n.current&&(n.current=null)})}},[e]);var r=Y(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return r}var aD=0,iD={separator:"::"};function ku(t,e){return e===void 0&&(e=iD),Ie(function(){return""+t+e.separator+aD++},[e.separator,t])}function oD(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function sD(t){var e=t.contextId,n=t.text,r=ku("hidden-text",{separator:"-"}),a=Ie(function(){return oD({contextId:e,uniqueId:r})},[r,e]);return p.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=n,o.style.display="none",zi().appendChild(o),function(){var u=zi();u.contains(o)&&u.removeChild(o)}},[a,n]),a}var Ui=p.createContext(null);function ag(t){var e=p.useRef(t);return p.useEffect(function(){e.current=t}),e}function uD(){var t=null;function e(){return Boolean(t)}function n(o){return o===t}function r(o){t&&j(!1);var s={abandon:o};return t=s,s}function a(){t||j(!1),t=null}function i(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:r,release:a,tryAbandon:i}}var lD=9,cD=13,Du=27,ig=32,dD=33,fD=34,pD=35,gD=36,vD=37,hD=38,mD=39,bD=40,Hi,yD=(Hi={},Hi[cD]=!0,Hi[lD]=!0,Hi),og=function(t){yD[t.keyCode]&&t.preventDefault()},Vi=function(){var t="visibilitychange";if(typeof document=="undefined")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=zn(e,function(r){return"on"+r in document});return n||t}(),sg=0,ug=5;function wD(t,e){return Math.abs(e.x-t.x)>=ug||Math.abs(e.y-t.y)>=ug}var lg={type:"IDLE"};function ID(t){var e=t.cancel,n=t.completed,r=t.getPhase,a=t.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,u=o.clientX,l=o.clientY;if(s===sg){var c={x:u,y:l},d=r();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&j(!1);var f=d.point;if(!!wD(f,c)){o.preventDefault();var g=d.actions.fluidLift(c);a({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var s=r();if(s.type==="PENDING"){e();return}if(o.keyCode===Du){o.preventDefault(),e();return}og(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=r();if(s.type==="IDLE"&&j(!1),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Vi,fn:e}]}function SD(t){var e=p.useRef(lg),n=p.useRef(Fn),r=Ie(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===sg&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(!!f){var g=t.tryGetLock(f,o,{sourceEvent:d});if(!!g){d.preventDefault();var v={x:d.clientX,y:d.clientY};n.current(),l(g,v)}}}}}},[t]),a=Ie(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(!!f){var g=t.findOptionsForDraggable(f);!g||g.shouldRespectForcePress||!t.canGetLock(f)||d.preventDefault()}}}}},[t]),i=Y(function(){var d={passive:!1,capture:!0};n.current=Xt(window,[a,r],d)},[a,r]),o=Y(function(){var c=e.current;c.type!=="IDLE"&&(e.current=lg,n.current(),i())},[i]),s=Y(function(){var c=e.current;o(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[o]),u=Y(function(){var d={capture:!0,passive:!1},f=ID({cancel:s,completed:o,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});n.current=Xt(window,f,d)},[s,o]),l=Y(function(d,f){e.current.type!=="IDLE"&&j(!1),e.current={type:"PENDING",point:f,actions:d},u()},[u]);zt(function(){return i(),function(){n.current()}},[i])}var _r;function OD(){}var ED=(_r={},_r[fD]=!0,_r[dD]=!0,_r[gD]=!0,_r[pD]=!0,_r);function CD(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Du){i.preventDefault(),n();return}if(i.keyCode===ig){i.preventDefault(),r();return}if(i.keyCode===bD){i.preventDefault(),t.moveDown();return}if(i.keyCode===hD){i.preventDefault(),t.moveUp();return}if(i.keyCode===mD){i.preventDefault(),t.moveRight();return}if(i.keyCode===vD){i.preventDefault(),t.moveLeft();return}if(ED[i.keyCode]){i.preventDefault();return}og(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Vi,fn:n}]}function TD(t){var e=p.useRef(OD),n=Ie(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==ig)return;var o=t.findClosestDraggableId(i);if(!o)return;var s=t.tryGetLock(o,c,{sourceEvent:i});if(!s)return;i.preventDefault();var u=!0,l=s.snapLift();e.current();function c(){u||j(!1),u=!1,e.current(),r()}e.current=Xt(window,CD(l,c),{capture:!0,passive:!1})}}},[t]),r=Y(function(){var i={passive:!1,capture:!0};e.current=Xt(window,[n],i)},[n]);zt(function(){return r(),function(){e.current()}},[r])}var xu={type:"IDLE"},PD=120,_D=.15;function RD(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){e();return}a.keyCode===Du&&a.preventDefault(),e()}},{eventName:Vi,fn:e}]}function AD(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var s=i.touches[0],u=s.clientX,l=s.clientY,c={x:u,y:l};i.preventDefault(),o.actions.move(c)}},{eventName:"touchend",fn:function(i){var o=r();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(r().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(i){var o=r();o.type==="IDLE"&&j(!1);var s=i.touches[0];if(!!s){var u=s.force>=_D;if(!!u){var l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}}}},{eventName:Vi,fn:e}]}function kD(t){var e=p.useRef(xu),n=p.useRef(Fn),r=Y(function(){return e.current},[]),a=Y(function(g){e.current=g},[]),i=Ie(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var v=t.findClosestDraggableId(g);if(!!v){var m=t.tryGetLock(v,s,{sourceEvent:g});if(!!m){var b=g.touches[0],w=b.clientX,h=b.clientY,I={x:w,y:h};n.current(),d(m,I)}}}}}},[t]),o=Y(function(){var g={capture:!0,passive:!1};n.current=Xt(window,[i],g)},[i]),s=Y(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),a(xu),n.current(),o())},[o,a]),u=Y(function(){var f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),l=Y(function(){var g={capture:!0,passive:!1},v={cancel:u,completed:s,getPhase:r},m=Xt(window,AD(v),g),b=Xt(window,RD(v),g);n.current=function(){m(),b()}},[u,r,s]),c=Y(function(){var g=r();g.type!=="PENDING"&&j(!1);var v=g.actions.fluidLift(g.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[r,a]),d=Y(function(g,v){r().type!=="IDLE"&&j(!1);var m=setTimeout(c,PD);a({type:"PENDING",point:v,actions:g,longPressTimerId:m}),l()},[l,r,a,c]);zt(function(){return o(),function(){n.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(xu))}},[r,o,a]),zt(function(){var g=Xt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var DD={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function cg(t,e){if(e==null)return!1;var n=Boolean(DD[e.tagName.toLowerCase()]);if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:cg(t,e.parentElement)}function xD(t,e){var n=e.target;return Bi(n)?cg(t,n):!1}var ND=function(t){return ln(t.getBoundingClientRect()).center};function LD(t){return t instanceof rg(t).Element}var MD=function(){var t="matches";if(typeof document=="undefined")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=zn(e,function(r){return r in Element.prototype});return n||t}();function dg(t,e){return t==null?null:t[MD](e)?t:dg(t.parentElement,e)}function $D(t,e){return t.closest?t.closest(e):dg(t,e)}function jD(t){return"["+Pr.contextId+'="'+t+'"]'}function WD(t,e){var n=e.target;if(!LD(n))return null;var r=jD(t),a=$D(n,r);return!a||!Bi(a)?null:a}function FD(t,e){var n=WD(t,e);return n?n.getAttribute(Pr.draggableId):null}function BD(t,e){var n="["+_u.contextId+'="'+t+'"]',r=lp(document.querySelectorAll(n)),a=zn(r,function(i){return i.getAttribute(_u.id)===e});return!a||!Bi(a)?null:a}function zD(t){t.preventDefault()}function Gi(t){var e=t.expected,n=t.phase,r=t.isLockActive,a=t.shouldWarn;return!(!r()||e!==n)}function fg(t){var e=t.lockAPI,n=t.store,r=t.registry,a=t.draggableId;if(e.isClaimed())return!1;var i=r.draggable.findById(a);return!(!i||!i.options.isEnabled||!Gp(n.getState(),a))}function UD(t){var e=t.lockAPI,n=t.contextId,r=t.store,a=t.registry,i=t.draggableId,o=t.forceSensorStop,s=t.sourceEvent,u=fg({lockAPI:e,store:r,registry:a,draggableId:i});if(!u)return null;var l=a.draggable.getById(i),c=BD(n,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&xD(c,s))return null;var d=e.claim(o||Fn),f="PRE_DRAG";function g(){return l.options.shouldRespectForcePress}function v(){return e.isActive(d)}function m(S,C){Gi({expected:S,phase:f,isLockActive:v,shouldWarn:!0})&&r.dispatch(C())}var b=m.bind(null,"DRAGGING");function w(S){function C(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(C(),f!=="PRE_DRAG"&&j(!1)),r.dispatch(MA(S.liftActionArgs)),f="DRAGGING";function k(L,V){if(V===void 0&&(V={shouldBlockNextClick:!1}),S.cleanup(),V.shouldBlockNextClick){var ae=Xt(window,[{eventName:"click",fn:zD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ae)}C(),r.dispatch(Mp({reason:L}))}return H({isActive:function(){return Gi({expected:"DRAGGING",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(V){return k("DROP",V)},cancel:function(V){return k("CANCEL",V)}},S.actions)}function h(S){var C=aa(function(L){b(function(){return Lp({client:L})})}),k=w({liftActionArgs:{id:i,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return H({},k,{move:C})}function I(){var S={moveUp:function(){return b(VA)},moveRight:function(){return b(qA)},moveDown:function(){return b(GA)},moveLeft:function(){return b(KA)}};return w({liftActionArgs:{id:i,clientSelection:ND(c),movementMode:"SNAP"},cleanup:Fn,actions:S})}function y(){var S=Gi({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!0});S&&e.release()}var E={isActive:function(){return Gi({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:h,snapLift:I,abort:y};return E}var HD=[SD,TD,kD];function VD(t){var e=t.contextId,n=t.store,r=t.registry,a=t.customSensors,i=t.enableDefaultSensors,o=[].concat(i?HD:[],a||[]),s=p.useState(function(){return uD()})[0],u=Y(function(h,I){h.isDragging&&!I.isDragging&&s.tryAbandon()},[s]);zt(function(){var h=n.getState(),I=n.subscribe(function(){var y=n.getState();u(h,y),h=y});return I},[s,n,u]),zt(function(){return s.tryAbandon},[s.tryAbandon]);for(var l=Y(function(w){return fg({lockAPI:s,registry:r,store:n,draggableId:w})},[s,r,n]),c=Y(function(w,h,I){return UD({lockAPI:s,registry:r,contextId:e,store:n,draggableId:w,forceSensorStop:h,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null})},[e,s,r,n]),d=Y(function(w){return FD(e,w)},[e]),f=Y(function(w){var h=r.draggable.findById(w);return h?h.options:null},[r.draggable]),g=Y(function(){!s.isClaimed()||(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(hu()))},[s,n]),v=Y(s.isClaimed,[s]),m=Ie(function(){return{canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:v}},[l,c,d,f,g,v]),b=0;b<o.length;b++)o[b](m)}var GD=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function va(t){return t.current||j(!1),t.current}function qD(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,a=t.nonce,i=t.dragHandleUsageInstructions,o=p.useRef(null),s=ag(t),u=Y(function(){return GD(s.current)},[s]),l=rD(e),c=sD({contextId:e,text:i}),d=Yk(e,a),f=Y(function(L){va(o).dispatch(L)},[]),g=Ie(function(){return Ac({publishWhileDragging:jA,updateDroppableScroll:FA,updateDroppableIsEnabled:BA,updateDroppableIsCombineEnabled:zA,collectionStarting:WA},f)},[f]),v=eD(),m=Ie(function(){return _k(v,g)},[v,g]),b=Ie(function(){return Vk(H({scrollWindow:Rk,scrollDroppable:m.scrollDroppable},Ac({move:Lp},f)))},[m.scrollDroppable,f]),w=Jk(e),h=Ie(function(){return Ek({announce:l,autoScroller:b,dimensionMarshal:m,focusMarshal:w,getResponders:u,styleMarshal:d})},[l,b,m,w,u,d]);o.current=h;var I=Y(function(){var L=va(o),V=L.getState();V.phase!=="IDLE"&&L.dispatch(hu())},[]),y=Y(function(){var L=va(o).getState();return L.isDragging||L.phase==="DROP_ANIMATING"},[]),E=Ie(function(){return{isDragging:y,tryAbort:I}},[y,I]);n(E);var S=Y(function(L){return Gp(va(o).getState(),L)},[]),C=Y(function(){return ar(va(o).getState())},[]),k=Ie(function(){return{marshal:m,focus:w,contextId:e,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:c,registry:v}},[e,m,c,w,S,C,v]);return VD({contextId:e,store:h,registry:v,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),p.useEffect(function(){return I},[I]),p.createElement(Ui.Provider,{value:k},p.createElement(Uc,{context:Au,store:h},t.children))}var KD=0;function ZD(){return Ie(function(){return""+KD++},[])}function YD(t){var e=ZD(),n=t.dragHandleUsageInstructions||xi.dragHandleUsageInstructions;return p.createElement(TR,null,function(r){return p.createElement(qD,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var pg=function(e){return function(n){return e===n}},XD=pg("scroll"),JD=pg("auto"),gg=function(e,n){return n(e.overflowX)||n(e.overflowY)},QD=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return gg(r,XD)||gg(r,JD)},ex=function(){return!1},tx=function t(e){return e==null?null:e===document.body?ex()?e:null:e===document.documentElement?null:QD(e)?e:t(e.parentElement)},Nu=function(t){return{x:t.scrollLeft,y:t.scrollTop}},nx=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},rx=function(t){var e=tx(t),n=nx(t);return{closestScrollable:e,isFixedOnPage:n}},ax=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,a=t.isFixedOnPage,i=t.direction,o=t.client,s=t.page,u=t.closest,l=function(){if(!u)return null;var g=u.scrollSize,v=u.client,m=zp({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:m,diff:{value:ft,displacement:ft}}}}(),c=i==="vertical"?su:gp,d=Or({page:s,withPlaceholder:null,axis:c,frame:l}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:a,axis:c,isEnabled:n,client:o,page:s,frame:l,subject:d};return f},ix=function(e,n){var r=tp(e);if(!n||e!==n)return r;var a=r.paddingBox.top-n.scrollTop,i=r.paddingBox.left-n.scrollLeft,o=a+n.scrollHeight,s=i+n.scrollWidth,u={top:a,right:s,bottom:o,left:i},l=tu(u,r.border),c=ru({borderBox:l,margin:r.margin,border:r.border,padding:r.padding});return c},ox=function(t){var e=t.ref,n=t.descriptor,r=t.env,a=t.windowScroll,i=t.direction,o=t.isDropDisabled,s=t.isCombineEnabled,u=t.shouldClipSubject,l=r.closestScrollable,c=ix(e,l),d=Ai(c,a),f=function(){if(!l)return null;var v=tp(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:v,page:Ai(v,a),scroll:Nu(l),scrollSize:m,shouldClipSubject:u}}(),g=ax({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:d,closest:f});return g},sx={passive:!1},ux={passive:!0},vg=function(t){return t.shouldPublishImmediately?sx:ux};function qi(t){var e=p.useContext(t);return e||j(!1),e}var Ki=function(e){return e&&e.env.closestScrollable||null};function lx(t){var e=p.useRef(null),n=qi(Ui),r=ku("droppable"),a=n.registry,i=n.marshal,o=ag(t),s=Ie(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),u=p.useRef(s),l=Ie(function(){return rt(function(y,E){e.current||j(!1);var S={x:y,y:E};i.updateDroppableScroll(s.id,S)})},[s.id,i]),c=Y(function(){var y=e.current;return!y||!y.env.closestScrollable?ft:Nu(y.env.closestScrollable)},[]),d=Y(function(){var y=c();l(y.x,y.y)},[c,l]),f=Ie(function(){return aa(d)},[d]),g=Y(function(){var y=e.current,E=Ki(y);y&&E||j(!1);var S=y.scrollOptions;if(S.shouldPublishImmediately){d();return}f()},[f,d]),v=Y(function(y,E){e.current&&j(!1);var S=o.current,C=S.getDroppableRef();C||j(!1);var k=rx(C),L={ref:C,descriptor:s,env:k,scrollOptions:E};e.current=L;var V=ox({ref:C,descriptor:s,env:k,windowScroll:y,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),ae=k.closestScrollable;return ae&&(ae.setAttribute(tg.contextId,n.contextId),ae.addEventListener("scroll",g,vg(L.scrollOptions))),V},[n.contextId,s,g,o]),m=Y(function(){var y=e.current,E=Ki(y);return y&&E||j(!1),Nu(E)},[]),b=Y(function(){var y=e.current;y||j(!1);var E=Ki(y);e.current=null,!!E&&(f.cancel(),E.removeAttribute(tg.contextId),E.removeEventListener("scroll",g,vg(y.scrollOptions)))},[g,f]),w=Y(function(y){var E=e.current;E||j(!1);var S=Ki(E);S||j(!1),S.scrollTop+=y.y,S.scrollLeft+=y.x},[]),h=Ie(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:b,scroll:w}},[b,v,m,w]),I=Ie(function(){return{uniqueId:r,descriptor:s,callbacks:h}},[h,s,r]);zt(function(){return u.current=I.descriptor,a.droppable.register(I),function(){e.current&&b(),a.droppable.unregister(I)}},[h,s,b,I,i,a.droppable]),zt(function(){!e.current||i.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),zt(function(){!e.current||i.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function Lu(){}var hg={width:0,height:0,margin:DR},cx=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,a=e.animate;return n||a==="close"?hg:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},dx=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,a=e.animate,i=cx({isAnimatingOpenOnMount:n,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?fa.placeholder:null}};function fx(t){var e=p.useRef(null),n=Y(function(){!e.current||(clearTimeout(e.current),e.current=null)},[]),r=t.animate,a=t.onTransitionEnd,i=t.onClose,o=t.contextId,s=p.useState(t.animate==="open"),u=s[0],l=s[1];p.useEffect(function(){return u?r!=="open"?(n(),l(!1),Lu):e.current?Lu:(e.current=setTimeout(function(){e.current=null,l(!1)}),n):Lu},[r,u,n]);var c=Y(function(f){f.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),d=dx({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return p.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})}var px=p.memo(fx),Mu=p.createContext(null),gx=function(t){Ho(e,t);function e(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,r.state={isVisible:Boolean(r.props.on),data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(a.on),data:a.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},e}(p.PureComponent),mg={dragging:5e3,dropAnimating:4500},vx=function(e,n){return n?fa.drop(n.duration):e?fa.snap:fa.fluid},hx=function(e,n){return e?n?da.opacity.drop:da.opacity.combining:null},mx=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function bx(t){var e=t.dimension,n=e.client,r=t.offset,a=t.combineWith,i=t.dropping,o=Boolean(a),s=mx(t),u=Boolean(i),l=u?wu.drop(r,o):wu.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:vx(s,i),transform:l,opacity:hx(o,u),zIndex:u?mg.dropAnimating:mg.dragging,pointerEvents:"none"};return c}function yx(t){return{transform:wu.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function wx(t){return t.type==="DRAGGING"?bx(t):yx(t)}function Ix(t,e,n){n===void 0&&(n=ft);var r=window.getComputedStyle(e),a=e.getBoundingClientRect(),i=ep(a,r),o=Ai(i,n),s={client:i,tagName:e.tagName.toLowerCase(),display:r.display},u={x:i.marginBox.width,y:i.marginBox.height},l={descriptor:t,placeholder:s,displaceBy:u,client:i,page:o};return l}function Sx(t){var e=ku("draggable"),n=t.descriptor,r=t.registry,a=t.getDraggableRef,i=t.canDragInteractiveElements,o=t.shouldRespectForcePress,s=t.isEnabled,u=Ie(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),l=Y(function(g){var v=a();return v||j(!1),Ix(n,v,g)},[n,a]),c=Ie(function(){return{uniqueId:e,descriptor:n,options:u,getDimension:l}},[n,l,u,e]),d=p.useRef(c),f=p.useRef(!0);zt(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),zt(function(){if(f.current){f.current=!1;return}var g=d.current;d.current=c,r.draggable.update(c,g)},[c,r.draggable])}function Ox(t){t.preventDefault()}function Ex(t){var e=p.useRef(null),n=Y(function(L){e.current=L},[]),r=Y(function(){return e.current},[]),a=qi(Ui),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,u=qi(Mu),l=u.type,c=u.droppableId,d=Ie(function(){return{id:t.draggableId,index:t.index,type:l,droppableId:c}},[t.draggableId,t.index,l,c]),f=t.children,g=t.draggableId,v=t.isEnabled,m=t.shouldRespectForcePress,b=t.canDragInteractiveElements,w=t.isClone,h=t.mapped,I=t.dropAnimationFinished;if(!w){var y=Ie(function(){return{descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:m,isEnabled:v}},[d,s,r,b,m,v]);Sx(y)}var E=Ie(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Ox}:null},[i,o,g,v]),S=Y(function(L){h.type==="DRAGGING"&&(!h.dropping||L.propertyName==="transform"&&I())},[I,h]),C=Ie(function(){var L=wx(h),V=h.type==="DRAGGING"&&h.dropping?S:null,ae={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":g,style:L,onTransitionEnd:V},dragHandleProps:E};return ae},[i,E,g,h,S,n]),k=Ie(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(C,h.snapshot,k)}var bg=function(t,e){return t===e},yg=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},Cx=function(e){return e.combine?e.combine.draggableId:null},Tx=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function Px(){var t=rt(function(a,i){return{x:a,y:i}}),e=rt(function(a,i,o,s,u){return{isDragging:!0,isClone:i,isDropAnimating:Boolean(u),dropAnimation:u,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),n=rt(function(a,i,o,s,u,l,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:l,mode:i,offset:a,dimension:o,forceShouldAnimate:c,snapshot:e(i,s,u,l,null)}}}),r=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,u=i.dimensions.draggables[o.draggableId],l=Bt(i.impact),c=Tx(i.impact),d=i.forceShouldAnimate;return n(t(s.x,s.y),i.movementMode,u,o.isClone,l,c,d)}if(i.phase==="DROP_ANIMATING"){var f=i.completed;if(f.result.draggableId!==o.draggableId)return null;var g=o.isClone,v=i.dimensions.draggables[o.draggableId],m=f.result,b=m.mode,w=yg(m),h=Cx(m),I=i.dropDuration,y={duration:I,curve:bu.drop,moveTo:i.newHomeClientOffset,opacity:h?da.opacity.drop:null,scale:h?da.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:y,draggingOver:w,combineWith:h,mode:b,forceShouldAnimate:null,snapshot:e(b,g,w,h,y)}}}return null};return r}function wg(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var _x={mapped:{type:"SECONDARY",offset:ft,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wg(null)}};function Rx(){var t=rt(function(o,s){return{x:o,y:s}}),e=rt(wg),n=rt(function(o,s,u){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:u,snapshot:e(s)}}}),r=function(s){return s?n(ft,s,!0):null},a=function(s,u,l,c){var d=l.displaced.visible[s],f=Boolean(c.inVirtualList&&c.effected[s]),g=Mi(l),v=g&&g.draggableId===s?u:null;if(!d){if(!f)return r(v);if(l.displaced.invisible[s])return null;var m=Sr(c.displacedBy.point),b=t(m.x,m.y);return n(b,v,!0)}if(f)return r(v);var w=l.displacedBy.point,h=t(w.x,w.y);return n(h,v,d.shouldAnimate)},i=function(s,u){if(s.isDragging)return s.critical.draggable.id===u.draggableId?null:a(u.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var l=s.completed;return l.result.draggableId===u.draggableId?null:a(u.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null};return i}var Ax=function(){var e=Px(),n=Rx(),r=function(i,o){return e(i,o)||n(i,o)||_x};return r},kx={dropAnimationFinished:$p},Dx=Ae(Ax,kx,null,{context:Au,pure:!0,areStatePropsEqual:bg})(Ex);function Ig(t){var e=qi(Mu),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:p.createElement(Dx,t)}function xx(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=Boolean(t.disableInteractiveElementBlocking),r=Boolean(t.shouldRespectForcePress);return p.createElement(Ig,H({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function Nx(t){var e=p.useContext(Ui);e||j(!1);var n=e.contextId,r=e.isMovementAllowed,a=p.useRef(null),i=p.useRef(null),o=t.children,s=t.droppableId,u=t.type,l=t.mode,c=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,g=t.isCombineEnabled,v=t.snapshot,m=t.useClone,b=t.updateViewportMaxScroll,w=t.getContainerForClone,h=Y(function(){return a.current},[]),I=Y(function(he){a.current=he},[]),y=Y(function(){return i.current},[]),E=Y(function(he){i.current=he},[]),S=Y(function(){r()&&b({maxScroll:Hp()})},[r,b]);lx({droppableId:s,type:u,mode:l,direction:c,isDropDisabled:f,isCombineEnabled:g,ignoreContainerClipping:d,getDroppableRef:h});var C=p.createElement(gx,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(he){var X=he.onClose,me=he.data,le=he.animate;return p.createElement(px,{placeholder:me,onClose:X,innerRef:E,animate:le,contextId:n,onTransitionEnd:S})}),k=Ie(function(){return{innerRef:I,placeholder:C,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}},[n,s,C,I]),L=m?m.dragging.draggableId:null,V=Ie(function(){return{droppableId:s,type:u,isUsingCloneFor:L}},[s,L,u]);function ae(){if(!m)return null;var he=m.dragging,X=m.render,me=p.createElement(Ig,{draggableId:he.draggableId,index:he.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(le,Ge){return X(le,Ge,he)});return jr.createPortal(me,w())}return p.createElement(Mu.Provider,{value:V},o(k,v),ae())}var $u=function(e,n){return e===n.droppable.type},Sg=function(e,n){return n.draggables[e.draggable.id]},Lx=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=H({},e,{shouldAnimatePlaceholder:!1}),r=rt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=rt(function(o,s,u,l,c,d){var f=c.descriptor.id,g=c.descriptor.droppableId===o;if(g){var v=d?{render:d,dragging:r(c.descriptor)}:null,m={isDraggingOver:u,draggingOverWith:u?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:v}}if(!s)return n;if(!l)return e;var b={isDraggingOver:u,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(s,u){var l=u.droppableId,c=u.type,d=!u.isDropDisabled,f=u.renderClone;if(s.isDragging){var g=s.critical;if(!$u(c,g))return n;var v=Sg(g,s.dimensions),m=Bt(s.impact)===l;return a(l,d,m,m,v,f)}if(s.phase==="DROP_ANIMATING"){var b=s.completed;if(!$u(c,b.critical))return n;var w=Sg(b.critical,s.dimensions);return a(l,d,yg(b.result)===l,Bt(b.impact)===l,w,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var h=s.completed;if(!$u(c,h.critical))return n;var I=Bt(h.impact)===l,y=Boolean(h.impact.at&&h.impact.at.type==="COMBINE"),E=h.critical.droppable.id===l;return I?y?e:n:E?e:n}return n};return i},Mx={updateViewportMaxScroll:HA};function $x(){return document.body||j(!1),document.body}var jx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:$x},Og=Ae(Lx,Mx,null,{context:Au,pure:!0,areStatePropsEqual:bg})(Nx);Og.defaultProps=jx;function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){Zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bx(t,e,n){return e&&Cg(t.prototype,e),n&&Cg(t,n),t}function zx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ju(t,e)}function ju(t,e){return ju=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},ju(t,e)}function Ux(t){var e=Vx();return function(){var r=Yi(t),a;if(e){var i=Yi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Hx(this,a)}}function Hx(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ha(t)}function ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yi(t)}function Gx(t,e){return Yx(t)||Zx(t,e)||Kx(t,e)||qx()}function qx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kx(t,e){if(!!t){if(typeof t=="string")return Tg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tg(t,e)}}function Tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zx(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,s;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function Yx(t){if(Array.isArray(t))return t}var Pg=function(e,n,r){var a=Array.from(e),i=a.splice(n,1),o=Gx(i,1),s=o[0];return a.splice(r,0,s),a},_g=function(t){zx(n,t);var e=Ux(n);function n(r){var a;return Fx(this,n),a=e.call(this,r),a.droppableId=fc(),a.onDragEnd=a.onDragEnd.bind(ha(a)),a.handleOpacityChange=a.handleOpacityChange.bind(ha(a)),a.setLayerVisibility=a.setLayerVisibility.bind(ha(a)),a.moveToTop=a.moveToTop.bind(ha(a)),a}return Bx(n,[{key:"handleOpacityChange",value:function(a,i){var o=this.props,s=o.canvasId,u=o.updateLayers,l=o.windowId,c=Zi({},a,{opacity:i/100});u(l,s,c)}},{key:"onDragEnd",value:function(a){var i=this.props,o=i.canvasId,s=i.layers,u=i.updateLayers,l=i.windowId;if(!!a.destination&&a.destination.droppableId===this.droppableId&&a.source.droppableId===this.droppableId){var c=Pg(s.map(function(f){return f.id}),a.source.index,a.destination.index),d=s.reduce(function(f,g){return f[g.id]={index:c.indexOf(g.id)},f},{});u(l,o,d)}}},{key:"setLayerVisibility",value:function(a,i){var o=this.props,s=o.canvasId,u=o.updateLayers,l=o.windowId,c=Zi({},a,{visibility:i});u(l,s,c)}},{key:"moveToTop",value:function(a){var i=this.props,o=i.canvasId,s=i.layers,u=i.updateLayers,l=i.windowId,c=Pg(s.map(function(f){return f.id}),s.findIndex(function(f){return f.id===a}),0),d=s.reduce(function(f,g){return f[g.id]={index:c.indexOf(g.id)},f},{});u(l,o,d)}},{key:"renderLayer",value:function(a,i){var o=this,s=this.props,u=s.classes,l=s.layerMetadata,c=s.t,d={height:void 0,width:50},f=d.width,g=d.height,v=Wx({opacity:1,visibility:!0},(l||{})[a.id]);return p.createElement("div",{style:{flex:1}},p.createElement("div",{style:{alignItems:"flex-start",display:"flex"}},p.createElement(Yr,{maxHeight:g,maxWidth:f,resource:a,classes:{image:u.image,root:u.thumbnail}}),p.createElement(pe,{className:u.label,component:"div",variant:"body1"},n.getUseableLabel(a,i),p.createElement("div",null,p.createElement(er,{"aria-label":c(v.visibility?"layer_hide":"layer_show"),edge:"start",size:"small",onClick:function(){o.setLayerVisibility(a.id,!v.visibility)}},v.visibility?p.createElement(vd,null):p.createElement(hd,null)),v.index!==0&&p.createElement(er,{"aria-label":c("layer_moveToTop"),size:"small",onClick:function(){o.moveToTop(a.id)}},p.createElement(vR,null))))),p.createElement("div",{style:{alignItems:"center",display:"flex"}},p.createElement(Hr,{title:c("layer_opacity")},p.createElement(mR,{className:u.opacityIcon,color:v.visibility?"inherit":"disabled",fontSize:"small"})),p.createElement(gw,{classes:{input:u.opacityInput},disabled:!v.visibility,value:Math.round(v.opacity*100),type:"number",min:0,max:100,onChange:function(b){return o.handleOpacityChange(a.id,b.target.value)},endAdornment:p.createElement(vw,{disableTypography:!0,position:"end"},p.createElement(pe,{variant:"caption"},"%")),inputProps:{"aria-label":c("layer_opacity")}}),p.createElement(gy,{className:u.slider,disabled:!v.visibility,value:v.opacity*100,onChange:function(b,w){return o.handleOpacityChange(a.id,w)}})))}},{key:"renderDraggableLayer",value:function(a,i){var o=this,s=this.props,u=s.classes,l=s.t;return p.createElement(xx,{key:a.id,draggableId:a.id,index:i},function(c,d){return p.createElement(Ko,Object.assign({ref:c.innerRef},c.draggableProps,{component:"li",className:$t(u.listItem,Zi({},u.dragging,d.isDragging)),disableGutters:!0,key:a.id}),p.createElement("div",Object.assign({},c.dragHandleProps,{className:u.dragHandle}),p.createElement(Hr,{title:l("layer_move")},p.createElement(pR,null))),o.renderLayer(a,i))})}},{key:"render",value:function(){var a=this,i=this.props,o=i.classes,s=i.index,u=i.label,l=i.layers,c=i.t,d=i.totalSize;return p.createElement(p.Fragment,null,d>1&&p.createElement(pe,{className:o.sectionHeading,variant:"overline"},c("annotationCanvasLabel",{context:"".concat(s+1,"/").concat(d),label:u})),p.createElement(YD,{onDragEnd:this.onDragEnd},p.createElement(Og,{droppableId:this.droppableId},function(f,g){return p.createElement(rs,Object.assign({className:o.list},f.droppableProps,{ref:f.innerRef}),l&&l.map(function(v,m){return a.renderDraggableLayer(v,m)}),f.placeholder)})))}}],[{key:"getUseableLabel",value:function(a,i){return a&&a.getLabel&&a.getLabel().length>0?a.getLabel().getValue():String(i+1)}}]),n}(p.Component);_g.defaultProps={classes:{},layerMetadata:void 0};function Rg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rg(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jx=function(e,n){var r=n.canvasId,a=n.windowId;return{label:ja(e,{canvasId:r,windowId:a}),layerMetadata:hw(e,{canvasId:r,windowId:a}),layers:mw(e,{canvasId:r,windowId:a})}},Qx={updateLayers:bw},e1=function(e){return{dragging:{},dragHandle:{alignItems:"center",borderRight:"0.5px solid ".concat(e.palette.divider),display:"flex",flex:1,flexDirection:"row",marginBottom:-1*e.spacing(2)+.5,marginRight:e.spacing(1),marginTop:-1*e.spacing(2),maxWidth:e.spacing(3),width:e.spacing(3)},image:{borderBottom:"1px solid ".concat(e.palette.divider)},label:{paddingLeft:e.spacing(1)},list:{paddingTop:0},listItem:{"& $dragHandle":{"&:hover":{backgroundColor:e.palette.action.hover},backgroundColor:e.palette.shades.light},"&$dragging":{"& $dragHandle, & $dragHandle:hover":{backgroundColor:e.palette.action.selected},backgroundColor:e.palette.action.hover},alignItems:"stretch",borderBottom:"0.5px solid ".concat(e.palette.divider),cursor:"pointer",paddingBottom:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)},opacityIcon:{marginRight:e.spacing(.5)},opacityInput:Ag(Ag({},e.typography.caption),{},{"&::-webkit-outer-spin-button,&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"right",width:"3ch"}),sectionHeading:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)},slider:{marginLeft:e.spacing(2),marginRight:e.spacing(2),maxWidth:150},thumbnail:{minWidth:50}}},t1=Pe(Le(),xe(e1),Ae(Jx,Qx)),n1=t1(_g);function r1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a1(t,e,n){return e&&kg(t.prototype,e),n&&kg(t,n),t}function i1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wu(t,e)}function Wu(t,e){return Wu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Wu(t,e)}function o1(t){var e=l1();return function(){var r=Xi(t),a;if(e){var i=Xi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return s1(this,a)}}function s1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u1(t)}function u1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xi(t)}var Dg=function(t){i1(n,t);var e=o1(n);function n(){return r1(this,n),e.apply(this,arguments)}return a1(n,[{key:"render",value:function(){var a=this.props,i=a.canvasIds,o=a.id,s=a.t,u=a.windowId;return p.createElement(jn,{title:s("layers"),id:o,windowId:u},i.map(function(l,c){return p.createElement(n1,{canvasId:l,index:c,key:l,totalSize:i.length,windowId:u})}))}}]),n}(p.Component);Dg.defaultProps={canvasIds:[]};var c1=function(e,n){var r=n.id,a=n.windowId;return{canvasIds:pr(e,{windowId:a})}},d1=function(e){return{}},f1=Pe(Le(),xe(d1),Ae(c1),je("LayersPanel")),p1=f1(Dg);function g1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v1(t,e,n){return e&&xg(t.prototype,e),n&&xg(t,n),t}function h1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fu(t,e)}function Fu(t,e){return Fu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Fu(t,e)}function m1(t){var e=w1();return function(){var r=Ji(t),a;if(e){var i=Ji(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return b1(this,a)}}function b1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1(t)}function y1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ji(t){return Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ji(t)}var Ng=function(t){h1(n,t);var e=m1(n);function n(){return g1(this,n),e.apply(this,arguments)}return v1(n,[{key:"render",value:function(){var a=this.props,i=a.id,o=a.children,s=a.t,u=a.title,l=a.windowId;return p.createElement(jn,{title:s(u),id:i,windowId:l},o)}}]),n}(p.Component);Ng.defaultProps={children:null};var I1=function(e,n){var r=n.id,a=n.windowId;return{}},S1=function(e){return{}},O1=Pe(Le(),xe(S1),Ae(I1),je("CustomPanel")),E1=O1(Ng),C1=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=lt(p),r=ct(dt),a=(0,r.default)(n.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpwardSharp");e.default=a}),T1=nt(C1),P1=["manifest"];function _1(t){return D1(t)||k1(t)||A1(t)||R1()}function R1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1(t,e){if(!!t){if(typeof t=="string")return Bu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bu(t,e)}}function k1(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D1(t){if(Array.isArray(t))return Bu(t)}function Bu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x1(t,e){if(t==null)return{};var n=N1(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function N1(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function L1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M1(t,e,n){return e&&Lg(t.prototype,e),n&&Lg(t,n),t}function $1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zu(t,e)}function zu(t,e){return zu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},zu(t,e)}function j1(t){var e=B1();return function(){var r=Qi(t),a;if(e){var i=Qi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return W1(this,a)}}function W1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1(t)}function F1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Qi(t){return Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qi(t)}var Mg=function(t){$1(n,t);var e=j1(n);function n(){return L1(this,n),e.apply(this,arguments)}return M1(n,[{key:"isMultipart",value:function(){var a=this.props.collection;if(!a)return!1;var i=a.getProperty("behavior");return Array.isArray(i)?a.includes("multi-part"):i==="multi-part"}},{key:"render",value:function(){var a=this.props,i=a.canvasNavigation,o=a.classes,s=a.collectionPath,u=a.collection,l=a.id,c=a.isFetching,d=a.manifestId,f=a.parentCollection,g=a.updateCompanionWindow,v=a.updateWindow,m=a.t,b=a.variant,w=a.windowId,h=function(y){var E=y.manifest,S=x1(y,P1);return p.createElement(fr,Object.assign({className:o.menuItem,alignItems:"flex-start",button:!0,component:"li",selected:d===E.id},S),b==="thumbnail"&&p.createElement(pc,null,p.createElement(Yr,{resource:E,maxHeight:i.height,maxWidth:i.width})),p.createElement(Fr,null,n.getUseableLabel(E)))};return p.createElement(jn,{title:m(this.isMultipart()?"multipartCollection":"collection"),windowId:w,id:l,titleControls:p.createElement(p.Fragment,null,f&&p.createElement(rs,null,p.createElement(Ko,{button:!0,onClick:function(){return g({collectionPath:s.slice(0,-1)})}},p.createElement(pc,null,p.createElement(T1,null)),p.createElement(Fr,{primaryTypographyProps:{variant:"body1"}},n.getUseableLabel(f)))),p.createElement(pe,{variant:"h6"},u&&n.getUseableLabel(u),c&&p.createElement(Ir,{className:o.placeholder,variant:"text"})))},p.createElement(Jo,null,c&&p.createElement(fr,null,p.createElement(Fr,null,p.createElement(Ir,{className:o.placeholder,variant:"text"}),p.createElement(Ir,{className:o.placeholder,variant:"text"}),p.createElement(Ir,{className:o.placeholder,variant:"text"}))),u&&u.getCollections().map(function(I){var y=function(){g({collectionPath:[].concat(_1(s),[I.id])})};return p.createElement(h,{key:I.id,onClick:y,manifest:I})}),u&&u.getManifests().map(function(I){var y=function(){v({canvasId:null,collectionPath:s,manifestId:I.id}),g({multipart:!1})};return p.createElement(h,{key:I.id,onClick:y,manifest:I})})))}}],[{key:"getUseableLabel",value:function(a,i){return a&&a.getLabel&&a.getLabel().length>0?a.getLabel().getValue():a.id}}]),n}(p.Component);Mg.defaultProps={collection:null,collectionPath:[],error:null,isFetching:!1,parentCollection:null,ready:!1,t:function(e){return e},variant:null};var z1=function(e,n){var r=n.id,a=n.windowId,i=Mn(e,{windowId:a}),o=Wr(e,{companionWindowId:r}),s=o.collectionPath,u=s||i.collectionPath,l=u&&u[u.length-1],c=u&&u[u.length-2],d=l&&Zo(e,{manifestId:l}),f=c&&Zo(e,{manifestId:c}),g=Zo(e,{windowId:a});return{canvasNavigation:e.config.canvasNavigation,collection:d&&gr(e,{manifestId:d.id}),collectionId:l,collectionPath:u,error:d&&d.error,isFetching:d&&d.isFetching,manifestId:g&&g.id,parentCollection:f&&gr(e,{manifestId:f.id}),ready:d&&!!d.json,variant:o.variant||Oc(e,{windowId:a})}},U1=function(e,n){var r=n.id,a=n.windowId;return{updateCompanionWindow:function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return e(Qo.apply($n,[a,r].concat(s)))},updateWindow:function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return e(Fa.apply($n,[a].concat(s)))}}},H1=function(e){return{label:{paddingLeft:e.spacing(1)},menuItem:{borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:e.spacing(1),whiteSpace:"normal"}}},V1=Pe(xe(H1),Le(),Ae(z1,U1),je("WindowSideBarCollectionPanel")),G1=V1(Mg),Uu={annotations:LO,attribution:aP,canvas:BT,collection:G1,custom:E1,info:gC,layers:p1,search:dR,thumbnailNavigation:cS};function $g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$g(Object(n),!0).forEach(function(r){q1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$g(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(t){return X1(t)||Y1(t)||Z1(t)||K1()}function K1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1(t,e){if(!!t){if(typeof t=="string")return Hu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hu(t,e)}}function Y1(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X1(t){if(Array.isArray(t))return Hu(t)}function Hu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J1(t){return t.reduce(function(e,n){return Hc(e,[n.target,n.mode],function(r){return[].concat(Wg(r||[]),[n])})},{})}function Q1(t){return t.map(function(e){return jg(jg({},e),{},{component:t0(e)})})}function e0(t){return t.filter(function(e){return e.companionWindowKey}).forEach(function(e){Uu[e.companionWindowKey]=e.component}),Uu}function t0(t){return!t.mapStateToProps&&!t.mapDispatchToProps?t.component:Ae.apply(void 0,[t.mapStateToProps,t.mapDispatchToProps].concat(Wg(t.connectOptions||[])))(t.component)}function n0(t,e){return o0(t)||i0(t,e)||a0(t,e)||r0()}function r0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0(t,e){if(!!t){if(typeof t=="string")return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i0(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,s;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function o0(t){if(Array.isArray(t))return t}function Bg(t){var e=t.plugins,n=t.children,r=p.useState({}),a=n0(r,2),i=a[0],o=a[1];return p.useEffect(function(){var s=Q1(e);e0(s),o(J1(s))},[e]),p.createElement(yw.Provider,{value:i},n)}Bg.defaultProps={children:null,plugins:[]};var Ut={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},zg=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Ug=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Hg=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],At=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},Qt="fullscreenEnabled"in At&&Object.keys(Ut)||zg[0]in At&&zg||Ug[0]in At&&Ug||Hg[0]in At&&Hg||[],s0={requestFullscreen:function(t){return t[Qt[Ut.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[Qt[Ut.requestFullscreen]]},get exitFullscreen(){return At[Qt[Ut.exitFullscreen]].bind(At)},get fullscreenPseudoClass(){return":"+Qt[Ut.fullscreen]},addEventListener:function(t,e,n){return At.addEventListener(Qt[Ut[t]],e,n)},removeEventListener:function(t,e,n){return At.removeEventListener(Qt[Ut[t]],e,n)},get fullscreenEnabled(){return Boolean(At[Qt[Ut.fullscreenEnabled]])},set fullscreenEnabled(t){},get fullscreenElement(){return At[Qt[Ut.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return At[("on"+Qt[Ut.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return At[("on"+Qt[Ut.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return At[("on"+Qt[Ut.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return At[("on"+Qt[Ut.fullscreenerror]).toLowerCase()]=t}},u0=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function d(f,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,g,v){return g&&d(f.prototype,g),v&&d(f,v),f}}(),r=o(p),a=o(Sn),i=o(s0);function o(d){return d&&d.__esModule?d:{default:d}}function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function l(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var c=function(d){l(f,d);function f(g){s(this,f);var v=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g));return v.fullScreenElement=null,v.detectFullScreen=v.detectFullScreen.bind(v),v}return n(f,[{key:"componentDidMount",value:function(){i.default.addEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentWillUnmount",value:function(){i.default.removeEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentDidUpdate",value:function(){this.handleProps(this.props)}},{key:"handleProps",value:function(v){var m=i.default.fullscreenElement===this.node;m&&!v.enabled?this.leaveFullScreen():!m&&v.enabled&&this.enterFullScreen()}},{key:"detectFullScreen",value:function(){i.default.fullscreenElement===this.node?(this.fullScreenElement=i.default.fullscreenElement,this.props.onChange(!0)):!i.default.fullscreenElement&&this.fullScreenElement&&(this.fullScreenElement=null,this.props.onChange(!1))}},{key:"enterFullScreen",value:function(){i.default.fullscreenEnabled&&i.default.requestFullscreen(this.node)}},{key:"leaveFullScreen",value:function(){i.default.fullscreenEnabled&&i.default.exitFullscreen()}},{key:"render",value:function(){var v=this,m=["fullscreen"];return this.props.enabled&&m.push("fullscreen-enabled"),r.default.createElement("div",{className:m.join(" "),ref:function(w){return v.node=w},style:this.props.enabled?{height:"100%",width:"100%"}:void 0},this.props.children)}}]),f}(p.Component);c.propTypes={children:a.default.node.isRequired,enabled:a.default.bool.isRequired,onChange:a.default.func},c.defaultProps={enabled:!1,onChange:function(){}},e.default=c}),l0=nt(u0),en;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(en||(en={}));function ve(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!t){var i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;i=new Error(e.replace(/%s/g,function(){return r[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var Vu="dnd-core/INIT_COORDS",eo="dnd-core/BEGIN_DRAG",Gu="dnd-core/PUBLISH_DRAG_SOURCE",to="dnd-core/HOVER",no="dnd-core/DROP",ro="dnd-core/END_DRAG";function Vg(t,e){return{type:Vu,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function ao(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(n){return typeof n}:ao=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ao(t)}function c0(t,e,n){return e.split(".").reduce(function(r,a){return r&&r[a]?r[a]:n||null},t)}function d0(t,e){return t.filter(function(n){return n!==e})}function Gg(t){return ao(t)==="object"}function f0(t,e){var n=new Map,r=function(o){return n.set(o,n.has(o)?n.get(o)+1:1)};t.forEach(r),e.forEach(r);var a=[];return n.forEach(function(i,o){i===1&&a.push(o)}),a}function p0(t,e){return t.filter(function(n){return e.indexOf(n)>-1})}var g0={type:Vu,payload:{clientOffset:null,sourceClientOffset:null}};function v0(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},a=r.publishSource,i=a===void 0?!0:a,o=r.clientOffset,s=r.getSourceClientOffset,u=t.getMonitor(),l=t.getRegistry();t.dispatch(Vg(o)),h0(n,u,l);var c=y0(n,u);if(c===null){t.dispatch(g0);return}var d=null;o&&(m0(s),d=s(c)),t.dispatch(Vg(o,d));var f=l.getSource(c),g=f.beginDrag(u,c);b0(g),l.pinSource(c);var v=l.getSourceType(c);return{type:eo,payload:{itemType:v,item:g,sourceId:c,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}}function h0(t,e,n){ve(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){ve(n.getSource(r),"Expected sourceIds to be registered.")})}function m0(t){ve(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function b0(t){ve(Gg(t),"Item must be an object.")}function y0(t,e){for(var n=null,r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function w0(t){return function(){var n=t.getMonitor();if(n.isDragging())return{type:Gu}}}function qu(t,e){return e===null?t===null:Array.isArray(t)?t.some(function(n){return n===e}):t===e}function I0(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.clientOffset;S0(n);var i=n.slice(0),o=t.getMonitor(),s=t.getRegistry();O0(i,o,s);var u=o.getItemType();return E0(i,s,u),C0(i,o,s),{type:to,payload:{targetIds:i,clientOffset:a||null}}}}function S0(t){ve(Array.isArray(t),"Expected targetIds to be an array.")}function O0(t,e,n){ve(e.isDragging(),"Cannot call hover while not dragging."),ve(!e.didDrop(),"Cannot call hover after drop.");for(var r=0;r<t.length;r++){var a=t[r];ve(t.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array.");var i=n.getTarget(a);ve(i,"Expected targetIds to be registered.")}}function E0(t,e,n){for(var r=t.length-1;r>=0;r--){var a=t[r],i=e.getTargetType(a);qu(i,n)||t.splice(r,1)}}function C0(t,e,n){t.forEach(function(r){var a=n.getTarget(r);a.hover(e,r)})}function qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.getMonitor(),a=t.getRegistry();R0(r);var i=D0(r);i.forEach(function(o,s){var u=A0(o,s,a,r),l={type:no,payload:{dropResult:T0({},n,{},u)}};t.dispatch(l)})}}function R0(t){ve(t.isDragging(),"Cannot call drop while not dragging."),ve(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function A0(t,e,n,r){var a=n.getTarget(t),i=a?a.drop(r,t):void 0;return k0(i),typeof i=="undefined"&&(i=e===0?{}:r.getDropResult()),i}function k0(t){ve(typeof t=="undefined"||Gg(t),"Drop result must either be an object or undefined.")}function D0(t){var e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function x0(t){return function(){var n=t.getMonitor(),r=t.getRegistry();N0(n);var a=n.getSourceId(),i=r.getSource(a,!0);return i.endDrag(n,a),r.unpinSource(),{type:ro}}}function N0(t){ve(t.isDragging(),"Cannot call endDrag while not dragging.")}function L0(t){return{beginDrag:v0(t),publishDragSource:w0(t),hover:I0(t),drop:_0(t),endDrag:x0(t)}}var M0=function(e,n){return e===n};function $0(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function j0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M0;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Kg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kg(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zg={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function B0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zg,e=arguments.length>1?arguments[1]:void 0,n=e.payload;switch(e.type){case Vu:case eo:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case to:return $0(t.clientOffset,n.clientOffset)?t:W0({},t,{clientOffset:n.clientOffset});case ro:case no:return Zg;default:return t}}var Ku="dnd-core/ADD_SOURCE",Zu="dnd-core/ADD_TARGET",Yu="dnd-core/REMOVE_SOURCE",io="dnd-core/REMOVE_TARGET";function z0(t){return{type:Ku,payload:{sourceId:t}}}function U0(t){return{type:Zu,payload:{targetId:t}}}function H0(t){return{type:Yu,payload:{sourceId:t}}}function V0(t){return{type:io,payload:{targetId:t}}}function Yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yg(Object(n),!0).forEach(function(r){G0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q0={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function K0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q0,e=arguments.length>1?arguments[1]:void 0,n=e.payload;switch(e.type){case eo:return Rr({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Gu:return Rr({},t,{isSourcePublic:!0});case to:return Rr({},t,{targetIds:n.targetIds});case io:return t.targetIds.indexOf(n.targetId)===-1?t:Rr({},t,{targetIds:d0(t.targetIds,n.targetId)});case no:return Rr({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ro:return Rr({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Z0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Ku:case Zu:return t+1;case Yu:case io:return t-1;default:return t}}var oo=[],Xu=[];oo.__IS_NONE__=!0,Xu.__IS_ALL__=!0;function Y0(t,e){if(t===oo)return!1;if(t===Xu||typeof e=="undefined")return!0;var n=p0(e,t);return n.length>0}function X0(){var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case to:break;case Ku:case Zu:case io:case Yu:return oo;case eo:case Gu:case ro:case no:default:return Xu}var e=t.payload,n=e.targetIds,r=n===void 0?[]:n,a=e.prevTargetIds,i=a===void 0?[]:a,o=f0(r,i),s=o.length>0||!j0(r,i);if(!s)return oo;var u=i[i.length-1],l=r[r.length-1];return u!==l&&(u&&o.push(u),l&&o.push(l)),o}function J0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t+1}function Xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(n),!0).forEach(function(r){eN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:X0(t.dirtyHandlerIds,{type:e.type,payload:Q0({},e.payload,{prevTargetIds:c0(t,"dragOperation.targetIds",[])})}),dragOffset:B0(t.dragOffset,e),refCount:Z0(t.refCount,e),dragOperation:K0(t.dragOperation,e),stateId:J0(t.stateId)}}function nN(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Jg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rN(t){var e=t.clientOffset,n=t.initialClientOffset,r=t.initialSourceClientOffset;return!e||!n||!r?null:Jg(nN(e,r),n)}function aN(t){var e=t.clientOffset,n=t.initialClientOffset;return!e||!n?null:Jg(e,n)}function iN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oN(t,e,n){return e&&Qg(t.prototype,e),n&&Qg(t,n),t}var sN=function(){function t(e,n){iN(this,t),this.store=e,this.registry=n}return oN(t,[{key:"subscribeToStateChange",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},i=a.handlerIds;ve(typeof n=="function","listener must be a function."),ve(typeof i=="undefined"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,s=function(){var l=r.store.getState(),c=l.stateId;try{var d=c===o||c===o+1&&!Y0(l.dirtyHandlerIds,i);d||n()}finally{o=c}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(n){var r=this;ve(typeof n=="function","listener must be a function.");var a=this.store.getState().dragOffset,i=function(){var s=r.store.getState().dragOffset;s!==a&&(a=s,n())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n);return ve(r,"Expected to find a valid source."),this.isDragging()?!1:r.canDrag(this,n)}},{key:"canDropOnTarget",value:function(n){if(!n)return!1;var r=this.registry.getTarget(n);if(ve(r,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var a=this.registry.getTargetType(n),i=this.getItemType();return qu(a,i)&&r.canDrop(this,n)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n,!0);if(ve(r,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var a=this.registry.getSourceType(n),i=this.getItemType();return a!==i?!1:r.isDragging(this,n)}},{key:"isOverTarget",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!n)return!1;var a=r.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(n),o=this.getItemType();if(o&&!qu(i,o))return!1;var s=this.getTargetIds();if(!s.length)return!1;var u=s.indexOf(n);return a?u===s.length-1:u>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return rN(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return aN(this.store.getState().dragOffset)}}]),t}(),uN=0;function lN(){return uN++}function so(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?so=function(n){return typeof n}:so=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},so(t)}function cN(t){ve(typeof t.canDrag=="function","Expected canDrag to be a function."),ve(typeof t.beginDrag=="function","Expected beginDrag to be a function."),ve(typeof t.endDrag=="function","Expected endDrag to be a function.")}function dN(t){ve(typeof t.canDrop=="function","Expected canDrop to be a function."),ve(typeof t.hover=="function","Expected hover to be a function."),ve(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ju(t,e){if(e&&Array.isArray(t)){t.forEach(function(n){return Ju(n,!1)});return}ve(typeof t=="string"||so(t)==="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function uo(t){hn.length||lo(),hn[hn.length]=t}var hn=[],lo,mn=0,fN=1024;function ev(){for(;mn<hn.length;){var t=mn;if(mn=mn+1,hn[t].call(),mn>fN){for(var e=0,n=hn.length-mn;e<n;e++)hn[e]=hn[e+mn];hn.length-=mn,mn=0}}hn.length=0,mn=0}var tv=typeof $r!="undefined"?$r:self,nv=tv.MutationObserver||tv.WebKitMutationObserver;typeof nv=="function"?lo=pN(ev):lo=rv(ev),uo.requestFlush=lo;function pN(t){var e=1,n=new nv(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function rv(t){return function(){var n=setTimeout(a,0),r=setInterval(a,50);function a(){clearTimeout(n),clearInterval(r),t()}}}uo.makeRequestCallFromTimer=rv;var co=[],Qu=[],gN=uo.makeRequestCallFromTimer(vN);function vN(){if(Qu.length)throw Qu.shift()}function el(t){var e;co.length?e=co.pop():e=new hN,e.task=t,uo(e)}var hN=function(){function t(){}return t.prototype.call=function(){try{this.task.call()}catch(e){el.onerror?el.onerror(e):(Qu.push(e),gN())}finally{this.task=null,co[co.length]=this}},t}();function mN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bN(t,e,n){return e&&av(t.prototype,e),n&&av(t,n),t}function yN(t,e){return SN(t)||IN(t,e)||wN()}function wN(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function IN(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){a=!0,i=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function SN(t){if(Array.isArray(t))return t}function ON(t){var e=lN().toString();switch(t){case en.SOURCE:return"S".concat(e);case en.TARGET:return"T".concat(e);default:throw new Error("Unknown Handler Role: ".concat(t))}}function iv(t){switch(t[0]){case"S":return en.SOURCE;case"T":return en.TARGET;default:ve(!1,"Cannot parse handler ID: ".concat(t))}}function ov(t,e){var n=t.entries(),r=!1;do{var a=n.next(),i=a.done,o=yN(a.value,2),s=o[1];if(s===e)return!0;r=!!i}while(!r);return!1}var EN=function(){function t(e){mN(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}return bN(t,[{key:"addSource",value:function(n,r){Ju(n),cN(r);var a=this.addHandler(en.SOURCE,n,r);return this.store.dispatch(z0(a)),a}},{key:"addTarget",value:function(n,r){Ju(n,!0),dN(r);var a=this.addHandler(en.TARGET,n,r);return this.store.dispatch(U0(a)),a}},{key:"containsHandler",value:function(n){return ov(this.dragSources,n)||ov(this.dropTargets,n)}},{key:"getSource",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ve(this.isSourceId(n),"Expected a valid source ID.");var a=r&&n===this.pinnedSourceId,i=a?this.pinnedSource:this.dragSources.get(n);return i}},{key:"getTarget",value:function(n){return ve(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}},{key:"getSourceType",value:function(n){return ve(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}},{key:"getTargetType",value:function(n){return ve(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}},{key:"isSourceId",value:function(n){var r=iv(n);return r===en.SOURCE}},{key:"isTargetId",value:function(n){var r=iv(n);return r===en.TARGET}},{key:"removeSource",value:function(n){var r=this;ve(this.getSource(n),"Expected an existing source."),this.store.dispatch(H0(n)),el(function(){r.dragSources.delete(n),r.types.delete(n)})}},{key:"removeTarget",value:function(n){ve(this.getTarget(n),"Expected an existing target."),this.store.dispatch(V0(n)),this.dropTargets.delete(n),this.types.delete(n)}},{key:"pinSource",value:function(n){var r=this.getSource(n);ve(r,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=r}},{key:"unpinSource",value:function(){ve(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(n,r,a){var i=ON(n);return this.types.set(i,r),n===en.SOURCE?this.dragSources.set(i,a):n===en.TARGET&&this.dropTargets.set(i,a),i}}]),t}();function CN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TN(t,e,n){return e&&sv(t.prototype,e),n&&sv(t,n),t}function PN(t){var e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return as(tN,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var _N=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;CN(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var a=e.store.getState().refCount>0;e.backend&&(a&&!e.isSetUp?(e.backend.setup(),e.isSetUp=!0):!a&&e.isSetUp&&(e.backend.teardown(),e.isSetUp=!1))};var r=PN(n);this.store=r,this.monitor=new sN(r,new EN(r)),r.subscribe(this.handleRefCountChange)}return TN(t,[{key:"receiveBackend",value:function(n){this.backend=n}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var n=this,r=this.store.dispatch;function a(o){return function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=o.apply(n,u);typeof c!="undefined"&&r(c)}}var i=L0(this);return Object.keys(i).reduce(function(o,s){var u=i[s];return o[s]=a(u),o},{})}},{key:"dispatch",value:function(n){this.store.dispatch(n)}}]),t}();function RN(t,e,n,r){var a=new _N(r),i=t(a,e,n);return a.receiveBackend(i),a}var ma=p.createContext({dragDropManager:void 0});function uv(t,e,n,r){return{dragDropManager:RN(t,e,n,r)}}function AN(t,e){return xN(t)||DN(t,e)||kN()}function kN(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function DN(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){a=!0,i=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function xN(t){if(Array.isArray(t))return t}function NN(t,e){if(t==null)return{};var n=LN(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function LN(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var tl=0,fo=p.memo(function(t){var e=t.children,n=NN(t,["children"]),r=MN(n),a=AN(r,2),i=a[0],o=a[1];return p.useEffect(function(){return o&&tl++,function(){if(o&&(tl--,tl===0)){var s=lv();s[po]=null}}},[]),p.createElement(ma.Provider,{value:i},e)});fo.displayName="DndProvider";function MN(t){if("manager"in t){var e={dragDropManager:t.manager};return[e,!1]}var n=$N(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[n,r]}var po=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function $N(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lv(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=e;return a[po]||(a[po]=uv(t,e,n,r)),a[po]}function lv(){return typeof $r!="undefined"?$r:window}var cv=typeof window!="undefined"?p.useLayoutEffect:p.useEffect;function dv(t,e,n,r){var a=n?n.call(r,t,e):void 0;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<i.length;u++){var l=i[u];if(!s(l))return!1;var c=t[l],d=e[l];if(a=n?n.call(r,c,d,l):void 0,a===!1||a===void 0&&c!==d)return!1}return!0}function jN(t,e){return BN(t)||FN(t,e)||WN()}function WN(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function FN(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){a=!0,i=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function BN(t){if(Array.isArray(t))return t}function fv(t,e,n){var r=p.useState(function(){return e(t)}),a=jN(r,2),i=a[0],o=a[1],s=p.useCallback(function(){var u=e(t);dv(i,u)||(o(u),n&&n())},[i,t,n]);return cv(s,[]),[i,s]}function pv(){var t=p.useContext(ma),e=t.dragDropManager;return ve(e!=null,"Expected drag drop context"),e}function zN(t,e){return VN(t)||HN(t,e)||UN()}function UN(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function HN(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){a=!0,i=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function VN(t){if(Array.isArray(t))return t}function gv(t){var e=pv(),n=e.getMonitor(),r=fv(n,t),a=zN(r,2),i=a[0],o=a[1];return p.useEffect(function(){return n.subscribeToOffsetChange(o)}),p.useEffect(function(){return n.subscribeToStateChange(o)}),i}var ba=function(t,e){return{_isMBTransition:!0,event:t,check:e}},vv=ba("touchstart",function(t){return t.touches!=null}),hv=ba("dragstart",function(t){return t.type?t.type.indexOf("drag")!==-1||t.type.indexOf("drop")!==-1:!1}),mv=ba("mousedown",function(t){return t.type?t.type.indexOf("touch")===-1&&t.type.indexOf("mouse")!==-1:!1});function GN(t){if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(t=qN(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,i=!1,o;return{s:function(){r=t[Symbol.iterator]()},n:function(){var u=r.next();return a=u.done,u},e:function(u){i=!0,o=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}}}function qN(t,e){if(!!t){if(typeof t=="string")return bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(t,e)}}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yv=function t(){var e=this;KN(this,t),this.register=function(n){e.previews.push(n)},this.unregister=function(n){for(var r;(r=e.previews.indexOf(n))!==-1;)e.previews.splice(r,1)},this.backendChanged=function(n){var r=GN(e.previews),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;i.backendChanged(n)}}catch(o){r.e(o)}finally{r.f()}},this.previews=[]};function ZN(t){return QN(t)||JN(t)||XN(t)||YN()}function YN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XN(t,e){if(!!t){if(typeof t=="string")return nl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nl(t,e)}}function JN(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function QN(t){if(Array.isArray(t))return nl(t)}function nl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var wv=function t(e,n,r){var a=this;eL(this,t),this.setup=function(){if(typeof window!="undefined"){if(a.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");a.constructor.isSetUp=!0,a.addEventListeners(window),a.backends[a.current].instance.setup()}},this.teardown=function(){typeof window!="undefined"&&(a.constructor.isSetUp=!1,a.removeEventListeners(window),a.backends[a.current].instance.teardown())},this.connectDragSource=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return a.connectBackend("connectDragSource",s)},this.connectDragPreview=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return a.connectBackend("connectDragPreview",s)},this.connectDropTarget=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return a.connectBackend("connectDropTarget",s)},this.previewEnabled=function(){return a.backends[a.current].preview},this.addEventListeners=function(o){a.backends.forEach(function(s){s.transition&&o.addEventListener(s.transition.event,a.backendSwitcher,!0)})},this.removeEventListeners=function(o){a.backends.forEach(function(s){s.transition&&o.removeEventListener(s.transition.event,a.backendSwitcher,!0)})},this.backendSwitcher=function(o){var s=a.current,u=0;if(a.backends.some(function(d){return u!==a.current&&d.transition&&d.transition.check(o)?(a.current=u,!0):(u+=1,!1)}),a.current!==s){a.backends[s].instance.teardown(),Object.keys(a.nodes).forEach(function(d){var f=a.nodes[d];f.handler(),f.handler=a.callBackend(f.func,f.args)}),a.previews.backendChanged(a);var l=a.backends[a.current];if(l.instance.setup(),l.skipDispatchOnTransition)return;var c=null;try{c=new o.constructor(o.type,o)}catch(d){c=document.createEvent("Event"),c.initEvent(o.type,o.bubbles,o.cancelable)}o.target.dispatchEvent(c)}},this.callBackend=function(o,s){var u;return(u=a.backends[a.current].instance)[o].apply(u,ZN(s))},this.connectBackend=function(o,s){var u="".concat(o,"_").concat(s[0]),l=a.callBackend(o,s);return a.nodes[u]={func:o,args:s,handler:l},function(){var c,d=(c=a.nodes[u]).handler.apply(c,arguments);return delete a.nodes[u],d}};var i=Object.assign({backends:[]},r||{});if(i.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);this.current=0,this.previews=new yv,this.backends=[],i.backends.forEach(function(o){if(!o.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(o));var s=o.transition;if(s&&!s._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: ".concat(o));a.backends.push({instance:o.backend(e,n,o.options),preview:o.preview||!1,transition:s,skipDispatchOnTransition:Boolean(o.skipDispatchOnTransition)})}),this.nodes={}},go=function(t,e,n){return new wv(t,e,n)},Iv=Object.freeze({__proto__:null,MultiBackend:wv,default:go,HTML5DragTransition:hv,TouchTransition:vv,MouseTransition:mv,createTransition:ba,PreviewList:yv});function rl(){return rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}var Sv=p.createContext(null),Ov=function(e){var n=p.useRef();return p.createElement(Sv.Provider,{value:n.current},p.createElement(fo,rl({backend:go},e)),p.createElement("div",{ref:n}))};Ov.propTypes={manager:Sn.any,context:Sn.any,options:Sn.any,debugMode:Sn.bool};var tL=function(e){var n="translate(".concat(e.x,"px, ").concat(e.y,"px)");return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:n,WebkitTransform:n}},Ev=function(){var e=gv(function(n){return{currentOffset:n.getSourceClientOffset(),isDragging:n.isDragging(),itemType:n.getItemType(),item:n.getItem()}});return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:tL(e.currentOffset)}},al=p.createContext();function nL(t,e){if(t==null)return{};var n=rL(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function rL(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var il=function(e){var n=Ev(),r=n.display,a=nL(n,["display"]);if(!r)return null;var i;return e.children&&typeof e.children=="function"?i=e.children(a):e.children?i=e.children:i=e.generator(a),p.createElement(al.Provider,{value:a},i)};il.propTypes={generator:Sn.func,children:Sn.oneOfType([Sn.node,Sn.func])};function aL(t,e){return uL(t)||sL(t,e)||oL(t,e)||iL()}function iL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oL(t,e){if(!!t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(t,e)}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sL(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){a=!0,i=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function uL(t){if(Array.isArray(t))return t}var Tv=function(){var e=p.useState(!1),n=aL(e,2),r=n[0],a=n[1],i=p.useContext(ma);return p.useEffect(function(){var o={backendChanged:function(l){a(l.previewEnabled())}},s=i.dragDropManager.getBackend().previews;return s.register(o),function(){s.unregister(o)}},[i,a]),r},ol=function(e){var n=Tv(),r=p.useContext(Sv);if(!n)return null;var a=p.createElement(il,e);return r?jr.createPortal(a,r):a};ol.Context=al,ol.propTypes=il.propTypes;function Pv(t){var e=null,n=function(){return e==null&&(e=t()),e};return n}function lL(t,e){return t.filter(function(n){return n!==e})}function cL(t,e){var n=new Set,r=function(o){return n.add(o)};t.forEach(r),e.forEach(r);var a=[];return n.forEach(function(i){return a.push(i)}),a}function dL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fL(t,e,n){return e&&_v(t.prototype,e),n&&_v(t,n),t}var pL=function(){function t(e){dL(this,t),this.entered=[],this.isNodeInDocument=e}return fL(t,[{key:"enter",value:function(n){var r=this,a=this.entered.length,i=function(s){return r.isNodeInDocument(s)&&(!s.contains||s.contains(n))};return this.entered=cL(this.entered.filter(i),[n]),a===0&&this.entered.length>0}},{key:"leave",value:function(n){var r=this.entered.length;return this.entered=lL(this.entered.filter(this.isNodeInDocument),n),r>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),t}(),Rv=Pv(function(){return/firefox/i.test(navigator.userAgent)}),Av=Pv(function(){return Boolean(window.safari)});function gL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vL(t,e,n){return e&&kv(t.prototype,e),n&&kv(t,n),t}var Dv=function(){function t(e,n){gL(this,t);for(var r=e.length,a=[],i=0;i<r;i++)a.push(i);a.sort(function(k,L){return e[k]<e[L]?-1:1});for(var o=[],s=[],u,l,c=0;c<r-1;c++)u=e[c+1]-e[c],l=n[c+1]-n[c],o.push(u),s.push(l/u);for(var d=[s[0]],f=0;f<o.length-1;f++){var g=s[f],v=s[f+1];if(g*v<=0)d.push(0);else{u=o[f];var m=o[f+1],b=u+m;d.push(3*b/((b+m)/g+(b+u)/v))}}d.push(s[s.length-1]);for(var w=[],h=[],I,y=0;y<d.length-1;y++){I=s[y];var E=d[y],S=1/o[y],C=E+d[y+1]-I-I;w.push((I-E-C)*S),h.push(C*S*S)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=w,this.c3s=h}return vL(t,[{key:"interpolate",value:function(n){var r=this.xs,a=this.ys,i=this.c1s,o=this.c2s,s=this.c3s,u=r.length-1;if(n===r[u])return a[u];for(var l=0,c=s.length-1,d;l<=c;){d=Math.floor(.5*(l+c));var f=r[d];if(f<n)l=d+1;else if(f>n)c=d-1;else return a[d]}u=Math.max(0,c);var g=n-r[u],v=g*g;return a[u]+i[u]*g+o[u]*v+s[u]*g*v}}]),t}(),hL=1;function xv(t){var e=t.nodeType===hL?t:t.parentElement;if(!e)return null;var n=e.getBoundingClientRect(),r=n.top,a=n.left;return{x:a,y:r}}function vo(t){return{x:t.clientX,y:t.clientY}}function mL(t){return t.nodeName==="IMG"&&(Rv()||!document.documentElement.contains(t))}function bL(t,e,n,r){var a=t?e.width:n,i=t?e.height:r;return Av()&&t&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function yL(t,e,n,r,a){var i=mL(e),o=i?t:e,s=xv(o),u={x:n.x-s.x,y:n.y-s.y},l=t.offsetWidth,c=t.offsetHeight,d=r.anchorX,f=r.anchorY,g=bL(i,e,l,c),v=g.dragPreviewWidth,m=g.dragPreviewHeight,b=function(){var C=new Dv([0,.5,1],[u.y,u.y/c*m,u.y+m-c]),k=C.interpolate(f);return Av()&&i&&(k+=(window.devicePixelRatio-1)*m),k},w=function(){var C=new Dv([0,.5,1],[u.x,u.x/l*v,u.x+v-l]);return C.interpolate(d)},h=a.offsetX,I=a.offsetY,y=h===0||h,E=I===0||I;return{x:y?h:w(),y:E?I:b()}}var sl="__NATIVE_FILE__",ul="__NATIVE_URL__",Nv="__NATIVE_TEXT__",ll=Object.freeze({__proto__:null,FILE:sl,URL:ul,TEXT:Nv});function Lv(t,e,n){var r=e.reduce(function(a,i){return a||t.getData(i)},"");return r??n}var ya;function cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dl=(ya={},cl(ya,sl,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),cl(ya,ul,{exposeProperties:{urls:function(e,n){return Lv(e,n,"").split(`
`)}},matchesTypes:["Url","text/uri-list"]}),cl(ya,Nv,{exposeProperties:{text:function(e,n){return Lv(e,n,"")}},matchesTypes:["Text","text/plain"]}),ya);function wL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IL(t,e,n){return e&&Mv(t.prototype,e),n&&Mv(t,n),t}var SL=function(){function t(e){wL(this,t),this.config=e,this.item={},this.initializeExposedProperties()}return IL(t,[{key:"initializeExposedProperties",value:function(){var n=this;Object.keys(this.config.exposeProperties).forEach(function(r){Object.defineProperty(n.item,r,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(r,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(n){var r=this;if(n){var a={};Object.keys(this.config.exposeProperties).forEach(function(i){a[i]={value:r.config.exposeProperties[i](n,r.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,a)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(n,r){return r===n.getSourceId()}},{key:"endDrag",value:function(){}}]),t}();function OL(t,e){var n=new SL(dl[t]);return n.loadDataTransfer(e),n}function $v(t){if(!t)return null;var e=Array.prototype.slice.call(t.types||[]);return Object.keys(dl).filter(function(n){var r=dl[n].matchesTypes;return r.some(function(a){return e.indexOf(a)>-1})})[0]||null}function EL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CL(t,e,n){return e&&jv(t.prototype,e),n&&jv(t,n),t}var TL=function(){function t(e){EL(this,t),this.globalContext=e}return CL(t,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),t}();function Wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(n),!0).forEach(function(r){PL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RL(t,e,n){return e&&Bv(t.prototype,e),n&&Bv(t,n),t}var AL=function(){function t(e,n){var r=this;_L(this,t),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(a){return xv(r.sourceNodes.get(a))},this.endDragNativeItem=function(){!r.isDraggingNativeItem()||(r.actions.endDrag(),r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(a){return r.document&&r.document.body&&document.body.contains(a)},this.endDragIfSourceWasRemovedFromDOM=function(){var a=r.currentDragSourceNode;r.isNodeInDocument(a)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(a){if(!a.defaultPrevented){var i=r.dragStartSourceIds;r.dragStartSourceIds=null;var o=vo(a);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:o});var s=a.dataTransfer,u=$v(s);if(r.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){var l=r.monitor.getSourceId(),c=r.sourceNodes.get(l),d=r.sourcePreviewNodes.get(l)||c;if(d){var f=r.getCurrentSourcePreviewNodeOptions(),g=f.anchorX,v=f.anchorY,m=f.offsetX,b=f.offsetY,w={anchorX:g,anchorY:v},h={offsetX:m,offsetY:b},I=yL(c,d,o,w,h);s.setDragImage(d,I.x,I.y)}}try{s.setData("application/json",{})}catch(S){}r.setCurrentDragSourceNode(a.target);var y=r.getCurrentSourcePreviewNodeOptions(),E=y.captureDraggingState;E?r.actions.publishDragSource():setTimeout(function(){return r.actions.publishDragSource()},0)}else if(u)r.beginDragNativeItem(u);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(a){r.dragEnterTargetIds=[];var i=r.enterLeaveCounter.enter(a.target);if(!(!i||r.monitor.isDragging())){var o=a.dataTransfer,s=$v(o);s&&r.beginDragNativeItem(s,o)}},this.handleTopDragEnter=function(a){var i=r.dragEnterTargetIds;if(r.dragEnterTargetIds=[],!!r.monitor.isDragging()){r.altKeyPressed=a.altKey,Rv()||r.actions.hover(i,{clientOffset:vo(a)});var o=i.some(function(s){return r.monitor.canDropOnTarget(s)});o&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=r.getCurrentDropEffect()))}},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(a){var i=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}r.altKeyPressed=a.altKey,r.actions.hover(i||[],{clientOffset:vo(a)});var o=(i||[]).some(function(s){return r.monitor.canDropOnTarget(s)});o?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(a){r.isDraggingNativeItem()&&a.preventDefault();var i=r.enterLeaveCounter.leave(a.target);!i||r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(a){r.dropTargetIds=[],a.preventDefault(),r.isDraggingNativeItem()&&r.currentNativeSource.loadDataTransfer(a.dataTransfer),r.enterLeaveCounter.reset()},this.handleTopDrop=function(a){var i=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(i,{clientOffset:vo(a)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(a){var i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new TL(n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new pL(this.isNodeInDocument)}return RL(t,[{key:"setup",value:function(){if(this.window!==void 0){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){this.window!==void 0&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(n,r,a){var i=this;return this.sourcePreviewNodeOptions.set(n,a),this.sourcePreviewNodes.set(n,r),function(){i.sourcePreviewNodes.delete(n),i.sourcePreviewNodeOptions.delete(n)}}},{key:"connectDragSource",value:function(n,r,a){var i=this;this.sourceNodes.set(n,r),this.sourceNodeOptions.set(n,a);var o=function(l){return i.handleDragStart(l,n)},s=function(l){return i.handleSelectStart(l)};return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",s),function(){i.sourceNodes.delete(n),i.sourceNodeOptions.delete(n),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(n,r){var a=this,i=function(l){return a.handleDragEnter(l,n)},o=function(l){return a.handleDragOver(l,n)},s=function(l){return a.handleDrop(l,n)};return r.addEventListener("dragenter",i),r.addEventListener("dragover",o),r.addEventListener("drop",s),function(){r.removeEventListener("dragenter",i),r.removeEventListener("dragover",o),r.removeEventListener("drop",s)}}},{key:"addEventListeners",value:function(n){!n.addEventListener||(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(n){!n.removeEventListener||(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(n);return Fv({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(n);return Fv({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}},{key:"isDraggingNativeItem",value:function(){var n=this.monitor.getItemType();return Object.keys(ll).some(function(r){return ll[r]===n})}},{key:"beginDragNativeItem",value:function(n,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=OL(n,r),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(n){var r=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;var a=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){return r.window&&r.window.addEventListener("mousemove",r.endDragIfSourceWasRemovedFromDOM,!0)},a)}},{key:"clearCurrentDragSourceNode",value:function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0):!1}},{key:"handleDragStart",value:function(n,r){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}},{key:"handleDragEnter",value:function(n,r){this.dragEnterTargetIds.unshift(r)}},{key:"handleDragOver",value:function(n,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}},{key:"handleDrop",value:function(n,r){this.dropTargetIds.unshift(r)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}]),t}(),ho;function kL(){return ho||(ho=new Image,ho.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ho}var DL=function(e,n){return new AL(e,n)},xL=Object.freeze({__proto__:null,NativeTypes:ll,default:DL,getEmptyImage:kL}),Vn;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Vn||(Vn={}));var NL={Left:1,Right:2,Center:4},LL={Left:0,Center:1,Right:2};function fl(t){return t.button===void 0||t.button===LL.Left}function ML(t){return t.buttons===void 0||(t.buttons&NL.Left)==0}function zv(t){return!!t.targetTouches}var $L=1;function jL(t){var e=t.nodeType===$L?t:t.parentElement;if(!!e){var n=e.getBoundingClientRect(),r=n.top,a=n.left;return{x:a,y:r}}}function WL(t,e){if(t.targetTouches.length===1)return mo(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return mo(t.touches[0])}function mo(t,e){return zv(t)?WL(t,e):{x:t.clientX,y:t.clientY}}function FL(t,e,n,r){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function BL(t,e,n,r,a){if(!a)return!1;for(var i=Math.atan2(r-e,n-t)*180/Math.PI+180,o=0;o<a.length;++o)if((a[o].start==null||i>=a[o].start)&&(a[o].end==null||i<=a[o].end))return!0;return!1}function zL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UL(t,e,n){return e&&Uv(t.prototype,e),n&&Uv(t,n),t}var HL=function(){function t(e,n){var r=this;zL(this,t),this.enableTouchEvents=!0,this.enableMouseEvents=!1,this.enableKeyboardEvents=!1,this.ignoreContextMenu=!1,this.enableHoverOutsideTarget=!1,this.touchSlop=0,this.scrollAngleRanges=void 0,this.context=n,this.delayTouchStart=e.delayTouchStart||e.delay||0,this.delayMouseStart=e.delayMouseStart||e.delay||0,Object.keys(e).forEach(function(a){e[a]!=null&&(r[a]=e[a])})}return UL(t,[{key:"window",get:function(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),t}(),wa;function VL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GL(t,e,n){return e&&Hv(t.prototype,e),n&&Hv(t,n),t}function pl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ia=(wa={},pl(wa,Vn.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),pl(wa,Vn.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),pl(wa,Vn.keyboard,{keydown:"keydown"}),wa),qL=function(){function t(e,n,r){var a=this;VL(this,t),this.getSourceClientOffset=function(i){return jL(a.sourceNodes[i])},this.handleTopMoveStartCapture=function(i){!fl(i)||(a.moveStartSourceIds=[])},this.handleMoveStart=function(i){Array.isArray(a.moveStartSourceIds)&&a.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=function(i){if(!!fl(i)){var o=mo(i);o&&(zv(i)&&(a.lastTargetTouchFallback=i.targetTouches[0]),a._mouseClientOffset=o),a.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(i){if(!!fl(i)){var o=i.type===Ia.touch.start?a.options.delayTouchStart:a.options.delayMouseStart;a.timeout=setTimeout(a.handleTopMoveStart.bind(a,i),o),a.waitingForDelay=!0}},this.handleTopMoveCapture=function(){a.dragOverTargetIds=[]},this.handleMove=function(i,o){a.dragOverTargetIds&&a.dragOverTargetIds.unshift(o)},this.handleTopMove=function(i){if(a.timeout&&clearTimeout(a.timeout),!(!a.document||a.waitingForDelay)){var o=a.moveStartSourceIds,s=a.dragOverTargetIds,u=a.options.enableHoverOutsideTarget,l=mo(i,a.lastTargetTouchFallback);if(!!l){if(a._isScrolling||!a.monitor.isDragging()&&BL(a._mouseClientOffset.x||0,a._mouseClientOffset.y||0,l.x,l.y,a.options.scrollAngleRanges)){a._isScrolling=!0;return}if(!a.monitor.isDragging()&&a._mouseClientOffset.hasOwnProperty("x")&&o&&FL(a._mouseClientOffset.x||0,a._mouseClientOffset.y||0,l.x,l.y)>(a.options.touchSlop?a.options.touchSlop:0)&&(a.moveStartSourceIds=void 0,a.actions.beginDrag(o,{clientOffset:a._mouseClientOffset,getSourceClientOffset:a.getSourceClientOffset,publishSource:!1})),!!a.monitor.isDragging()){var c=a.sourceNodes[a.monitor.getSourceId()];a.installSourceNodeRemovalObserver(c),a.actions.publishDragSource(),i.preventDefault();var d=(s||[]).map(function(h){return a.targetNodes[h]}),f=a.options.getDropTargetElementsAtPoint?a.options.getDropTargetElementsAtPoint(l.x,l.y,d):a.document.elementsFromPoint(l.x,l.y),g=[];for(var v in f)if(!!f.hasOwnProperty(v)){var m=f[v];for(g.push(m);m;)m=m.parentElement,g.indexOf(m)===-1&&g.push(m)}var b=g.filter(function(h){return d.indexOf(h)>-1}).map(function(h){for(var I in a.targetNodes)if(h===a.targetNodes[I])return I}).filter(function(h){return!!h}).filter(function(h,I,y){return y.indexOf(h)===I});if(u){for(var w in a.targetNodes)if(a.targetNodes[w]&&a.targetNodes[w].contains(c)&&b.indexOf(w)===-1){b.unshift(w);break}}b.reverse(),a.actions.hover(b,{clientOffset:l})}}}},this.handleTopMoveEndCapture=function(i){if(a._isScrolling=!1,a.lastTargetTouchFallback=void 0,!!ML(i)){if(!a.monitor.isDragging()||a.monitor.didDrop()){a.moveStartSourceIds=void 0;return}i.preventDefault(),a._mouseClientOffset={},a.uninstallSourceNodeRemovalObserver(),a.actions.drop(),a.actions.endDrag()}},this.handleCancelOnEscape=function(i){i.key==="Escape"&&a.monitor.isDragging()&&(a._mouseClientOffset={},a.uninstallSourceNodeRemovalObserver(),a.actions.endDrag())},this.options=new HL(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes={},this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.targetNodes={},this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Vn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Vn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Vn.keyboard)}return GL(t,[{key:"setup",value:function(){!this.window||(ve(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(this.window,"start",this.getTopMoveStartHandler()),this.addEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(this.window,"move",this.handleTopMove),this.addEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.addEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(this.window,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){!this.window||(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(this.window,"start",this.handleTopMoveStart),this.removeEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.removeEventListener(this.window,"move",this.handleTopMove),this.removeEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(this.window,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(n,r,a,i){var o=i;this.listenerTypes.forEach(function(s){var u=Ia[s][r];u&&n.addEventListener(u,a,o)})}},{key:"removeEventListener",value:function(n,r,a,i){var o=i;this.listenerTypes.forEach(function(s){var u=Ia[s][r];u&&n.removeEventListener(u,a,o)})}},{key:"connectDragSource",value:function(n,r){var a=this,i=this.handleMoveStart.bind(this,n);return this.sourceNodes[n]=r,this.addEventListener(r,"start",i),function(){delete a.sourceNodes[n],a.removeEventListener(r,"start",i)}}},{key:"connectDragPreview",value:function(n,r,a){var i=this;return this.sourcePreviewNodeOptions[n]=a,this.sourcePreviewNodes[n]=r,function(){delete i.sourcePreviewNodes[n],delete i.sourcePreviewNodeOptions[n]}}},{key:"connectDropTarget",value:function(n,r){var a=this;if(!this.document)return function(){return null};var i=function(s){if(!(!a.document||!a.monitor.isDragging())){var u;switch(s.type){case Ia.mouse.move:u={x:s.clientX,y:s.clientY};break;case Ia.touch.move:u={x:s.touches[0].clientX,y:s.touches[0].clientY};break}var l=u!=null?a.document.elementFromPoint(u.x,u.y):void 0,c=l&&r.contains(l);if(l===r||c)return a.handleMove(s,n)}};return this.addEventListener(this.document.body,"move",i),this.targetNodes[n]=r,function(){a.document&&(delete a.targetNodes[n],a.removeEventListener(a.document.body,"move",i))}}},{key:"getTopMoveStartHandler",value:function(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}},{key:"installSourceNodeRemovalObserver",value:function(n){var r=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=n,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){n&&!n.parentElement&&(r.resurrectSourceNode(),r.uninstallSourceNodeRemovalObserver())}),!(!n||!n.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(n.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),t}(),KL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new qL(e,n,r)},Vv=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(xL),r=a(KL);function a(o){return o&&o.__esModule?o:{default:o}}var i={backends:[{backend:n.default,transition:Iv.MouseTransition},{backend:r.default,options:{enableMouseEvents:!0},preview:!0,transition:Iv.TouchTransition}]};e.default=i}),ZL=nt(Vv);function Gv(t){return t.reduce(function(e,n){var r=n[0],a=n[1];return e[r]=a,e[a]=r,e},{})}function YL(t){return typeof t=="string"&&t.match(/var\(.*\)/g)}function XL(t){return typeof t=="boolean"}function JL(t){return typeof t=="function"}function Sa(t){return typeof t=="number"}function QL(t){return t===null||typeof t=="undefined"}function eM(t){return t&&typeof t=="object"}function tM(t){return typeof t=="string"}function bo(t,e){return t.indexOf(e)!==-1}function nM(t){return parseFloat(t)===0?t:t[0]==="-"?t.slice(1):"-"+t}function yo(t,e,n,r){return e+nM(n)+r}function rM(t){var e=t.indexOf(".");if(e===-1)t=100-parseFloat(t)+"%";else{var n=t.length-e-2;t=100-parseFloat(t),t=t.toFixed(n)+"%"}return t}function qv(t){return t.replace(/ +/g," ").split(" ").map(function(e){return e.trim()}).filter(Boolean).reduce(function(e,n){var r=e.list,a=e.state,i=(n.match(/\(/g)||[]).length,o=(n.match(/\)/g)||[]).length;return a.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+n:r.push(n),a.parensDepth+=i-o,{list:r,state:a}},{list:[],state:{parensDepth:0}}).list}function Kv(t){var e=qv(t);if(e.length<=3||e.length>4)return t;var n=e[0],r=e[1],a=e[2],i=e[3];return[n,i,a,r].join(" ")}function aM(t){return!XL(t)&&!QL(t)&&!YL(t)}function iM(t){for(var e=[],n=0,r=0,a=!1;r<t.length;)!a&&t[r]===","?(e.push(t.substring(n,r).trim()),r++,n=r):t[r]==="("?(a=!0,r++):(t[r]===")"&&(a=!1),r++);return n!=r&&e.push(t.substring(n,r+1)),e}var _={padding:function(e){var n=e.value;return Sa(n)?n:Kv(n)},textShadow:function(e){var n=e.value,r=iM(n).map(function(a){return a.replace(/(-*)([.|\d]+)/,function(i,o,s){if(s==="0")return i;var u=o===""?"-":"";return""+u+s})});return r.join(",")},borderColor:function(e){var n=e.value;return Kv(n)},borderRadius:function(e){var n=e.value;if(Sa(n))return n;if(bo(n,"/")){var r=n.split("/"),a=r[0],i=r[1],o=_.borderRadius({value:a.trim()}),s=_.borderRadius({value:i.trim()});return o+" / "+s}var u=qv(n);switch(u.length){case 2:return u.reverse().join(" ");case 4:{var l=u[0],c=u[1],d=u[2],f=u[3];return[c,l,f,d].join(" ")}default:return n}},background:function(e){var n=e.value,r=e.valuesToConvert,a=e.isRtl,i=e.bgImgDirectionRegex,o=e.bgPosDirectionRegex;if(Sa(n))return n;var s=n.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return n=n.replace(s,_.backgroundPosition({value:s,valuesToConvert:r,isRtl:a,bgPosDirectionRegex:o})),_.backgroundImage({value:n,valuesToConvert:r,bgImgDirectionRegex:i})},backgroundImage:function(e){var n=e.value,r=e.valuesToConvert,a=e.bgImgDirectionRegex;return!bo(n,"url(")&&!bo(n,"linear-gradient(")?n:n.replace(a,function(i,o,s){return i.replace(s,r[s])})},backgroundPosition:function(e){var n=e.value,r=e.valuesToConvert,a=e.isRtl,i=e.bgPosDirectionRegex;return n.replace(a?/^((-|\d|\.)+%)/:null,function(o,s){return rM(s)}).replace(i,function(o){return r[o]})},backgroundPositionX:function(e){var n=e.value,r=e.valuesToConvert,a=e.isRtl,i=e.bgPosDirectionRegex;return Sa(n)?n:_.backgroundPosition({value:n,valuesToConvert:r,isRtl:a,bgPosDirectionRegex:i})},transition:function(e){var n=e.value,r=e.propertiesToConvert;return n.split(/,\s*/g).map(function(a){var i=a.split(" ");return i[0]=r[i[0]]||i[0],i.join(" ")}).join(", ")},transitionProperty:function(e){var n=e.value,r=e.propertiesToConvert;return n.split(/,\s*/g).map(function(a){return r[a]||a}).join(", ")},transform:function(e){var n=e.value,r="[^\\u0020-\\u007e]",a="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",i="((?:-?"+("(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|"+("-?"+("(?:[_a-z]|"+r+"|"+a+")")+("(?:[_a-z0-9-]|"+r+"|"+a+")")+"*")+")?")+")|(?:inherit|auto))",o=new RegExp("(translateX\\s*\\(\\s*)"+i+"(\\s*\\))","gi"),s=new RegExp("(translate\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,1}\\s*\\))","gi"),u=new RegExp("(translate3d\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+i+"(\\s*\\))","gi");return n.replace(o,yo).replace(s,yo).replace(u,yo).replace(l,yo)}};_.objectPosition=_.backgroundPosition,_.margin=_.padding,_.borderWidth=_.padding,_.boxShadow=_.textShadow,_.webkitBoxShadow=_.boxShadow,_.mozBoxShadow=_.boxShadow,_.WebkitBoxShadow=_.boxShadow,_.MozBoxShadow=_.boxShadow,_.borderStyle=_.borderColor,_.webkitTransform=_.transform,_.mozTransform=_.transform,_.WebkitTransform=_.transform,_.MozTransform=_.transform,_.transformOrigin=_.backgroundPosition,_.webkitTransformOrigin=_.transformOrigin,_.mozTransformOrigin=_.transformOrigin,_.WebkitTransformOrigin=_.transformOrigin,_.MozTransformOrigin=_.transformOrigin,_.webkitTransition=_.transition,_.mozTransition=_.transition,_.WebkitTransition=_.transition,_.MozTransition=_.transition,_.webkitTransitionProperty=_.transitionProperty,_.mozTransitionProperty=_.transitionProperty,_.WebkitTransitionProperty=_.transitionProperty,_.MozTransitionProperty=_.transitionProperty,_["text-shadow"]=_.textShadow,_["border-color"]=_.borderColor,_["border-radius"]=_.borderRadius,_["background-image"]=_.backgroundImage,_["background-position"]=_.backgroundPosition,_["background-position-x"]=_.backgroundPositionX,_["object-position"]=_.objectPosition,_["border-width"]=_.padding,_["box-shadow"]=_.textShadow,_["-webkit-box-shadow"]=_.textShadow,_["-moz-box-shadow"]=_.textShadow,_["border-style"]=_.borderColor,_["-webkit-transform"]=_.transform,_["-moz-transform"]=_.transform,_["transform-origin"]=_.transformOrigin,_["-webkit-transform-origin"]=_.transformOrigin,_["-moz-transform-origin"]=_.transformOrigin,_["-webkit-transition"]=_.transition,_["-moz-transition"]=_.transition,_["transition-property"]=_.transitionProperty,_["-webkit-transition-property"]=_.transitionProperty,_["-moz-transition-property"]=_.transitionProperty;var Zv=Gv([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),oM=["content"],Yv=Gv([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),sM=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),uM=new RegExp("(left)|(right)");function gl(t){return Object.keys(t).reduce(function(e,n){var r=t[n];if(tM(r)&&(r=r.trim()),bo(oM,n))return e[n]=r,e;var a=lM(n,r),i=a.key,o=a.value;return e[i]=o,e},Array.isArray(t)?[]:{})}function lM(t,e){var n=/\/\*\s?@noflip\s?\*\//.test(e),r=n?t:cM(t),a=n?e:dM(r,e);return{key:r,value:a}}function cM(t){return Zv[t]||t}function dM(t,e){if(!aM(e))return e;if(eM(e))return gl(e);var n=Sa(e),r=JL(e),a=n||r?e:e.replace(/ !important.*?$/,""),i=!n&&a.length!==e.length,o=_[t],s;return o?s=o({value:a,valuesToConvert:Yv,propertiesToConvert:Zv,isRtl:!0,bgImgDirectionRegex:sM,bgPosDirectionRegex:uM}):s=Yv[a]||a,i?s+" !important":s}var fM=Qe(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=gl.default||gl;function r(a){var i=a===void 0?{}:a,o=i.enabled,s=o===void 0?!0:o,u=i.opt,l=u===void 0?"out":u;return{onProcessStyle:function(c,d,f){if(d.type==="font-face")return c;if(!s)return typeof c.flip=="boolean"&&delete c.flip,c;var g=l==="out";return typeof f.options.flip=="boolean"&&(g=f.options.flip),typeof c.flip=="boolean"&&(g=c.flip,delete c.flip),g?n(typeof d.toJSON=="function"?d.toJSON():c):c}}}e.default=r}),pM=nt(fM);function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.forEach(function(a){vr(t,a,n[a])})}return t}var gM={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},vM=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};En(this,t),this.init(e,n)}return On(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||gM,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,a,i){return i&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(a).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,wt({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]),t}(),Rn=new vM,Gn=function(){function t(){En(this,t),this.observers={}}return On(t,[{key:"on",value:function(n,r){var a=this;return n.split(" ").forEach(function(i){a.observers[i]=a.observers[i]||[],a.observers[i].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(a){return a!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(u){u.apply(void 0,a)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[n].concat(a))})}}}]),t}();function Oa(){var t,e,n=new Promise(function(r,a){t=r,e=a});return n.resolve=t,n.reject=e,n}function Xv(t){return t==null?"":""+t}function hM(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function vl(t,e,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function a(){return!t||typeof t=="string"}for(var i=typeof e!="string"?[].concat(e):e.split(".");i.length>1;){if(a())return{};var o=r(i.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return a()?{}:{obj:t,k:r(i.shift())}}function Jv(t,e,n){var r=vl(t,e,Object),a=r.obj,i=r.k;a[i]=n}function mM(t,e,n,r){var a=vl(t,e,Object),i=a.obj,o=a.k;i[o]=i[o]||[],r&&(i[o]=i[o].concat(n)),r||i[o].push(n)}function wo(t,e){var n=vl(t,e),r=n.obj,a=n.k;if(!!r)return r[a]}function Qv(t,e,n){var r=wo(t,n);return r!==void 0?r:wo(e,n)}function eh(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):eh(t[r],e[r],n):t[r]=e[r]);return t}function Ar(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var bM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function yM(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return bM[e]}):t}var Io=typeof window!="undefined"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,wM=function(t){Ga(e,t);function e(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return En(this,e),r=Zr(this,qa(e).call(this)),Io&&Gn.call(pn(r)),r.data=n||{},r.options=a,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r}return On(e,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var a=this.options.ns.indexOf(r);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(r,a,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=[r,a];return i&&typeof i!="string"&&(u=u.concat(i)),i&&typeof i=="string"&&(u=u.concat(s?i.split(s):i)),r.indexOf(".")>-1&&(u=r.split(".")),wo(this.data,u)}},{key:"addResource",value:function(r,a,i,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var l=[r,a];i&&(l=l.concat(u?i.split(u):i)),r.indexOf(".")>-1&&(l=r.split("."),o=a,a=l[1]),this.addNamespaces(a),Jv(this.data,l,o),s.silent||this.emit("added",r,a,i,o)}},{key:"addResources",value:function(r,a,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var s in i)(typeof i[s]=="string"||Object.prototype.toString.apply(i[s])==="[object Array]")&&this.addResource(r,a,s,i[s],{silent:!0});o.silent||this.emit("added",r,a,i)}},{key:"addResourceBundle",value:function(r,a,i,o,s){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},l=[r,a];r.indexOf(".")>-1&&(l=r.split("."),o=i,i=a,a=l[1]),this.addNamespaces(a);var c=wo(this.data,l)||{};o?eh(c,i,s):c=wt({},c,i),Jv(this.data,l,c),u.silent||this.emit("added",r,a,i)}},{key:"removeResourceBundle",value:function(r,a){this.hasResourceBundle(r,a)&&delete this.data[r][a],this.removeNamespaces(a),this.emit("removed",r,a)}},{key:"hasResourceBundle",value:function(r,a){return this.getResource(r,a)!==void 0}},{key:"getResourceBundle",value:function(r,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?wt({},{},this.getResource(r,a)):this.getResource(r,a)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"toJSON",value:function(){return this.data}}]),e}(Gn),th={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,a,i){var o=this;return e.forEach(function(s){o.processors[s]&&(n=o.processors[s].process(n,r,a,i))}),n}},nh={},rh=function(t){Ga(e,t);function e(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return En(this,e),r=Zr(this,qa(e).call(this)),Io&&Gn.call(pn(r)),hM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,pn(r)),r.options=a,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=Rn.create("translator"),r}return On(e,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=this.resolve(r,a);return i&&i.res!==void 0}},{key:"extractFromKey",value:function(r,a){var i=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");var o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=a.ns||this.options.defaultNS;if(i&&r.indexOf(i)>-1){var u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:s};var l=r.split(i);(i!==o||i===o&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),r=l.join(o)}return typeof s=="string"&&(s=[s]),{key:r,namespaces:s}}},{key:"translate",value:function(r,a,i){var o=this;if(Gr(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),a||(a={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(r[r.length-1],a),l=u.key,c=u.namespaces,d=c[c.length-1],f=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(g){var v=a.nsSeparator||this.options.nsSeparator;return d+v+l}return l}var m=this.resolve(r,a),b=m&&m.res,w=m&&m.usedKey||l,h=m&&m.exactUsedKey||l,I=Object.prototype.toString.apply(b),y=["[object Number]","[object Function]","[object RegExp]"],E=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,C=typeof b!="string"&&typeof b!="boolean"&&typeof b!="number";if(S&&b&&C&&y.indexOf(I)<0&&!(typeof E=="string"&&I==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,b,a):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(s){var k=I==="[object Array]",L=k?[]:{},V=k?h:w;for(var ae in b)if(Object.prototype.hasOwnProperty.call(b,ae)){var he="".concat(V).concat(s).concat(ae);L[ae]=this.translate(he,wt({},a,{joinArrays:!1,ns:c})),L[ae]===he&&(L[ae]=b[ae])}b=L}}else if(S&&typeof E=="string"&&I==="[object Array]")b=b.join(E),b&&(b=this.extendTranslation(b,r,a,i));else{var X=!1,me=!1,le=a.count!==void 0&&typeof a.count!="string",Ge=e.hasDefaultValue(a),et=le?this.pluralResolver.getSuffix(f,a.count):"",we=a["defaultValue".concat(et)]||a.defaultValue;!this.isValidLookup(b)&&Ge&&(X=!0,b=we),this.isValidLookup(b)||(me=!0,b=l);var ke=Ge&&we!==b&&this.options.updateMissing;if(me||X||ke){if(this.logger.log(ke?"updateKey":"missingKey",f,d,l,ke?we:b),s){var qe=this.resolve(l,wt({},a,{keySeparator:!1}));qe&&qe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var oe=[],ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(var J=0;J<ue.length;J++)oe.push(ue[J]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(a.lng||this.language):oe.push(a.lng||this.language);var Oe=function(A,x,Z){o.options.missingKeyHandler?o.options.missingKeyHandler(A,d,x,ke?Z:b,ke,a):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(A,d,x,ke?Z:b,ke,a),o.emit("missingKey",A,d,x,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&le?oe.forEach(function(R){o.pluralResolver.getSuffixes(R).forEach(function(A){Oe([R],l+A,a["defaultValue".concat(A)]||we)})}):Oe(oe,l,we))}b=this.extendTranslation(b,r,a,m,i),me&&b===l&&this.options.appendNamespaceToMissingKey&&(b="".concat(d,":").concat(l)),me&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(b))}return b}},{key:"extendTranslation",value:function(r,a,i,o,s){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,i,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(wt({},i,{interpolation:wt({},this.options.interpolation,i.interpolation)}));var l=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,c;if(l){var d=r.match(this.interpolator.nestingRegexp);c=d&&d.length}var f=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(f=wt({},this.options.interpolation.defaultVariables,f)),r=this.interpolator.interpolate(r,f,i.lng||this.language,i),l){var g=r.match(this.interpolator.nestingRegexp),v=g&&g.length;c<v&&(i.nest=!1)}i.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var w=arguments.length,h=new Array(w),I=0;I<w;I++)h[I]=arguments[I];return s&&s[0]===h[0]&&!i.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(h[0]," in key: ").concat(a[0])),null):u.translate.apply(u,h.concat([a]))},i)),i.interpolation&&this.interpolator.reset()}var m=i.postProcess||this.options.postProcess,b=typeof m=="string"?[m]:m;return r!=null&&b&&b.length&&i.applyPostProcessor!==!1&&(r=th.handle(b,r,a,this.options&&this.options.postProcessPassResolved?wt({i18nResolved:o},i):i,this)),r}},{key:"resolve",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,s,u,l,c;return typeof r=="string"&&(r=[r]),r.forEach(function(d){if(!a.isValidLookup(o)){var f=a.extractFromKey(d,i),g=f.key;s=g;var v=f.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var m=i.count!==void 0&&typeof i.count!="string",b=i.context!==void 0&&typeof i.context=="string"&&i.context!=="",w=i.lngs?i.lngs:a.languageUtils.toResolveHierarchy(i.lng||a.language,i.fallbackLng);v.forEach(function(h){a.isValidLookup(o)||(c=h,!nh["".concat(w[0],"-").concat(h)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(c)&&(nh["".concat(w[0],"-").concat(h)]=!0,a.logger.warn('key "'.concat(s,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(I){if(!a.isValidLookup(o)){l=I;var y=g,E=[y];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,g,I,h,i);else{var S;m&&(S=a.pluralResolver.getSuffix(I,i.count)),m&&b&&E.push(y+S),b&&E.push(y+="".concat(a.options.contextSeparator).concat(i.context)),m&&E.push(y+=S)}for(var C;C=E.pop();)a.isValidLookup(o)||(u=C,o=a.getResource(I,h,C,i))}}))})}}),{res:o,usedKey:s,exactUsedKey:u,usedLng:l,usedNS:c}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,a,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,a,i,o):this.resourceStore.getResource(r,a,i,o)}}],[{key:"hasDefaultValue",value:function(r){var a="defaultValue";for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&a===i.substring(0,a.length)&&r[i]!==void 0)return!0;return!1}}]),e}(Gn);function hl(t){return t.charAt(0).toUpperCase()+t.slice(1)}var IM=function(){function t(e){En(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rn.create("languageUtils")}return On(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],a=n.split("-");return this.options.lowerCaseLng?a=a.map(function(i){return i.toLowerCase()}):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=hl(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=hl(a[1].toLowerCase())),r.indexOf(a[2].toLowerCase())>-1&&(a[2]=hl(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isWhitelisted",value:function(n){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(n)}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var a;return n.forEach(function(i){if(!a){var o=r.formatLanguageCode(i);(!r.options.supportedLngs||r.isSupportedCode(o))&&(a=o)}}),!a&&this.options.supportedLngs&&n.forEach(function(i){if(!a){var o=r.getLanguagePartFromCode(i);if(r.isSupportedCode(o))return a=o;a=r.options.supportedLngs.find(function(s){if(s.indexOf(o)===0)return s})}}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var a=n[r];return a||(a=n[this.getScriptPartFromCode(r)]),a||(a=n[this.formatLanguageCode(r)]),a||(a=n[this.getLanguagePartFromCode(r)]),a||(a=n.default),a||[]}},{key:"toResolveHierarchy",value:function(n,r){var a=this,i=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],s=function(l){!l||(a.isSupportedCode(l)?o.push(l):a.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(n))):typeof n=="string"&&s(this.formatLanguageCode(n)),i.forEach(function(u){o.indexOf(u)<0&&s(a.formatLanguageCode(u))}),o}}]),t}(),SM=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],OM={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}};function EM(){var t={};return SM.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:OM[e.fc]}})}),t}var CM=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};En(this,t),this.languageUtils=e,this.options=n,this.logger=Rn.create("pluralResolver"),this.rules=EM()}return On(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=this.getRule(n);return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){return this.getSuffixes(n).map(function(a){return r+a})}},{key:"getSuffixes",value:function(n){var r=this,a=this.getRule(n);return a?a.numbers.map(function(i){return r.getSuffix(n,i)}):[]}},{key:"getSuffix",value:function(n,r){var a=this,i=this.getRule(n);if(i){var o=i.noAbs?i.plurals(r):i.plurals(Math.abs(r)),s=i.numbers[o];this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));var u=function(){return a.options.prepend&&s.toString()?a.options.prepend+s.toString():s.toString()};return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?"_plural_".concat(s.toString()):u():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1?u():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(n)),""}}]),t}(),TM=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};En(this,t),this.logger=Rn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return On(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:yM,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Ar(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Ar(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Ar(r.nestingPrefix):r.nestingPrefixEscaped||Ar("$t("),this.nestingSuffix=r.nestingSuffix?Ar(r.nestingSuffix):r.nestingSuffixEscaped||Ar(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var a="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(a,"g")}},{key:"interpolate",value:function(n,r,a,i){var o=this,s,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(b){return b.replace(/\$/g,"$$$$")}var f=function(w){if(w.indexOf(o.formatSeparator)<0){var h=Qv(r,c,w);return o.alwaysFormat?o.format(h,void 0,a):h}var I=w.split(o.formatSeparator),y=I.shift().trim(),E=I.join(o.formatSeparator).trim();return o.format(Qv(r,c,y),E,a,i)};this.resetRegExp();var g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,v=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(w){return d(w)}},{regex:this.regexp,safeValue:function(w){return o.escapeValue?d(o.escape(w)):d(w)}}];return m.forEach(function(b){for(l=0;s=b.regex.exec(n);){if(u=f(s[1].trim()),u===void 0)if(typeof g=="function"){var w=g(n,s,i);u=typeof w=="string"?w:""}else if(v){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(n)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=Xv(u));if(n=n.replace(s[0],b.safeValue(u)),b.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u=wt({},i);u.applyPostProcessor=!1,delete u.defaultValue;function l(g,v){var m=this.nestingOptionsSeparator;if(g.indexOf(m)<0)return g;var b=g.split(new RegExp("".concat(m,"[ ]*{"))),w="{".concat(b[1]);g=b[0],w=this.interpolate(w,u),w=w.replace(/'/g,'"');try{u=JSON.parse(w),v&&(u=wt({},v,u))}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(g),h),"".concat(g).concat(m).concat(w)}return delete u.defaultValue,g}for(;o=this.nestingRegexp.exec(n);){var c=[],d=!1;if(o[0].includes(this.formatSeparator)&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(g){return g.trim()});o[1]=f.shift(),c=f,d=!0}if(s=r(l.call(this,o[1].trim(),u),u),s&&o[0]===n&&typeof s!="string")return s;typeof s!="string"&&(s=Xv(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),s=""),d&&(s=c.reduce(function(g,v){return a.format(g,v,i.lng,i)},s.trim())),n=n.replace(o[0],s),this.regexp.lastIndex=0}return n}}]),t}();function PM(t,e){for(var n=t.indexOf(e);n!==-1;)t.splice(n,1),n=t.indexOf(e)}var _M=function(t){Ga(e,t);function e(n,r,a){var i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return En(this,e),i=Zr(this,qa(e).call(this)),Io&&Gn.call(pn(i)),i.backend=n,i.store=r,i.services=a,i.languageUtils=a.languageUtils,i.options=o,i.logger=Rn.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(a,o.backend,o),i}return On(e,[{key:"queueLoad",value:function(r,a,i,o){var s=this,u=[],l=[],c=[],d=[];return r.forEach(function(f){var g=!0;a.forEach(function(v){var m="".concat(f,"|").concat(v);!i.reload&&s.store.hasResourceBundle(f,v)?s.state[m]=2:s.state[m]<0||(s.state[m]===1?l.indexOf(m)<0&&l.push(m):(s.state[m]=1,g=!1,l.indexOf(m)<0&&l.push(m),u.indexOf(m)<0&&u.push(m),d.indexOf(v)<0&&d.push(v)))}),g||c.push(f)}),(u.length||l.length)&&this.queue.push({pending:l,loaded:{},errors:[],callback:o}),{toLoad:u,pending:l,toLoadLanguages:c,toLoadNamespaces:d}}},{key:"loaded",value:function(r,a,i){var o=r.split("|"),s=o[0],u=o[1];a&&this.emit("failedLoading",s,u,a),i&&this.store.addResourceBundle(s,u,i),this.state[r]=a?-1:2;var l={};this.queue.forEach(function(c){mM(c.loaded,[s],u),PM(c.pending,r),a&&c.errors.push(a),c.pending.length===0&&!c.done&&(Object.keys(c.loaded).forEach(function(d){l[d]||(l[d]=[]),c.loaded[d].length&&c.loaded[d].forEach(function(f){l[d].indexOf(f)<0&&l[d].push(f)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(r,a,i){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,l=arguments.length>5?arguments[5]:void 0;return r.length?this.backend[i](r,a,function(c,d){if(c&&d&&s<5){setTimeout(function(){o.read.call(o,r,a,i,s+1,u*2,l)},u);return}l(c,d)}):l(null,{})}},{key:"prepareLoading",value:function(r,a){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof a=="string"&&(a=[a]);var u=this.queueLoad(r,a,o,s);if(!u.toLoad.length)return u.pending.length||s(),null;u.toLoad.forEach(function(l){i.loadOne(l)})}},{key:"load",value:function(r,a,i){this.prepareLoading(r,a,{},i)}},{key:"reload",value:function(r,a,i){this.prepareLoading(r,a,{reload:!0},i)}},{key:"loadOne",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=r.split("|"),s=o[0],u=o[1];this.read(s,u,"read",void 0,void 0,function(l,c){l&&a.logger.warn("".concat(i,"loading namespace ").concat(u," for language ").concat(s," failed"),l),!l&&c&&a.logger.log("".concat(i,"loaded namespace ").concat(u," for language ").concat(s),c),a.loaded(r,l,c)})}},{key:"saveMissing",value:function(r,a,i,o,s){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}i==null||i===""||(this.backend&&this.backend.create&&this.backend.create(r,a,i,o,null,wt({},u,{isUpdate:s})),!(!r||!r[0])&&this.store.addResource(r[0],a,i,o))}}]),e}(Gn);function RM(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Gr(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Gr(e[2])==="object"||Gr(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(a){n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,a){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function ah(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function So(){}var AM=function(t){Ga(e,t);function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(En(this,e),n=Zr(this,qa(e).call(this)),Io&&Gn.call(pn(n)),n.options=ah(r),n.services={},n.logger=Rn,n.modules={external:[]},a&&!n.isInitialized&&!r.isClone){if(!n.options.initImmediate)return n.init(r,a),Zr(n,pn(n));setTimeout(function(){n.init(r,a)},0)}return n}return On(e,[{key:"init",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(i=a,a={}),a.whitelist&&!a.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),a.nonExplicitWhitelist&&!a.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=wt({},RM(),this.options,ah(a)),this.format=this.options.interpolation.format,i||(i=So);function o(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Rn.init(o(this.modules.logger),this.options):Rn.init(null,this.options);var s=new IM(this.options);this.store=new wM(this.options.resources,this.options);var u=this.services;u.logger=Rn,u.resourceStore=this.store,u.languageUtils=s,u.pluralResolver=new CM(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u.interpolator=new TM(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new _M(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(v){for(var m=arguments.length,b=new Array(m>1?m-1:0),w=1;w<m;w++)b[w-1]=arguments[w];r.emit.apply(r,[v].concat(b))}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new rh(this.services,this.options),this.translator.on("*",function(v){for(var m=arguments.length,b=new Array(m>1?m-1:0),w=1;w<m;w++)b[w-1]=arguments[w];r.emit.apply(r,[v].concat(b))}),this.modules.external.forEach(function(v){v.init&&v.init(r)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach(function(v){r[v]=function(){var m;return(m=r.store)[v].apply(m,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){r[v]=function(){var m;return(m=r.store)[v].apply(m,arguments),r}});var f=Oa(),g=function(){var m=function(w,h){r.isInitialized&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),f.resolve(h),i(w,h)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return m(null,r.t.bind(r));r.changeLanguage(r.options.lng,m)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),f}},{key:"loadResources",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:So,o=i,s=typeof r=="string"?r:this.language;if(typeof r=="function"&&(o=r),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode")return o();var u=[],l=function(f){if(!!f){var g=a.services.languageUtils.toResolveHierarchy(f);g.forEach(function(v){u.indexOf(v)<0&&u.push(v)})}};if(s)l(s);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(d){return l(d)})}this.options.preload&&this.options.preload.forEach(function(d){return l(d)}),this.services.backendConnector.load(u,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(r,a,i){var o=Oa();return r||(r=this.languages),a||(a=this.options.ns),i||(i=So),this.services.backendConnector.reload(r,a,function(s){o.resolve(),i(s)}),o}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&th.addPostProcessor(r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"changeLanguage",value:function(r,a){var i=this;this.isLanguageChangingTo=r;var o=Oa();this.emit("languageChanging",r);var s=function(c,d){d?(i.language=d,i.languages=i.services.languageUtils.toResolveHierarchy(d),i.translator.changeLanguage(d),i.isLanguageChangingTo=void 0,i.emit("languageChanged",d),i.logger.log("languageChanged",d)):i.isLanguageChangingTo=void 0,o.resolve(function(){return i.t.apply(i,arguments)}),a&&a(c,function(){return i.t.apply(i,arguments)})},u=function(c){var d=typeof c=="string"?c:i.services.languageUtils.getBestMatchFromCodes(c);d&&(i.language||(i.language=d,i.languages=i.services.languageUtils.toResolveHierarchy(d)),i.translator.language||i.translator.changeLanguage(d),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(d)),i.loadResources(d,function(f){s(f,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(u):u(r),o}},{key:"getFixedT",value:function(r,a){var i=this,o=function s(u,l){var c;if(Gr(l)!=="object"){for(var d=arguments.length,f=new Array(d>2?d-2:0),g=2;g<d;g++)f[g-2]=arguments[g];c=i.options.overloadTranslationOptionHandler([u,l].concat(f))}else c=wt({},l);return c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,i.t(u,c)};return typeof r=="string"?o.lng=r:o.lngs=r,o.ns=a,o}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],s=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var l=function(f,g){var v=a.services.backendConnector.state["".concat(f,"|").concat(g)];return v===-1||v===2};if(i.precheck){var c=i.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,r)||!this.services.backendConnector.backend||l(o,r)&&(!s||l(u,r)))}},{key:"loadNamespaces",value:function(r,a){var i=this,o=Oa();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(s){i.options.ns.indexOf(s)<0&&i.options.ns.push(s)}),this.loadResources(function(s){o.resolve(),a&&a(s)}),o):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(r,a){var i=Oa();typeof r=="string"&&(r=[r]);var o=this.options.preload||[],s=r.filter(function(u){return o.indexOf(u)<0});return s.length?(this.options.preload=o.concat(s),this.loadResources(function(u){i.resolve(),a&&a(u)}),i):(a&&a(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.languages&&this.languages.length>0?this.languages[0]:this.language),!r)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return a.indexOf(this.services.languageUtils.getLanguagePartFromCode(r))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return new e(r,a)}},{key:"cloneInstance",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:So,o=wt({},this.options,a,{isClone:!0}),s=new e(o),u=["store","services","language"];return u.forEach(function(l){s[l]=r[l]}),s.services=wt({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new rh(s.services,s.options),s.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];s.emit.apply(s,[l].concat(d))}),s.init(o,i),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}}]),e}(Gn),kM=new AM;const DM={aboutThisItem:"عن هذا العنصر",addedFromUrl:"(تمت إضافته من الرابط)",addManifestUrl:"موقع المصدر",addManifestUrlHelp:"الرابط لمصدر IIIF ",addResource:"اضف مصدر","annotationCanvasLabel_1/1":"العنصر: [{{الملصق}}]","annotationCanvasLabel_1/2":"يسار: [{{الملصق }}]","annotationCanvasLabel_2/2":"يمين: [{{الملصق}}]",annotations:"ملاحظات",attribution:"إسناد",attributionTitle:"حقوق",authenticationFailed:"التوثيق لم ينجح",authenticationRequired:"يجب توثيق الحساب لمنح الدخول الكامل",backToResults:"الرجوع الى النتائج",book:"كتاب",bottom:"أسفل",cancel:"الغاء",canvasIndex:"فهرس",changeTheme:"قم بتغيير الموضوع",clearSearch:"امسح",closeAddResourceForm:"إغلاق الإستمارة",closeAddResourceMenu:"إغلاق قائمة المصادر",closeCompanionWindow:"إغلاق اللوحة",closeWindow:"إغلاق النافذة",collapseSection:"تصغير جزء {{section}}",collapseSidePanel:"تصغير الشريط الجانبي",itemList:"قائمة العناصر",continue:"استمر",copy:"نسخ",currentItem:"العنصر الحالي","currentItem_1/1":"العنصر الحالي","currentItem_1/2":"يسار","currentItem_2/2":"يمين",dark:"موضوع داكن",dismiss:"تجاهل",highlightAllAnnotations:"تحديد الكل",downloadExport:"تصدير مساحة العمل",downloadExportWorkspace:"تصدير مساحة العمل",elastic:"مرن",elasticDescription:"حرك النوافذ و غير حجمها بحرية في مساحة عمل غير محدودة. يمكن أن تتداخل النوافذ أيضاً .",emptyResourceList:"قائمة المصادر الخاصة بك فارغة.",errorDialogConfirm:"حسناً",errorDialogTitle:"لقد حدث خطأ",exitFullScreen:"خروج من الشاشة الكاملة",expandSection:"توسيع الجزء {{section}}",expandSidePanel:"توسيع الشريط الجانبي",fetchManifest:"أضف",fullScreen:"شاشة كاملة",gallery:"المعرض",hideZoomControls:"إخفاء ضوابط التكبير",iiif_homepage:"عن هذه المصدر",iiif_manifest:"IIIF قائمة ",iiif_renderings:"تنسيقات بديلة",iiif_seeAlso:"أنظر أيضا",import:"استورد ",importWorkspace:"استيراد مساحة العمل",importWorkspaceHint:"قم بلصق تركيبة Mirador 3 ليتم استيراده",item:"العنصر: {{label}}",language:"اللغة",layer_hide:"إخفاء الطبقة",layer_move:"تحريك الطبقة",layer_opacity:"تعتيم الطبقة",layer_show:"إظهار الطبقة",layer_moveToTop:"حرك الطبقة إلى الأعلى",layers:"طبقات",light:"موضوع فاتح",links:"الروابط",listAllOpenWindows:"انتقل بسرعة للنافذة",login:"تسجيل الدخول",logout:"تسجيل الخروج",manifestError:"لا يمكن إضافة المصدر:",maximizeWindow:"تكبير النافذة إلى الحد الاكبر",minimizeWindow:"تصغير النافذة إلى الحد الأدنى",mirador:"Mirador",miradorResources:"مصادر Mirador ",miradorViewer:"مشاهد Mirador",more:"أكثر...",moreResults:"نتائج إضافية",mosaic:"فسيفساء",mosaicDescription:"حرك وغيٌر حجم النوافذ المتعلقة ببعضها البعض داخل الإطار المرئي.",moveCompanionWindowToBottom:"انتقل للأسفل",moveCompanionWindowToRight:"انتقل لليمين",nextCanvas:"العنصر التالي",numItems:"{{number}} عناصر",off:"ايقاف",openCompanionWindow_annotations:"ملاحظات",openCompanionWindow_attribution:"حقوق",openCompanionWindow_canvas:"فهرس",openCompanionWindow_info:"معلومات",openCompanionWindow_layers:"طبقات",openCompanionWindow_search:"بحث",openInCompanionWindow:"افتح في صفحة جديدة",openWindows:"النوافذ الحالية المفتوحة",pagination:"{{current}} من {{total}}",position:"مركز",previewWindowTitle:"عنوان",previousCanvas:"العنصر السابق",related:"ذات صلة",resource:"مصدر",retry:"أعد المحاولة ",right:"حق",rights:"ترخيص",searchInputLabel:"مصطلحات البحث",searchNextResult:"النتيجة التالية",searchNoResults:"لم يتم العثور على نتائج",searchPreviousResult:"النتيجة السابقة",searchSubmitAria:"ابحث",searchTitle:"بحث",selectWorkspaceMenu:"اختر نوع مساحة العمل",showingNumAnnotations:"تظهر {{number}} ملاحظات",showZoomControls:"اظهر عناصر التحكم بالتكبير و التصغير",sidebarPanelsNavigation:"تصفح لوح الشريط الجانبي",single:"مفرد",startHere:"إبدأ هنا",suggestSearch:'ابحث في هذا المستند عن  "{{ query }}"',tableOfContentsList:"جدول المحتويات",theme:"موضوع",thumbnailList:"قائمة الصور المصغرة",thumbnailNavigation:"الصور المصغرة",thumbnails:"الصور المصغرة",toggleWindowSideBar:"تبديل الشريط الجانبي",tryAgain:"حاول مرة أخرى",untitled:"[بدون عنوان]",view:"شاهد",welcome:"مرحباً بكم في Mirador",window:"النافذة:  {{label}}",windowMenu:"عرض النوافذ و الصور المصغرة",windowNavigation:"تصفح النافذة",windowPluginButtons:"خيارات",windowPluginMenu:"خيارات النافذة",workspace:"مساحة العمل",workspaceFullScreen:"شاشة كاملة",workspaceMenu:"اعدادات مساحة العمل",workspaceOptions:"خيارات مساحة العمل ",workspaceSelectionTitle:"اختر نوع مساحة العمل",zoomIn:"تكبير الصورة",zoomOut:"تصغير الصورة",zoomReset:"الرجوع لحجم الصورة الأساسي"};var xM={translation:DM};const NM={aboutMirador:"Über Mirador",aboutThisItem:"Über dieses Element",addedFromUrl:"(Via URL hinzugefügt)",addManifestUrl:"Ort der Ressource",addManifestUrlHelp:"Die URL einer IIIF-Ressource",addResource:"Ressource hinzufügen","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]",annotations:"Annotationen",attribution:"Zuschreibung",attributionTitle:"Rechte",authenticationFailed:"Authentifizierung fehlgeschlagen",authenticationRequired:"Für vollen Zugriff ist eine Authentifizierung nötig.",backToResults:"Zurück zur Trefferansicht",book:"Buch",bottom:"Unten",cancel:"Abbrechen",canvasIndex:"Index",changeTheme:"Farbschema ändern",clearSearch:"zurücksetzen",closeAddResourceForm:"Formular schließen",closeAddResourceMenu:"Ressourcenliste schließen",closeCompanionWindow:"Hilfsfenster schließen",closeWindow:"Fenster schließen",collapseSection:'Bereich "{{section}}" zuklappen',collapseSidePanel:"Seitenleiste zuklappen",itemList:"Kompaktliste",continue:"Fortfahren",copy:"Kopieren",currentItem:"Aktuelles Objekt","currentItem_1/1":"Aktuelles Objekt","currentItem_1/2":"Links","currentItem_2/2":"Rechts",dark:"Dunkel",digitizedView:"Digitalisat-Ansicht",dismiss:"Verwerfen",highlightAllAnnotations:"Alle hervorheben",displayNoAnnotations:"Keine hervorheben",downloadExport:"Arbeitsfläche exportieren",downloadExportWorkspace:"Arbeitsfläche exportieren",elastic:"Elastisch",elasticDescription:"Fenster können frei und unbegrenzt innerhalb der Arbeitsfläche bewegt werden und sich überlappen",emptyResourceList:"Ihre Ressourcenliste ist leer",error:"Fehler",errorDialogConfirm:"OK",errorDialogTitle:"Es ist ein Fehler aufgetreten",exitFullScreen:"Vollbildmodus verlassen",expandSection:'Bereich "{{section}}" aufklappen',expandSidePanel:"Seitenleiste aufklappen",exportCopied:"Die Konfiguration der Arbeitsfläche wurde in die Zwischenablage kopiert.",fetchManifest:"Hinzufügen",fullScreen:"Vollbild",gallery:"Galerie",hideZoomControls:"Zoomsteuerung verbergen",iiif_homepage:"Über diese Ressource",iiif_manifest:"IIIF-Manifest",iiif_renderings:"Alternative Formate",iiif_seeAlso:"Siehe auch",import:"Importieren",importWorkspace:"Arbeitsfläche importieren",importWorkspaceHint:"Fügen Sie eine Mirador-3-Konfiguration ein, die importiert werden soll.",item:"Objekt: {{label}}",jsError:"Technische Details",jsStack:"{{ stack }}",language:"Sprache",layer_hide:"Ebene verbergen",layer_move:"Ebene verschieben",layer_opacity:"Ebenendeckkraft",layer_show:"Ebene anzeigen",layer_moveToTop:"Ebene ganz nach vorn bringen",layers:"Ebenen",light:"Hell",links:"Links",listAllOpenWindows:"Zu Fenster springen",login:"Anmelden",logout:"Abmelden",manifestError:"Die Ressource konnte nicht hinzugefügt werden:",maximizeWindow:"Fenster maximieren",minimizeWindow:"Fenster minimieren",mirador:"Mirador",miradorResources:"Mirador-Ressourcen",miradorViewer:"Mirador",more:"mehr...",moreResults:"Mehr Treffer",mosaic:"Mosaik",mosaicDescription:"Fenster können innerhalb der Arbeitsfläche in Relation zueinander verschoben und ihrer Größe verändert werden.",moveCompanionWindowToBottom:"Unten anordnen",moveCompanionWindowToRight:"Rechts anordnen",nextCanvas:"Nächstes Objekt",numItems:"{{number}} Elemente",off:"Keine",openCompanionWindow_annotations:"Annotationen",openCompanionWindow_attribution:"Rechte",openCompanionWindow_canvas:"Index",openCompanionWindow_info:"Informationen",openCompanionWindow_layers:"Ebenen",openCompanionWindow_search:"Suche",openInCompanionWindow:"In Hilfsfenster öffnen",openWindows:"Aktuell offene Fenster",pagination:"{{current}} von {{total}}",position:"Position",previewWindowTitle:"{{title}}",previousCanvas:"Vorheriges Objekt",related:"Verwandtes",resource:"Ressource",retry:"Erneut versuchen",right:"Rechts",rights:"Lizenz",scroll:"Kontinuierlich",searchInputLabel:"Suchbegriffe",searchNextResult:"Nächster Treffer",searchNoResults:"Keine Treffer",searchPreviousResult:"Vorheriger Treffer",searchResultsRemaining:"{{numLeft}} weitere",searchSubmitAria:"Suchen",searchTitle:"Suche",selectWorkspaceMenu:"Wählen Sie einen Arbeitsflächentyp",showingNumAnnotations:"{{number}} Annotationen werden angezeigt",showZoomControls:"Zoomsteuerung anzeigen",sidebarPanelsNavigation:"Hilfsfensternavigation",single:"Einzeln",startHere:"Hier starten",suggestSearch:'Dieses Dokument durchsuchen nach "{{ query }}"',tableOfContentsList:"Inhaltsverzeichnis",theme:"Farbschema",thumbnailList:"Miniaturansicht",thumbnailNavigation:"Miniaturansicht",thumbnails:"Miniaturansicht",toggleWindowSideBar:"Seitenleiste umschalten",tryAgain:"Wiederholen",untitled:"[Unbenannt]",view:"Ansicht",welcome:"Willkommen bei Mirador",window:"Fenster: {{label}}",windowMenu:"Fenstermenü und Miniaturansicht",windowNavigation:"Fensternavigation",windowPluginButtons:"Optionen",windowPluginMenu:"Fensteroptionen",workspace:"Arbeitsfläche",workspaceNavigation:"Arbeitsflächensteuerung",workspaceFullScreen:"Vollbild",workspaceMenu:"Arbeitsflächenmenü",workspaceOptions:"Arbeitsflächenoptionen",workspaceSelectionTitle:"Bitte wählen Sie einen Arbeitsflächentyp",zoomIn:"Vergrößern",zoomOut:"Verkleinern",zoomReset:"Ansicht zurücksetzen"};var LM={translation:NM};const MM={aboutMirador:"About Project Mirador",aboutThisItem:"About this item",addedFromUrl:"(Added from URL)",addManifestUrl:"Resource location",addManifestUrlHelp:"The URL of a IIIF resource",addResource:"Add resource","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Left: [{{label}}]","annotationCanvasLabel_2/2":"Right: [{{label}}]",annotations:"Annotations",attribution:"Attribution",attributionTitle:"Rights",authenticationFailed:"Authentication failed.",authenticationRequired:"Authentication required for full access",backToResults:"Back to results",book:"Book",bottom:"Bottom",cancel:"Cancel",canvasIndex:"Index",changeTheme:"Change theme",clearSearch:"clear",close:"Close",closeAddResourceForm:"Close form",closeAddResourceMenu:"Close resource list",closeCompanionWindow:"Close panel",closeWindow:"Close window",collapseSection:'Collapse "{{section}}" section',collapseSidePanel:"Collapse sidebar",collection:"Collection",itemList:"Item list",continue:"Continue",copy:"Copy",currentItem:"Current item","currentItem_1/1":"Current item","currentItem_1/2":"Left","currentItem_2/2":"Right",dark:"Dark theme",digitizedView:"Digitized view",dismiss:"Dismiss",highlightAllAnnotations:"Highlight all",displayNoAnnotations:"Highlight none",downloadExport:"Export workspace",downloadExportWorkspace:"Export workspace",elastic:"Elastic",elasticDescription:"Move and size windows freely in an unlimited workspace. Windows can overlap.",emptyResourceList:"Your resource list is empty",error:"Error",errorDialogConfirm:"OK",errorDialogTitle:"An error occurred",exitFullScreen:"Exit full screen",expandSection:'Expand "{{section}}" section',expandSidePanel:"Expand sidebar",exportCopied:"The workspace configuration was copied to your clipboard",fetchManifest:"Add",fullScreen:"Full Screen",gallery:"Gallery",hideZoomControls:"Hide zoom controls",iiif_homepage:"About this resource",iiif_manifest:"IIIF manifest",iiif_renderings:"Alternate formats",iiif_seeAlso:"See also",import:"Import",importWorkspace:"Import workspace",importWorkspaceHint:"Paste a Mirador 3 configuration to be imported",item:"Item: {{label}}",jsError:"Technical details",jsStack:"{{ stack }}",language:"Language",layer_hide:"Hide layer",layer_move:"Move layer",layer_opacity:"Layer opacity",layer_show:"Show layer",layer_moveToTop:"Move layer to top",layers:"Layers",light:"Light theme",links:"Links",listAllOpenWindows:"Jump to window",login:"Log in",logout:"Log out",manifestError:"The resource cannot be added:",maximizeWindow:"Maximize window",minimizeWindow:"Minimize window",mirador:"Mirador",miradorResources:"Mirador resources",miradorViewer:"Mirador viewer",more:"more...",moreResults:"More results",mosaic:"Mosaic",mosaicDescription:"Move and size windows in relation to each other, within the visible frame.",moveCompanionWindowToBottom:"Move to bottom",moveCompanionWindowToRight:"Move to right",nextCanvas:"Next item",noItemSelected:"No item selected",numItems:"{{number}} item",numItems_plural:"{{number}} items",off:"Off",openCompanionWindow_annotations:"Annotations",openCompanionWindow_attribution:"Rights",openCompanionWindow_canvas:"Index",openCompanionWindow_info:"Information",openCompanionWindow_layers:"Layers",openCompanionWindow_search:"Search",openInCompanionWindow:"Open in separate panel",openWindows:"Current open windows",pagination:"{{current}} of {{total}}",position:"Position",previewWindowTitle:"{{title}}",previousCanvas:"Previous item",related:"Related",resource:"Resource",retry:"Retry",right:"Right",rights:"License",scroll:"Scroll",searchInputLabel:"search terms",searchNextResult:"Next result",searchNoResults:"No results found",searchPreviousResult:"Previous result",searchResultsRemaining:"{{numLeft}} remaining",searchSubmitAria:"Submit search",searchTitle:"Search",selectWorkspaceMenu:"Select workspace type",showingNumAnnotations:"Showing {{number}} annotation",showingNumAnnotations_plural:"Showing {{number}} annotations",showCollection:"Show collection",showZoomControls:"Show zoom controls",sidebarPanelsNavigation:"Sidebar panels navigation",single:"Single",startHere:"Start Here",suggestSearch:'Search this document for "{{ query }}"',tableOfContentsList:"Table of contents",theme:"Theme",thumbnailList:"Thumbnail list",thumbnailNavigation:"Thumbnails",thumbnails:"Thumbnails",toggleWindowSideBar:"Toggle sidebar",totalCollections:"{{count}} collection",totalCollections_plural:"{{count}} collections",totalManifests:"{{count}} manifest",totalManifests_plural:"{{count}} manifests",tryAgain:"Try again",untitled:"[Untitled]",view:"View",viewWorkspaceConfiguration:"View workspace configuration",welcome:"Welcome to Mirador",window:"Window: {{label}}",windowMenu:"Window views & thumbnail display",windowNavigation:"Window navigation",windowPluginButtons:"Options",windowPluginMenu:"Window options",workspace:"Workspace",workspaceNavigation:"Workspace navigation",workspaceFullScreen:"Full screen",workspaceMenu:"Workspace settings",workspaceOptions:"Workspace options",workspaceSelectionTitle:"Select a workspace type",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomReset:"Reset zoom"};var $M={translation:MM};const jM={aboutThisItem:"有关此物件",addedFromUrl:"(从URL添加)",addManifestUrl:"来源",addManifestUrlHelp:"IIIF资源的URL",addResource:"添加资源","annotationCanvasLabel_1/1":"物件: [{{label}}]","annotationCanvasLabel_1/2":"左方: [{{label}}]","annotationCanvasLabel_2/2":"右方: [{{label}}]",annotations:"注释",attribution:"着作权",attributionTitle:"着作权",book:"书籍",bottom:"下方",cancel:"取消",canvasIndex:"索引",changeTheme:"变更佈景主题",closeAddResourceForm:"关闭表格",closeAddResourceMenu:"关闭资源列表",closeCompanionWindow:"关闭附属视窗",closeWindow:"关闭视窗",collapseSection:"关闭{{section}}分页",collapseSidePanel:"关闭边栏",itemList:"标题列表",copy:"複製",currentItem:"目前物件","currentItem_1/1":"目前物件","currentItem_1/2":"左方","currentItem_2/2":"右方",dark:"黑色主题",dismiss:"关闭信息",highlightAllAnnotations:"显示所有注释",downloadExport:"滙出桌面排版",downloadExportWorkspace:"滙出桌面排版",elastic:"弹性",elasticDescription:"在桌面上自由摆放视窗",emptyResourceList:"资源列表没有物件",errorDialogConfirm:"确定",errorDialogTitle:"发生错误",exitFullScreen:"退出全萤幕",expandSection:"开启{{section}}分页",expandSidePanel:"开启边栏",fetchManifest:"添加",fullScreen:"全萤幕",gallery:"矩列",hideZoomControls:"隐藏缩放选项",iiif_homepage:"有关此资源",iiif_manifest:"IIIF",iiif_renderings:"其他格式",iiif_seeAlso:"另见",import:"滙入",importWorkspace:"滙入桌面排版",importWorkspaceHint:"在此贴上Mirador 3排版设定码",item:"物件: {{label}}",language:"语言",light:"白色主题",links:"连结",listAllOpenWindows:"切换至视窗",login:"登入",manifestError:"无法增添资源:",maximizeWindow:"视窗最大化",minimizeWindow:"视窗最小化",mirador:"Mirador",miradorResources:"Mirador资源",miradorViewer:"Mirador阅览器",mosaic:"马赛克",mosaicDescription:"在桌面上以格状方式排列视窗",moveCompanionWindowToBottom:"移至下方",moveCompanionWindowToRight:"移至右方",nextCanvas:"下一页",numItems:"{{number}} 项物件",off:"关闭",openCompanionWindow_annotations:"注释",openCompanionWindow_attribution:"着作权",openCompanionWindow_canvas:"目录",openCompanionWindow_info:"资讯",openInCompanionWindow:"移至新附属视窗",openWindows:"现有视窗",pagination:"{{current}} / {{total}}",position:"位置",previewWindowTitle:"{{title}}",previousCanvas:"上一页",related:"相关资讯",resource:"资源",right:"右方",rights:"版权",selectWorkspaceMenu:"选择桌面排版方式",showingNumAnnotations:"显示 {{number}} 项注释",showZoomControls:"显示缩放选项",sidebarPanelsNavigation:"切换边栏",single:"单项",startHere:"按此开始",theme:"佈景主题",thumbnailList:"缩图列表",thumbnailNavigation:"缩图",thumbnails:"显示缩图",toggleWindowSideBar:"切换边栏开关",tryAgain:"请重试",untitled:"[无标题]",view:"物件排列方式",welcome:"欢迎使用Mirador",window:"视窗: {{label}}",windowMenu:"视窗选项",windowNavigation:"切换视窗",windowPluginButtons:"选项",workspace:"桌面",workspaceFullScreen:"全萤幕",workspaceMenu:"桌面设定",workspaceOptions:"桌面选项",workspaceSelectionTitle:"选择桌面排版方式",zoomIn:"放大",zoomOut:"放小",zoomReset:"重设缩放"};var WM={translation:jM};const FM={aboutThisItem:"有關此物件",addedFromUrl:"(從URL添加)",addManifestUrl:"來源",addManifestUrlHelp:"IIIF資源的URL",addResource:"添加資源","annotationCanvasLabel_1/1":"物件: [{{label}}]","annotationCanvasLabel_1/2":"左方: [{{label}}]","annotationCanvasLabel_2/2":"右方: [{{label}}]",annotations:"注釋",attribution:"著作權",attributionTitle:"著作權",book:"書籍",bottom:"下方",cancel:"取消",canvasIndex:"索引",changeTheme:"變更佈景主題",closeAddResourceForm:"關閉表格",closeAddResourceMenu:"關閉資源列表",closeCompanionWindow:"關閉附屬視窗",closeWindow:"關閉視窗",collapseSection:"關閉{{section}}分頁",collapseSidePanel:"關閉邊欄",itemList:"標題列表",copy:"複製",currentItem:"目前物件","currentItem_1/1":"目前物件","currentItem_1/2":"左方","currentItem_2/2":"右方",dark:"黑色主題",dismiss:"關閉信息",highlightAllAnnotations:"顯示所有注釋",downloadExport:"滙出桌面排版",downloadExportWorkspace:"滙出桌面排版",elastic:"彈性",elasticDescription:"在桌面上自由擺放視窗",emptyResourceList:"資源列表沒有物件",errorDialogConfirm:"確定",errorDialogTitle:"發生錯誤",exitFullScreen:"退出全螢幕",expandSection:"開啟{{section}}分頁",expandSidePanel:"開啟邊欄",fetchManifest:"添加",fullScreen:"全螢幕",gallery:"矩列",hideZoomControls:"隱藏縮放選項",iiif_homepage:"有關此資源",iiif_manifest:"IIIF",iiif_renderings:"其他格式",iiif_seeAlso:"另見",import:"滙入",importWorkspace:"滙入桌面排版",importWorkspaceHint:"在此貼上Mirador 3排版設定碼",item:"物件: {{label}}",language:"語言",light:"白色主題",links:"連結",listAllOpenWindows:"切換至視窗",login:"登入",manifestError:"無法增添資源:",maximizeWindow:"視窗最大化",minimizeWindow:"視窗最小化",mirador:"Mirador",miradorResources:"Mirador資源",miradorViewer:"Mirador閱覽器",mosaic:"馬賽克",mosaicDescription:"在桌面上以格狀方式排列視窗",moveCompanionWindowToBottom:"移至下方",moveCompanionWindowToRight:"移至右方",nextCanvas:"下一頁",numItems:"{{number}} 項物件",off:"關閉",openCompanionWindow_annotations:"注釋",openCompanionWindow_attribution:"著作權",openCompanionWindow_canvas:"目錄",openCompanionWindow_info:"資訊",openInCompanionWindow:"移至新附屬視窗",openWindows:"現有視窗",pagination:"{{current}} / {{total}}",position:"位置",previewWindowTitle:"{{title}}",previousCanvas:"上一頁",related:"相關資訊",resource:"資源",right:"右方",rights:"版權",selectWorkspaceMenu:"選擇桌面排版方式",showingNumAnnotations:"顯示 {{number}} 項注釋",showZoomControls:"顯示縮放選項",sidebarPanelsNavigation:"切換邊欄",single:"單項",startHere:"按此開始",theme:"佈景主題",thumbnailList:"縮圖列表",thumbnailNavigation:"縮圖",thumbnails:"顯示縮圖",toggleWindowSideBar:"切換邊欄開關",tryAgain:"請重試",untitled:"[無標題]",view:"物件排列方式",welcome:"歡迎使用Mirador",window:"視窗: {{label}}",windowMenu:"視窗選項",windowNavigation:"切換視窗",windowPluginButtons:"插件",workspace:"桌面",workspaceFullScreen:"全螢幕",workspaceMenu:"桌面設定",workspaceOptions:"桌面選項",workspaceSelectionTitle:"選擇桌面排版方式",zoomIn:"放大",zoomOut:"放小",zoomReset:"重設縮放"};var BM={translation:FM};const zM={aboutMirador:"A propos du projet Mirador",aboutThisItem:"Informations",addedFromUrl:"(Ajouté depuis une URL)",addManifestUrl:"Emplacement de la ressource",addManifestUrlHelp:"Coller ici l'URL de la ressource IIIF",addResource:"Ajouter une ressource","annotationCanvasLabel_1/1":"Item : [{{label}}]","annotationCanvasLabel_1/2":"Gauche : [{{label}}]","annotationCanvasLabel_2/2":"Droite : [{{label}}]",annotations:"Annotations",attribution:"Attribution",attributionTitle:"Droits",authenticationFailed:"L'authentification a échoué.",authenticationRequired:"Authentification requise pour un accès complet",backToResults:"Retour aux résultats",book:"Livre",bottom:"Bas",cancel:"Annuler",canvasIndex:"Index",changeTheme:"Changer le thème",clearSearch:"effacer",closeAddResourceForm:"Fermer le panneau",closeAddResourceMenu:"Fermer la liste des ressources",closeCompanionWindow:"Fermer le panneau",closeWindow:"Fermer cette fenêtre",collapseSection:'Replier la section "{{section}}"',collapseSidePanel:"Replier le panneau",itemList:"Liste compacte",continue:"Continuer",copy:"Copier",currentItem:"Image courante","currentItem_1/1":"Image courante","currentItem_1/2":"Gauche","currentItem_2/2":"Droite",dark:"Thème sombre",digitizedView:"Vue de l'objet numérique",dismiss:"Rejeter",highlightAllAnnotations:"Afficher tout",displayNoAnnotations:"Masquer tout",downloadExport:"Exporter l'espace de travail",downloadExportWorkspace:"Exporter l'espace de travail",elastic:"Elastique",elasticDescription:"Déplacer et redimensionner librement les fenêtres dans un espace de travail non limité par l'écran. Les fenêtres peuvent être superposées.",emptyResourceList:"Votre liste de ressource est vide",error:"Erreur",errorDialogConfirm:"OK",errorDialogTitle:"Une erreur est survenue",exitFullScreen:"Quitter le plein écran",expandSection:'Déplier la section "{{section}}"',expandSidePanel:"Déplier le panneau",exportCopied:"La configuration de l'espace de travail a été copiée dans votre presse-papier",fetchManifest:"Ajouter",fullScreen:"Plein écran",gallery:"Galerie",hideZoomControls:"Désactiver les commandes de zoom",iiif_homepage:"A propos de cette ressource",iiif_manifest:"Manifeste IIIF",iiif_renderings:"Formats alternatifs",iiif_seeAlso:"Voir aussi",import:"Importer",importWorkspace:"Importer un espace de travail",importWorkspaceHint:"Insérer une configuration Mirador 3 à importer",item:"Item : {{label}}",jsError:"Détails techniques",jsStack:"{{ stack }}",language:"Langue",layer_hide:"Masquer le calque",layer_move:"Déplacer le calque",layer_opacity:"Opacité du calque",layer_show:"Afficher le calque",layer_moveToTop:"Déplacer le calque en haut",layers:"Calques",light:"Thème clair",links:"Liens",listAllOpenWindows:"Lister les fenêtres",login:"Se connecter",logout:"Se déconnecter",manifestError:"Cette ressource ne peut pas être ajoutée :",maximizeWindow:"Agrandir cette fenêtre",minimizeWindow:"Réduire cette fenêtre",mirador:"Mirador",miradorResources:"Ressources Mirador",miradorViewer:"Visualiseur Mirador",more:"plus...",moreResults:"Plus de résultats",mosaic:"Mosaïque",mosaicDescription:"Déplacer et redimensionner les fenêtres les unes par rapport aux autres dans l'espace disponible sur l'écran",moveCompanionWindowToBottom:"Déplacer en bas",moveCompanionWindowToRight:"Déplacer à droite",nextCanvas:"Suivant",noItemSelected:"Aucun élément sélectionné",numItems:"{{number}} image",numItems_plural:"{{number}} images",off:"aucun",openCompanionWindow_annotations:"Annotations",openCompanionWindow_attribution:"Droits",openCompanionWindow_canvas:"Index",openCompanionWindow_info:"Informations",openCompanionWindow_layers:"Calques",openCompanionWindow_search:"Rechercher",openInCompanionWindow:"Ouvrir dans un panneau séparé",openWindows:"Fenêtres ouvertes",pagination:"{{current}} sur {{total}}",position:"Position",previewWindowTitle:"{{title}}",previousCanvas:"Précédent",related:"En relation",resource:"Ressource",retry:"Réessayer",right:"Droite",rights:"Licence",scroll:"Défilement horizontal",searchInputLabel:"Chercher un mot",searchNextResult:"Résultat suivant",searchNoResults:"Aucun résultat trouvé",searchPreviousResult:"Résultat précédent",searchSubmitAria:"Lancer la recherche",searchTitle:"Rechercher",selectWorkspaceMenu:"Changer de type d'espace de travail",showingNumAnnotations:"{{number}} annotation affichée",showingNumAnnotations_plural:"{{number}} annotations affichées",showCollection:"Voir la collection",showZoomControls:"Activer les commandes de zoom",sidebarPanelsNavigation:"Navigation dans les panneaux latéraux",single:"Simple",startHere:"Commencer ici",suggestSearch:'Rechercher "{{ query }}" dans ce document',tableOfContentsList:"Sommaire",theme:"Thème",thumbnailList:"Liste des vignettes",thumbnailNavigation:"Vignettes",thumbnails:"Afficher les vignettes",toggleWindowSideBar:"Afficher le menu latéral",totalCollections:"{{count}} collection",totalCollections_plural:"{{count}} collections",totalManifests:"{{count}} manifeste",totalManifests_plural:"{{count}} manifestes",tryAgain:"Essayer à nouveau",untitled:"[Sans titre]",view:"Voir les images en mode",welcome:"Bienvenue dans Mirador",window:"Fenêtre : {{label}}",windowMenu:"Options de fenêtre",windowNavigation:"Navigation dans les fenêtres",windowPluginButtons:"Options",windowPluginMenu:"Autres options et outils",workspace:"Espace de travail",workspaceNavigation:"Menu de l'espace de travail",workspaceFullScreen:"Plein écran",workspaceMenu:"Réglages de l'espace de travail",workspaceOptions:"Options de l'espace de travail",workspaceSelectionTitle:"Sélectionner un type d'espace de travail",zoomIn:"Zoom avant",zoomOut:"Zoom arrière",zoomReset:"Réinitialiser le zoom"};var UM={translation:zM};const HM={aboutMirador:"Project Miradorについて",aboutThisItem:"この資料について",addedFromUrl:"(URLで追加)",addManifestUrl:"資料のURL",addManifestUrlHelp:"IIIF資料のURL",addResource:"資料の追加","annotationCanvasLabel_1/1":"アイテム: [{{label}}]","annotationCanvasLabel_1/2":"左: [{{label}}]","annotationCanvasLabel_2/2":"右: [{{label}}]",annotations:"アノテーション",attribution:"帰属",attributionTitle:"権利",authenticationFailed:"認証失敗",authenticationRequired:"フルアクセスには認証が必要",backToResults:"結果に戻る",book:"見開き",bottom:"下部",cancel:"キャンセル",canvasIndex:"インデックス",changeTheme:"テーマの変更",clearSearch:"クリア",close:"閉じる",closeAddResourceForm:"フォームを閉じる",closeAddResourceMenu:"資料一覧を閉じる",closeCompanionWindow:"パネルを閉じる",closeWindow:"ウインドウを閉じる",collapseSection:"{{section}} セクションを畳む",collapseSidePanel:"サイドバーを畳む",collection:"コレクション",itemList:"アイテム一覧",continue:"続ける",copy:"コピー",currentItem:"現在のアイテム","currentItem_1/1":"現在のアイテム","currentItem_1/2":"左","currentItem_2/2":"右",dark:"ダークなテーマ",digitizedView:"デジタルビュー",dismiss:"片付け",highlightAllAnnotations:"すべてを表示",displayNoAnnotations:"アノテーションを非表示",downloadExport:"ワークスペースをエクスポート",downloadExportWorkspace:"ワークスペースをエクスポート",elastic:"伸縮",elasticDescription:"自由なウインドウの伸縮",emptyResourceList:"資料の一覧が空です",error:"エラー",errorDialogConfirm:"OK",errorDialogTitle:"エラー発生",exitFullScreen:"全画面を解除",expandSection:"セクション {{section}}を拡大",expandSidePanel:"サイドバーを拡大",exportCopied:"ワークスペースの設定がクリップボードにコピーされました。",fetchManifest:"追加",fullScreen:"全画面",gallery:"ギャラリー",hideZoomControls:"zoom制御を隠す",iiif_homepage:"IIIFホームページ",iiif_manifest:"IIIF マニフェスト",iiif_renderings:"別の形式",iiif_seeAlso:"参照",import:"取り込み",importWorkspace:"ワークスペースの取り込み",importWorkspaceHint:"Mirador3の設定を貼り付け",item:"アイテム: {{label}}",jsError:"技術的な詳細",jsStack:"{{ stack }}",language:"言語",layer_hide:"レイヤーを隠す",layer_move:"レイヤーを動かす",layer_opacity:"レイヤーの透過度",layer_show:"レイヤーを表示",layer_moveToTop:"レイヤーをトップへ",layers:"レイヤー",light:"明るいテーマ",links:"リンク",listAllOpenWindows:"ウインドウにジャンプ",login:"ログイン",logout:"ログアウト",manifestError:"資料追加に失敗:",maximizeWindow:"ウインドウを最大化",minimizeWindow:"ウインドウを最小化",mirador:"Mirador",miradorResources:"Mirador資料",miradorViewer:"Miradorビューワ",more:"さらに...",moreResults:"さらに結果を",mosaic:"モザイク",mosaicDescription:"モザイク表示",moveCompanionWindowToBottom:"下部に移動",moveCompanionWindowToRight:"右に移動",nextCanvas:"次のアイテム",noItemSelected:"アイテムが未選択",numItems:"{{number}} アイテム",off:"オフ",openCompanionWindow_annotations:"アノテーション",openCompanionWindow_attribution:"権利",openCompanionWindow_canvas:"インデックス",openCompanionWindow_info:"情報",openCompanionWindow_layers:"レイヤー",openCompanionWindow_search:"検索",openInCompanionWindow:"別のパネルで開く",openWindows:"現在開いているウインドウ",pagination:"{{current}} of {{total}}",position:"位置",previewWindowTitle:"{{title}}",previousCanvas:"前のアイテム",related:"関連",resource:"資料",retry:"リトライ",right:"右側",rights:"利用条件",scroll:"スクロール",searchInputLabel:"検索語",searchNextResult:"次の結果",searchNoResults:"ヒットせず",searchPreviousResult:"前の結果",searchSubmitAria:"検索",searchTitle:"検索",selectWorkspaceMenu:"ワークスペースタイプの選択",showingNumAnnotations:"アノテーション {{number}} を表示",showCollection:"コレクションを表示",showZoomControls:"ズーム操作を表示",sidebarPanelsNavigation:"サイドバーパネルの操作",single:"単一",startHere:"ここから始める",suggestSearch:'この文書を "{{ query }}" で検索',tableOfContentsList:"目次",theme:"テーマ",thumbnailList:"サムネイル一覧",thumbnailNavigation:"サムネイル",thumbnails:"サムネイル表示",toggleWindowSideBar:"サイドバー切り替え",totalCollections:"{{count}} コレクション",totalManifests:"{{count}} マニフェスト",tryAgain:"もう一度試す",untitled:"[タイトル無し]",view:"表示の仕方",welcome:"Miradorにようこそ",window:"{{label}} ウインドウ",windowMenu:"ウインドウメニュー",windowNavigation:"ウィンドウ操作",windowPluginButtons:"オプション",windowPluginMenu:"ウインドウオプション",workspace:"ワークスペース",workspaceNavigation:"ワークスペースナビ",workspaceFullScreen:"全画面",workspaceMenu:"ワークスペースの設定",workspaceOptions:"ワークスペースのオプション",workspaceSelectionTitle:"ワークスペースのタイプを選択",zoomIn:"ズームイン",zoomOut:"ズームアウト",zoomReset:"ズームを戻す"};var VM={translation:HM};const GM={aboutMirador:"Mirador 프로젝트에 대하여",aboutThisItem:"해당 아이템에 대하여",addedFromUrl:"(URL에서 추가됨)",addManifestUrl:"리소스의 위치",addManifestUrlHelp:"IIIF 리소스의 URL",addResource:"리소스 추가","annotationCanvasLabel_1/1":"아이템: [{{label}}]","annotationCanvasLabel_1/2":"왼쪽: [{{label}}]","annotationCanvasLabel_2/2":"오른쪽: [{{label}}]",annotations:"주석",attribution:"귀속",attributionTitle:"권리",authenticationFailed:"인증 실패.",authenticationRequired:"모든 정보에 접근하기 위해선 인증이 필요합니다.",backToResults:"결과로 돌아가기",book:"책",bottom:"아래",cancel:"취소",canvasIndex:"인덱스",changeTheme:"테마 변경",clearSearch:"지우기",close:"닫기",closeAddResourceForm:"폼 닫기",closeAddResourceMenu:"리소스 목록 닫기",closeCompanionWindow:"패널 닫기",closeWindow:"윈도우 닫기",collapseSection:'"{{section}}" 섹션 접기',collapseSidePanel:"사이드바 접기",collection:"컬렉션",itemList:"아이템 목록",continue:"계속하기",copy:"복사",currentItem:"현재 아이템","currentItem_1/1":"현재 아이템","currentItem_1/2":"왼쪽","currentItem_2/2":"오른쪽",dark:"다크 모드",digitizedView:"디지털 뷰",dismiss:"무시하기",highlightAllAnnotations:"모두 하이라이트하기",displayNoAnnotations:"하이라이트 해제",downloadExport:"작업공간 내보내기",downloadExportWorkspace:"작업공간 내보내기",elastic:"신축성",elasticDescription:"무한한 작업공간에서 윈도우를 자유롭게 움직이고 조절해보세요. 윈도우는 서로 겹칠 수 있습니다.",emptyResourceList:"리소스 목록이 비어있습니다",error:"오류",errorDialogConfirm:"허락",errorDialogTitle:"오류 발생",exitFullScreen:"전체화면에서 나가기",expandSection:'"{{section}}" 섹션 확장',expandSidePanel:"사이드바 확장",exportCopied:"작업공간 환경설정을 클립보드에 복사했습니다",fetchManifest:"추가하기",fullScreen:"전체화면",gallery:"갤러리",hideZoomControls:"확대/축소 기능 숨기기",iiif_homepage:"해당 리소스에 대하여",iiif_manifest:"IIIF 매니페스트",iiif_renderings:"대체 포맷",iiif_seeAlso:"참고",import:"가져오기",importWorkspace:"작업공간 가져오기",importWorkspaceHint:"Mirador 3 환경설정 가져와 붙여넣기",item:"아이템: {{label}}",jsError:"기술적인 세부사항",jsStack:"{{ stack }}",language:"언어",layer_hide:"레이어 숨기기",layer_move:"레이어 움직이기",layer_opacity:"레이어 불투명도",layer_show:"레이어 보이기",layer_moveToTop:"레이어를 위로 옮기기",layers:"레이어",light:"라이트 모드",links:"링크",listAllOpenWindows:"윈도우로 이동하기",login:"로그인",logout:"로그아웃",manifestError:"리소스를 추가할 수 없습니다:",maximizeWindow:"윈도우 크기 최대화",minimizeWindow:"윈도우 크기 최소화",mirador:"Mirador",miradorResources:"Mirador 리소스",miradorViewer:"Mirador 뷰어",more:"더 보기...",moreResults:"결과 더 보기",mosaic:"모자이크",mosaicDescription:"프레임 내에서 윈도우를 이동하고 크기를 조정합니다.",moveCompanionWindowToBottom:"아래로 옮기기",moveCompanionWindowToRight:"오른쪽으로 옮기기",nextCanvas:"다음 아이템",noItemSelected:"아이템이 선택되지 않았습니다",numItems:"{{number}}개의 아이템",numItems_plural:"{{number}}개의 아이템",off:"끄기",openCompanionWindow_annotations:"주석",openCompanionWindow_attribution:"권리",openCompanionWindow_canvas:"인덱스",openCompanionWindow_info:"정보",openCompanionWindow_layers:"레이어",openCompanionWindow_search:"검색",openInCompanionWindow:"별도의 패널에서 열기",openWindows:"현재 열려있는 윈도우",pagination:"{{current}} of {{total}}",position:"배치",previewWindowTitle:"{{title}}",previousCanvas:"이전 아이템",related:"관련",resource:"리소스",retry:"재시도",right:"오른쪽",rights:"라이선스",scroll:"스크롤",searchInputLabel:"용어 찾기",searchNextResult:"다음 결과",searchNoResults:"해당 결과 없음",searchPreviousResult:"이전 결과",searchResultsRemaining:"{{numLeft}}개 남음",searchSubmitAria:"검색하기",searchTitle:"검색",selectWorkspaceMenu:"작업공간 유형 선택",showingNumAnnotations:"{{number}}개의 주석 나타내기",showingNumAnnotations_plural:"{{number}}개의 주석 나타내기",showCollection:"컬렉션 보이기",showZoomControls:"확대/축소 기능 보이기",sidebarPanelsNavigation:"사이드바 패널 탐색",single:"한 개",startHere:"시작하기",suggestSearch:'이 문서를 "{{ query }}"로 검색하기',tableOfContentsList:"목차",theme:"테마",thumbnailList:"썸네일 목록",thumbnailNavigation:"썸네일",thumbnails:"썸네일",toggleWindowSideBar:"사이드바 전환",totalCollections:"{{count}}개의 컬렉션",totalCollections_plural:"{{count}}개의 컬렉션",totalManifests:"{{count}}개의 매니페스트",totalManifests_plural:"{{count}}개의 매니페스트",tryAgain:"다시 시도하세요",untitled:"[타이틀 없음]",view:"뷰",viewWorkspaceConfiguration:"작업공간 환경설정 ㅂ괴",welcome:"Mirador에 오신 것을 환영합니다",window:"윈도우: {{label}}",windowMenu:"윈도우 뷰 & 썸네일 표시",windowNavigation:"윈도우 탐색",windowPluginButtons:"옵션",windowPluginMenu:"윈도우 옵션",workspace:"작업공간",workspaceNavigation:"작업공간 탐색",workspaceFullScreen:"전체화면",workspaceMenu:"작업공간 설정",workspaceOptions:"작업공간 옵션",workspaceSelectionTitle:"작업공간 유형을 선택하세요",zoomIn:"확대",zoomOut:"축소",zoomReset:"줌 재설정"};var qM={translation:GM};const KM={aboutThisItem:"Over dit item",addedFromUrl:"(Toegevoegd via URL)",addManifestUrl:"Locatie bron",addManifestUrlHelp:"De URL van een IIIF-resource",addResource:"Voeg bron toe","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]",annotations:"Annotaties",attribution:"Naamsvermelding",attributionTitle:"Rechten",authenticationFailed:"Authenticatie gefaald.",authenticationRequired:"Authenticatie is vereist voor volledige toegang",backToResults:"Terug naar resultaten",book:"Boek",bottom:"Onderaan",cancel:"Annuleer",canvasIndex:"Index",changeTheme:"Wijzig thema",clearSearch:"clear",closeAddResourceForm:"Sluit formulier",closeAddResourceMenu:"Sluit lijst met bronnen",closeCompanionWindow:"Sluit paneel",closeWindow:"Sluit venster",collapseSection:'Klap "{{section}}" sectie in',collapseSidePanel:"Klap zijbalk in",itemList:"Compacte lijst",continue:"Ga verder",copy:"Kopieer",currentItem:"Huidig item","currentItem_1/1":"Huidig item","currentItem_1/2":"Links","currentItem_2/2":"Rechts",dark:"Donker thema",dismiss:"Dismiss",highlightAllAnnotations:"Markeer alles",downloadExport:"Exporteer workspace",downloadExportWorkspace:"Exporteer workspace",elastic:"Elastisch",elasticDescription:"Verplaats en rangschik vensters vrij in een onbeperkte workspace. Vensters kunnen elkaar overlappen.",emptyResourceList:"Je lijst met bronnen is leeg",errorDialogConfirm:"OK",errorDialogTitle:"Er is een fout opgetreden",exitFullScreen:"Verlaat volledig scherm",expandSection:'Klap "{{section}}" sectie uit',expandSidePanel:"Klap zijbalk uit",fetchManifest:"Voeg toe",fullScreen:"Volledig scherm",gallery:"Gallerij",hideZoomControls:"Verberg zoomknoppen",iiif_homepage:"Over deze bron",iiif_manifest:"IIIF-manifest",iiif_renderings:"Alternatieve formaten",iiif_seeAlso:"Zie ook",import:"Importeer",importWorkspace:"Importeer workspace",importWorkspaceHint:"Plak een Mirador 3 configuratie die geïmporteerd moet worden",item:"Item: {{label}}",language:"Taal",light:"Licht thema",links:"Links",listAllOpenWindows:"Ga naar venster",login:"Log in",manifestError:"De bron kan niet worden toegevoegd:",maximizeWindow:"Maximaliseer venster",minimizeWindow:"Minimaliseer venster",mirador:"Mirador",miradorResources:"Mirador resources",miradorViewer:"Mirador viewer",more:"meer...",moreResults:"Meer resultaten",mosaic:"Mozaïek",mosaicDescription:"Verplaats en rangschik vensters in verhouding tot elkaar binnen het zichtbare kader.",moveCompanionWindowToBottom:"Verplaats naar beneden",moveCompanionWindowToRight:"Verplaats naar rechts",nextCanvas:"Volgend item",numItems:"{{number}} item",numItems_plural:"{{number}} items",off:"Uit",openCompanionWindow_annotations:"Annotaties",openCompanionWindow_attribution:"Rechten",openCompanionWindow_canvas:"Index",openCompanionWindow_info:"Informatie",openCompanionWindow_search:"Zoeken",openInCompanionWindow:"Open in een apart paneel",openWindows:"Geopende vensters",pagination:"{{current}} van {{total}}",position:"Positie",previewWindowTitle:"{{title}}",previousCanvas:"Vorig item",related:"Verwant",resource:"Bron",retry:"Probeer opnieuw",right:"Rechts",rights:"Licentie",searchInputLabel:"zoek termen",searchNextResult:"Volgend resultaat",searchNoResults:"Geen resultaten gevonden",searchPreviousResult:"Vorig resultaat",searchSubmitAria:"Zoeken",searchTitle:"Zoek",selectWorkspaceMenu:"Selecteer workspacetype",showingNumAnnotations:"{{number}} annotatie weergegeven",showingNumAnnotations_plural:"{{number}} annotaties weergegeven",showZoomControls:"Toon zoomknoppen",sidebarPanelsNavigation:"Zijbalk panelen navigatie",single:"Enkel",startHere:"Begin Hier",suggestSearch:'Zoek in dit document naar "{{ query }}"',theme:"Thema",thumbnailList:"Lijst thumbnails",thumbnailNavigation:"Thumbnails",thumbnails:"Thumbnails",toggleWindowSideBar:"Toon zijbalk",totalCollections:"{{count}} collectie",totalCollections_plural:"{{count}} collecties",totalManifests:"{{count}} manifest",totalManifests_plural:"{{count}} manifests",tryAgain:"Probeer opnieuw",untitled:"[Zonder titel]",view:"Weergave",welcome:"Welkom in Mirador",window:"Venster: {{label}}",windowMenu:"Vensters- en miniatuurweergave",windowNavigation:"Navigatie venster",windowPluginButtons:"Opties",windowPluginMenu:"Vensteropties",workspace:"Workspace",workspaceFullScreen:"Volledig scherm",workspaceMenu:"Workspace instellingen",workspaceOptions:"Workspace opties",workspaceSelectionTitle:"Selecteer een workspace type",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomReset:"Reset zoom"};var ZM={translation:KM};const YM={aboutMirador:"O Projekcie Mirador",aboutThisItem:"O bieżącej pozycji",addedFromUrl:"(Dodano z URL)",addManifestUrl:"Lokalizacja zasobów",addManifestUrlHelp:"URL zasobów IIIF",addResource:"Dodaj zasoby","annotationCanvasLabel_1/1":"Pozycja: [{{label}}]","annotationCanvasLabel_1/2":"Lewo: [{{label}}]","annotationCanvasLabel_2/2":"Prawo: [{{label}}]",annotations:"Adnotacje",attribution:"Atrybucja",attributionTitle:"Prawa",authenticationFailed:"Uwierzytelnianie nie powiodło się.",authenticationRequired:"Do pełnego dostępu wymagane jest uwierzytelnienie",backToResults:"Powrót do wyników",book:"Książka",bottom:"Dół",cancel:"Anuluj",canvasIndex:"Indeks",changeTheme:"Zmień motyw",clearSearch:"wyczyść",close:"Zamknij",closeAddResourceForm:"Zamknij formularz",closeAddResourceMenu:"Zamknij listę zasobów",closeCompanionWindow:"Zamknij panel",closeWindow:"Zamknij okno",collapseSection:'Zwiń sekcję "{{section}}"',collapseSidePanel:"Zwiń panel boczny",collection:"Zbiór",itemList:"Lista pozycji",continue:"Kontynuuj",copy:"Kopiuj",currentItem:"Bieżąca pozycja","currentItem_1/1":"Bieżąca pozycja","currentItem_1/2":"Lewo","currentItem_2/2":"Prawo",dark:"Ciemny motyw",digitizedView:"Widok zdigitalizowany",dismiss:"Odrzuć",highlightAllAnnotations:"Podświetl wszystko",displayNoAnnotations:"Nie podświetlaj",downloadExport:"Eksportuj obszar roboczy",downloadExportWorkspace:"Eksportuj obszar roboczy",elastic:"Elastyczny",elasticDescription:"Swobodnie przesuwaj i dopasowuj okna w nieograniczonej przestrzeni roboczej. Okna mogą zachodzić na siebie.",emptyResourceList:"Twoja lista zasobów jest pusta",error:"Błąd",errorDialogConfirm:"OK",errorDialogTitle:"Wystąpił błąd",exitFullScreen:"Wyłącz tryb pełnoekranowy",expandSection:'Rozwiń sekcję "{{section}}"',expandSidePanel:"Rozwiń panel boczny",exportCopied:"Konfiguracja obszaru roboczego została skopiowana do schowka",fetchManifest:"Dodaj",fullScreen:"Pełny ekran",gallery:"Galeria",hideZoomControls:"Ukryj kontrolki powiększenia",iiif_homepage:"O tym zasobie",iiif_manifest:"Manifest IIIF",iiif_renderings:"Alternatywne formaty",iiif_seeAlso:"Zobacz też",import:"Importuj",importWorkspace:"Importuj obszar roboczy",importWorkspaceHint:"Wklej konfigurację Mirador 3 do zaimportowania",item:"Pozycja: {{label}}",jsError:"Szczegóły techniczne",jsStack:"{{ stack }}",language:"Język",layer_hide:"Ukryj warstwę",layer_move:"Przenieś warstwę",layer_opacity:"Krycie warstwy",layer_show:"Pokaż warstwę",layer_moveToTop:"Przenieś warstwę na górę",layers:"Warstwy",light:"Jasny motyw",links:"Linki",listAllOpenWindows:"Przejdź do okna",login:"Zaloguj",logout:"Wyloguj",manifestError:"Następujące zasoby nie mogą być dodane:",maximizeWindow:"Maksymalizuj okno",minimizeWindow:"Minimalizuj okno",mirador:"Mirador",miradorResources:"Zasoby Mirador",miradorViewer:"Przeglądarka Mirador",more:"więcej...",moreResults:"Więcej wyników",mosaic:"Mozaika",mosaicDescription:"Przesuwaj i zmieniaj rozmiary okien względem siebie, w widocznej ramce.",moveCompanionWindowToBottom:"Przesuń na dół",moveCompanionWindowToRight:"Przesuń w prawo",nextCanvas:"Następna pozycja",noItemSelected:"Nie wybrano pozycji",numItems:"{{number}} pozycja",numItems_plural:"{{number}} pozycje",off:"Wyłącz",openCompanionWindow_annotations:"Adnotacje",openCompanionWindow_attribution:"Prawa",openCompanionWindow_canvas:"Indeks",openCompanionWindow_info:"Informacje",openCompanionWindow_layers:"Warstwy",openCompanionWindow_search:"Szukaj",openInCompanionWindow:"Otwórz w oddzielnym panelu",openWindows:"Aktualnie otwarte okna",pagination:"{{current}} of {{total}}",position:"Pozycja",previewWindowTitle:"{{title}}",previousCanvas:"Poprzednia pozycja",related:"Powiązane",resource:"Zasoby",retry:"Spróbuj ponownie",right:"Prawo",rights:"Licencja",scroll:"Przewiń",searchInputLabel:"szukane słowa",searchNextResult:"Następny wynik",searchNoResults:"Nie znaleziono wyników",searchPreviousResult:"Poprzedni wynik",searchResultsRemaining:"Pozostało {{numLeft}}",searchSubmitAria:"Wyszukaj",searchTitle:"Wyszukaj",selectWorkspaceMenu:"Wybierz typ obszaru roboczego",showingNumAnnotations:"Wyświetlanie {{number}} adnotacji",showingNumAnnotations_plural:"Wyświetlanie {{number}} adnotacji",showCollection:"Pokaż zbiór",showZoomControls:"Pokaż kontrolki powiększenia",sidebarPanelsNavigation:"Nawigacja pasków panelu bocznego",single:"Pojedynczy",startHere:"Zacznij tutaj",suggestSearch:'Przeszukaj ten dokument pod kątem "{{ query }}"',tableOfContentsList:"Spis treści",theme:"Motyw",thumbnailList:"Lista miniatur",thumbnailNavigation:"Miniatury",thumbnails:"Miniatury",toggleWindowSideBar:"Przełącz panel boczny",totalCollections:"{{count}} zbiór",totalCollections_plural:"{{count}} zbiorów",totalManifests:"{{count}} manifest",totalManifests_plural:"{{count}} manifestów",tryAgain:"Spróbuj ponownie",untitled:"[Bez nazwy]",view:"Widok",viewWorkspaceConfiguration:"Wyświetl konfigurację obszaru roboczego",welcome:"Witaj w Miradorze",window:"Okno: {{label}}",windowMenu:"Widoki okien i wyświetlanie miniatur",windowNavigation:"Nawigacja okna",windowPluginButtons:"Opcje",windowPluginMenu:"Opcje okna",workspace:"Obszar roboczy",workspaceNavigation:"Nawigacja obszaru roboczego",workspaceFullScreen:"Pełny ekran",workspaceMenu:"Ustawienia obszaru roboczego",workspaceOptions:"Opcje obszaru roboczego",workspaceSelectionTitle:"Wybierz typ obszaru roboczego",zoomIn:"Przybliż",zoomOut:"Oddal",zoomReset:"Zresetuj powiększenie"};var XM={translation:YM};const JM={aboutThisItem:"Sobre esse item",addedFromUrl:"(Adicionado por URL)",addManifestUrl:"Localização do manifesto",addManifestUrlHelp:"URL do manifesto IIIF",addResource:"Adicionar conteúdo","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Esquerda: [{{label}}]","annotationCanvasLabel_2/2":"Direita: [{{label}}]",annotations:"Anotações",attribution:"Atribuições",attributionTitle:"Direitos",authenticationFailed:"Falha na autenticação.",authenticationRequired:"Autenticação necessária para acesso completo",backToResults:"Voltar aos resultados",book:"Livro",bottom:"Embaixo",cancel:"Cancelar",canvasIndex:"Índice",changeTheme:"Mudar tema",clearSearch:"limpar",closeAddResourceForm:"Fechar formulário",closeAddResourceMenu:"Fechar lista de conteúdo",closeCompanionWindow:"Fechar painel",closeWindow:"Fechar janela",collapseSection:'Suprimir seção "{{section}}"',collapseSidePanel:"Suprimir barra lateral",itemList:"Lista compacta",continue:"Continuar",copy:"Copiar",currentItem:"Item atual","currentItem_1/1":"Item atual","currentItem_1/2":"Esquerda","currentItem_2/2":"Direita",dark:"Tema escuro",dismiss:"Cancelar",highlightAllAnnotations:"Exibir todas",downloadExport:"Exportar área de trabalho",downloadExportWorkspace:"Exportar área de trabalho",elastic:"Elástico",elasticDescription:"Mova e redimensione janelas livremente numa área de trabalho ilimitada. Janelas podem se sobrepor.",emptyResourceList:"Sua lista de conteúdos está vazia",errorDialogConfirm:"OK",errorDialogTitle:"Um erro ocorreu",exitFullScreen:"Sair do modo tela cheia",expandSection:'Expandir seção "{{section}}"',expandSidePanel:"Expandir barra lateral",fetchManifest:"Adicionar",fullScreen:"Tela cheia",gallery:"Galeria",hideZoomControls:"Ocultar controles de zoom",iiif_homepage:"Sobre esse conteúdo",iiif_manifest:"Manifesto IIIF",iiif_renderings:"Outros formatos",iiif_seeAlso:"Veja também",import:"Importar",importWorkspace:"Importar área de trabalho",importWorkspaceHint:"Cole uma configuração do Mirador 3 para importar",item:"Item: {{label}}",language:"Idioma",light:"Tema claro",links:"Links",listAllOpenWindows:"Pular para janela",login:"Login",manifestError:"O conteúdo não pode ser adicionado:",maximizeWindow:"Maximizar janela",minimizeWindow:"Minimizar janela",mirador:"Mirador",miradorResources:"conteúdo Mirador",miradorViewer:"visualizador Mirador",more:"mais...",moreResults:"Mais resultados",mosaic:"Mosáico",mosaicDescription:"Mova e redimensione janelas em relação entre si, dentro de uma área visível (grid).",moveCompanionWindowToBottom:"Mover para baixo",moveCompanionWindowToRight:"Mover para direita",nextCanvas:"Próximo item",numItems:"{{number}} itens",off:"Desativado",openCompanionWindow_annotations:"Anotações",openCompanionWindow_attribution:"Direitos",openCompanionWindow_canvas:"Índice",openCompanionWindow_info:"Informações",openCompanionWindow_search:"Busca",openInCompanionWindow:"Abrir em janela separada",openWindows:"Janelas abertas",pagination:"{{current}} de {{total}}",position:"Posição",previewWindowTitle:"{{title}}",previousCanvas:"Item anterior",related:"Relacionado",resource:"Conteúdo",retry:"Tentar novamente",right:"Direita",rights:"Licenças",searchInputLabel:"termos de busca",searchNextResult:"Próximo resultado",searchNoResults:"Nenhum resultado encontrado",searchPreviousResult:"Resultado anterior",searchSubmitAria:"Realizar busca",searchTitle:"Busca",selectWorkspaceMenu:"Selecione um tipo de área de trabalho",showingNumAnnotations:"Mostrando {{number}} anotações",showZoomControls:"Mostrar controles de zoom",sidebarPanelsNavigation:"Navegação por paineis na barra lateral",single:"Individual",startHere:"Comece aqui",suggestSearch:'Procurar neste documento por "{{ query }}"',theme:"Tema",thumbnailList:"Lista de thumbnails",thumbnailNavigation:"Thumbnails",thumbnails:"Thumbnails",toggleWindowSideBar:"Ver barra lateral",tryAgain:"Tente novamente",untitled:"[Sem título]",view:"Visualizações",welcome:"Bem-vindo ao Mirador",window:"Janela: {{label}}",windowMenu:"Opções de visualização de janelas e thumbnails",windowNavigation:"Navegação de janelas",windowPluginButtons:"Opções",windowPluginMenu:"Opções de janela",workspace:"Área de trabalho",workspaceFullScreen:"Tela cheia",workspaceMenu:"Configurações de área de trabalho",workspaceOptions:"Opções de área de trabalho",workspaceSelectionTitle:"Selecionar tipo de área de trabalho",zoomIn:"Mais zoom",zoomOut:"Menos zoom",zoomReset:"Zerar zoom"};var QM={translation:JM};const e$={aboutMirador:"Informazioni su Mirador",aboutThisItem:"Informazioni sull'oggetto",addManifestUrl:"URL della risorsa",addManifestUrlHelp:"L'URL di una risorsa IIIF",addResource:"Aggiungi una risorsa",addedFromUrl:"(Aggiunto dall'URL)","annotationCanvasLabel_1/1":"Oggetto: [{{label}}]","annotationCanvasLabel_1/2":"Sinistra: [{{label}}]","annotationCanvasLabel_2/2":"Destra: [{{label}}]",annotations:"Annotazioni",attribution:"Attribuzione",attributionTitle:"Diritti",authenticationFailed:"Autenticazione fallita.",authenticationRequired:"Autenticazione richiesta per l'accesso completo",backToResults:"Torna ai risultati",book:"Libro",bottom:"Fondo",cancel:"Cancella",canvasIndex:"Indice",changeTheme:"Cambia tema",clearSearch:"pulisci",close:"Chiudi",closeAddResourceForm:"Chiudi il modulo",closeAddResourceMenu:"Chiudi la lista di risorse",closeCompanionWindow:"Chiudi il pannello",closeWindow:"Chiudi finestra",collapseSection:'Collassa la sezione "{{section}}"',collapseSidePanel:"Collassa la barra laterale",collection:"Collezione",continue:"Continua",copy:"Copia",currentItem:"Oggetto corrente","currentItem_1/1":"Oggetto corrente","currentItem_1/2":"Sinistra","currentItem_2/2":"Destra",dark:"Tema scuro",digitizedView:"Digitized view",dismiss:"Dismiss",displayNoAnnotations:"Nascondi evidenziazione",downloadExport:"Esporta il workspace",downloadExportWorkspace:"Esporta il workspace",elastic:"Elastico",elasticDescription:"Muovi e ridimensiona le finestre liberamente in un workspace illimitato. Le finestre possono sovrapporsi.",emptyResourceList:"La tua lista di risorse è vuota.",error:"Errore",errorDialogConfirm:"OK",errorDialogTitle:"Si è verificato un errore.",exitFullScreen:"Esci da schermo intero",expandSection:'Espandi la sezione "{{section}}"',expandSidePanel:"Espandi la barra laterale",exportCopied:"La configurazione del workspace è stata copiata nella tua clipboard",fetchManifest:"Aggiungi",fullScreen:"Schermo intero",gallery:"Galleria",hideZoomControls:"Nascondi i controlli di zoom",highlightAllAnnotations:"Evidenzia tutto",iiif_homepage:"Informazioni su questa risorsa",iiif_manifest:"IIIF manifest",iiif_renderings:"Formati alternativi",iiif_seeAlso:"Vedi anche",import:"Importa",importWorkspace:"Importa workspace",importWorkspaceHint:"Incolla una configurazione di Mirador 3 da importare",item:"Oggetto: {{label}}",itemList:"Lista compatta",jsError:"Dettagli tecnici",jsStack:"{{ stack }}",language:"Lingua",layer_hide:"Nascondi livello",layer_move:"Sposta livello",layer_moveToTop:"Sposta il livello in alto",layer_opacity:"Opacità del livello",layer_show:"Visualizza livello",layers:"Livelli",light:"Tema chiaro",links:"Link",listAllOpenWindows:"Vai alla finestra",login:"Entra",logout:"Esci",manifestError:"La risorsa non può essere aggiunta:",maximizeWindow:"Massimizza la finestra",minimizeWindow:"Minimizza la finestra",mirador:"Mirador",miradorResources:"Risorse Mirador",miradorViewer:"Visualizzatore Mirador",more:"ancora...",moreResults:"Più risultati",mosaic:"Mosaico",mosaicDescription:"Muovi e ridimensiona le finestre, tenendole all'interno dell'area visibile",moveCompanionWindowToBottom:"Sposta in fondo",moveCompanionWindowToRight:"Sposta a destra",nextCanvas:"Prossimo oggetto",noItemSelected:"Nessun oggetto selezionato",numItems:"{{number}} oggetti",numItems_plural:"{{number}} oggetti",off:"Off",openCompanionWindow_annotations:"Annotazioni",openCompanionWindow_attribution:"Diritti",openCompanionWindow_canvas:"Indice",openCompanionWindow_info:"Informazioni",openCompanionWindow_layers:"Livelli",openCompanionWindow_search:"Cerca",openInCompanionWindow:"Apri in un pannello separato",openWindows:"Finestre aperte in questo momento",pagination:"{{current}} di {{total}}",position:"Posizione",previewWindowTitle:"{{title}}",previousCanvas:"Previous item",related:"Contenuti collegati",resource:"Risorsa",retry:"Riprova",right:"Right",rights:"Licenza",scroll:"Scorri",searchInputLabel:"termini di ricerca",searchNextResult:"Prossimo risultato",searchNoResults:"Nessun risultato",searchPreviousResult:"Risultato precedente",searchResultsRemaining:"{{numLeft}} rimanenti",searchSubmitAria:"Cerca",searchTitle:"Cerca",selectWorkspaceMenu:"Selezione il tipo di workspace",showCollection:"Visualizza la collezione",showZoomControls:"Mostra i controlli di zoom",showingNumAnnotations:"Sto mostrando {{number}} annotazioni",showingNumAnnotations_plural:"Visualizzando {{number}} annotazioni",sidebarPanelsNavigation:"Navigazione dei pannelli della barra laterale",single:"Singolo",startHere:"Inizia qui",suggestSearch:'Cerca in questo documento: "{{ query }}"',tableOfContentsList:"Sommario",theme:"Tema",thumbnailList:"Lista thumbnail",thumbnailNavigation:"Thumbnails",thumbnails:"Thumbnails",toggleWindowSideBar:"Apri/Chiudi la barra",totalCollections:"{{count}} collezione",totalCollections_plural:"{{count}} collezioni",totalManifests:"{{count}} manifest",totalManifests_plural:"{{count}} manifests",tryAgain:"Riprova",untitled:"[senza titolo]",view:"Visualizza",viewWorkspaceConfiguration:"Visualizza la configurazione del workspace",welcome:"Benvenuto in Mirador",window:"Finestra: {{label}}",windowMenu:"Visualizzazioni finestra e display thumbnail",windowNavigation:"Navigazione finestra",windowPluginButtons:"Opzioni",windowPluginMenu:"Opzioni finestra",workspace:"Workspace",workspaceFullScreen:"Schermo intero",workspaceMenu:"Configurazioni Workspace",workspaceNavigation:"Navigazione del workspace",workspaceOptions:"Opzioni Workspace",workspaceSelectionTitle:"Seleziona il tipo di workspace",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomReset:"Reset zoom"};var t$={translation:e$};const n$={aboutMirador:"О пројекту Mirador",aboutThisItem:"Опис",addedFromUrl:"(Додато са URL)",addManifestUrl:"Локација ресурса",addManifestUrlHelp:"URL IIIF ресурса",addResource:"Додајте ресурс","annotationCanvasLabel_1/1":"Страница: [{{label}}]","annotationCanvasLabel_1/2":"Лева: [{{label}}]","annotationCanvasLabel_2/2":"Десна: [{{label}}]",annotations:"Анотације",attribution:"Приступ",attributionTitle:"Права",authenticationFailed:"Неуспела аутентификација.",authenticationRequired:"За потпуни приступ неопходна је аутентификација",backToResults:"Повратак на резултате",book:"Књига",bottom:"На дну",cancel:"Одустаните",canvasIndex:"Индекс",changeTheme:"Промените тему",clearSearch:"обришите",close:"Затворите",closeAddResourceForm:"Затворите",closeAddResourceMenu:"Затворите листу ресурса",closeCompanionWindow:"Затворите панел",closeWindow:"Затворите приказ",collapseSection:'Сакријте "{{section}}" секцију',collapseSidePanel:"Сакријте",collection:"Колекција",itemList:"Листа страница",continue:"Наставите",copy:"Копирајте",currentItem:"Тренутна страница","currentItem_1/1":"Тренутна страница","currentItem_1/2":"Лева","currentItem_2/2":"Десна",dark:"Тамна тема",digitizedView:"Приказ дигиталног објекта",dismiss:"Откажите",highlightAllAnnotations:"Приказ свих",displayNoAnnotations:"Без приказа",downloadExport:"Извезите радно окружење",downloadExportWorkspace:"Извезите радно окружење",elastic:"Еластични",elasticDescription:"Слободно померајте и одредите величину приказа у неограниченом радном простору. Прикази могу бити већи од радног простора.",emptyResourceList:"Ваша листа ресурса је празна",error:"Грешка",errorDialogConfirm:"OK",errorDialogTitle:"Дошло је до грешке",exitFullScreen:"Изађите из приказа преко целог екрана",expandSection:'Проширите "{{section}}" секцију',expandSidePanel:"Прикажите",exportCopied:"Конфигурација радног окружења је копирана у привремену меморију",fetchManifest:"Додајте",fullScreen:"Приказ у пуном екрану",gallery:"Галерија",hideZoomControls:"Сакријте контроле зума",iiif_homepage:"О ресурсу",iiif_manifest:"IIIF manifest",iiif_renderings:"Додатни формати",iiif_seeAlso:"Погледајте и",import:"Увезите",importWorkspace:"Увезите радно окружење",importWorkspaceHint:"Убаците конфигурацију Mirador 3 како би могли да је увезете",item:"Страница: {{label}}",jsError:"Технички детаљи",jsStack:"{{ stack }}",language:"Језик приказа",layer_hide:"Сакријте слој",layer_move:"Померите слој",layer_opacity:"Видљивост слоја",layer_show:"Приказ слоја",layer_moveToTop:"Померите слој на врх",layers:"Слојеви",light:"Светла тема",links:"Линкови",listAllOpenWindows:"Идите на приказ",login:"Улогујте се",logout:"Излогујте се",manifestError:"Ресурс се не може додати",maximizeWindow:"Максималан приказ",minimizeWindow:"Минималан приказ",mirador:"Mirador",miradorResources:"Mirador ресурси",miradorViewer:"Mirador прегледач",more:"још...",moreResults:"Још резултата",mosaic:"Мозаик",mosaicDescription:"Померајте и одредите величину приказа који су у међусобној релацији, унутар видљивог оквира.",moveCompanionWindowToBottom:"Пребаците на дно",moveCompanionWindowToRight:"Померите у десну страну",nextCanvas:"Следећа",noItemSelected:"Нема изабраних објеката",numItems:"{{number}} страница/це",off:"Искључене",openCompanionWindow_annotations:"Анотације",openCompanionWindow_attribution:"Права",openCompanionWindow_canvas:"Индекс",openCompanionWindow_info:"Информације",openCompanionWindow_layers:"Слојеви",openCompanionWindow_search:"Претрага",openInCompanionWindow:"Отворите у засебном панелу",openWindows:"Тренутно отворени прикази",pagination:"{{current}} од {{total}}",position:"Позиција",previewWindowTitle:"{{title}}",previousCanvas:"Претходна",related:"Релације",resource:"Ресурс",retry:"Покушајте поново",right:"Десно",rights:"Лиценца",scroll:"Померајте",searchInputLabel:"претражите појам",searchNextResult:"Следећи резултат",searchNoResults:"Тражени појам није пронађен",searchPreviousResult:"Претходни резултат",searchSubmitAria:"Претражите",searchTitle:"Претрага",selectWorkspaceMenu:"Изаберите тип радног окружења",showingNumAnnotations:"Приказ {{number}} анотација/је",showCollection:"Прикажи колекцију",showZoomControls:"Приказ контрола зума",sidebarPanelsNavigation:"Навигација сајдбар панела",single:"Појединачно",startHere:"Започните",suggestSearch:'Пронађите појам "{{ query }}" у овом документу',tableOfContentsList:"Садржај",theme:"Тема",thumbnailList:"Листа сличица",thumbnailNavigation:"Сличице",thumbnails:"Сличице",toggleWindowSideBar:"Сајдбар",totalCollections:"{{count}} колекција/е",totalManifests:"{{count}} објек(а)та",tryAgain:"Покушајте поново",untitled:"[Без наслова]",view:"Преглед",welcome:"Добродошли у прегледач Mirador",window:"Приказ: {{label}}",windowMenu:"Изглед прегледа и позиција сличица",windowNavigation:"Навигација приказа",windowPluginButtons:"Опције",windowPluginMenu:"Опције приказа",workspace:"Радни простор",workspaceFullScreen:"Приказ преко целог екрана",workspaceMenu:"Уређивање радног простора",workspaceOptions:"Опције радног окружења",workspaceSelectionTitle:"Изаберите тип радног окружења",zoomIn:"Увећајте",zoomOut:"Умањите",zoomReset:"Ресет зума"};var r$={translation:n$};const a$={aboutMirador:"Om Projekt Mirador",aboutThisItem:"Om det här objektet",addedFromUrl:"(Tillagd från URL)",addManifestUrl:"Webbadress till samling eller manifest",addManifestUrlHelp:"URL till en IIIF-resurs",addResource:"Lägg till resurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Vänster: [{{label}}]","annotationCanvasLabel_2/2":"Höger: [{{label}}]",annotations:"Noteringar",attribution:"Tillskrivning",attributionTitle:"Rättigheter",authenticationFailed:"Autentisering misslyckades.",authenticationRequired:"Autentisering krävs för full åtkomst",backToResults:"Tillbaka till resultat",book:"Bok",bottom:"Nederkant",cancel:"Avbryt",canvasIndex:"Index",changeTheme:"Ändra tema",clearSearch:"Ta bort sökning",close:"Stäng",closeAddResourceForm:"Stäng formulär",closeAddResourceMenu:"Stäng resurslista",closeCompanionWindow:"Stäng panel",closeWindow:"Stäng fönster",collapseSection:'Stäng sektionen "{{section}}"',collapseSidePanel:"Stäng sidofält",collection:"Samling",itemList:"Objektlista",continue:"Fortsätt",copy:"Kopiera",currentItem:"Aktuellt objekt","currentItem_1/1":"Aktuellt objekt","currentItem_1/2":"Vänster","currentItem_2/2":"Höger",dark:"Mörkt tema",digitizedView:"Digitaliserad vy",dismiss:"Stäng",highlightAllAnnotations:"Markera alla",displayNoAnnotations:"Avmarkera alla",downloadExport:"Exportera arbetsyta",downloadExportWorkspace:"Exportera arbetsyta",elastic:"Elastisk",elasticDescription:"Flytta och ändra storlek på fönster fritt i en obegränsad arbetsyta. Fönster kan överlappa.",emptyResourceList:"Din resurslista är tom",error:"Error",errorDialogConfirm:"OK",errorDialogTitle:"Ett problem uppstod",exitFullScreen:"Lämna helskärmsläge",expandSection:'Expandera sektionen "{{section}}"',expandSidePanel:"Expandera sidofält",exportCopied:"Konfiguration av arbetsytan har kopierats till dina urklipp",fetchManifest:"Lägg till",fullScreen:"Helskärmsläge",gallery:"Galleri",hideZoomControls:"Dölj zoomkontroller",iiif_homepage:"Om den här resursen",iiif_manifest:"IIIF manifest",iiif_renderings:"Alternativa format",iiif_seeAlso:"Se även",import:"Importera",importWorkspace:"Importera arbetsyta",importWorkspaceHint:"Klistra in en Mirador 3 konfiguration att importera",item:"Objekt: {{label}}",jsError:"Tekniska detaljer",jsStack:"{{ stack }}",language:"Språk",layer_hide:"Dölj lager",layer_move:"Flytta lager",layer_opacity:"Lageropacitet",layer_show:"Visa lager",layer_moveToTop:"Flytta lager till toppen",layers:"Lager",light:"Ljust tema",links:"Länkar",listAllOpenWindows:"Gå till fönster",login:"Logga in",logout:"Logga ut",manifestError:"Resursen kan inte läggas till:",maximizeWindow:"Maximera fönster",minimizeWindow:"Minimera fönster",mirador:"Mirador",miradorResources:"Miradorresurser",miradorViewer:"Mirador bildvisare",more:"mer...",moreResults:"Fler resultat",mosaic:"Mosaik",mosaicDescription:"Flytta och ändra storlek på fönster i relation till varandra, innanför den synliga ramen.",moveCompanionWindowToBottom:"Flytta till botten",moveCompanionWindowToRight:"Flytta till höger",nextCanvas:"Nästa objekt",noItemSelected:"Inga valda objekt",numItems:"{{number}} objekt",off:"Av",openCompanionWindow_annotations:"Noteringar",openCompanionWindow_attribution:"Rättigheter",openCompanionWindow_canvas:"Index",openCompanionWindow_info:"Information",openCompanionWindow_layers:"Lager",openCompanionWindow_search:"Sök",openInCompanionWindow:"Öppna i separat panel",openWindows:"Öppna fönster",pagination:"{{current}} av {{total}}",position:"Position",previewWindowTitle:"{{title}}",previousCanvas:"Föregående objekt",related:"Relaterat",resource:"Resurs",retry:"Försök igen",right:"Till höger",rights:"Licens",scroll:"Scrolla",searchInputLabel:"Sökord",searchNextResult:"Nästa resultat",searchNoResults:"Inga resultat hittades",searchPreviousResult:"Föregående resultat",searchResultsRemaining:"{{numLeft}} kvar",searchSubmitAria:"Sök",searchTitle:"Sök",selectWorkspaceMenu:"Välj typ av arbetsyta",showingNumAnnotations:"Visar {{number}} noteringar",showCollection:"Visa samling",showZoomControls:"Visa zoomkontroller",sidebarPanelsNavigation:"Sidofältspaneler navigering",single:"En och en",startHere:"Börja här",suggestSearch:'Sök i detta dokument efter "{{ query }}"',tableOfContentsList:"Innehållsförteckning",theme:"Tema",thumbnailList:"Miniatyrlista",thumbnailNavigation:"Miniatyrer",thumbnails:"Miniatyrer",toggleWindowSideBar:"Visa/dölj sidofält",totalCollections:"{{count}} samlingar",totalManifests:"{{count}} manifest",tryAgain:"Försök igen",untitled:"[namnlös]",view:"Vy",welcome:"Välkommen till Mirador",window:"Fönster: {{label}}",windowMenu:"Fönstervyer & miniatyrdisplay",windowNavigation:"Fönsternavigation",windowPluginButtons:"Inställningar",windowPluginMenu:"Fönsterinställningar",workspace:"Arbetsyta",workspaceNavigation:"Navigera i arbetsyta",workspaceFullScreen:"Helskärmsläge",workspaceMenu:"Inställningar för arbetsyta",workspaceOptions:"Fler val för arbetsyta",workspaceSelectionTitle:"Välj typ av arbetsyta",zoomIn:"Zooma in",zoomOut:"Zooma ut",zoomReset:"Återställ zoom"};var i$={translation:a$};const o$={aboutMirador:"Apie Project Mirador",aboutThisItem:"Apie šį įrašą",addedFromUrl:"(Pridėta naudojant URL)",addManifestUrl:"Šaltinio adresas",addManifestUrlHelp:"Nuoroda į IIIF šaltinį",addResource:"Pridėti šaltinį","annotationCanvasLabel_1/1":"Įrašas: [{{label}}]","annotationCanvasLabel_1/2":"Kairė: [{{label}}]","annotationCanvasLabel_2/2":"Dešinė: [{{label}}]",annotations:"Anotacijos",attribution:"Priskyrimas",attributionTitle:"Teisės",authenticationFailed:"Autentifikavimo klaida.",authenticationRequired:"Pilnai prieigai būtina autentifikacija",backToResults:"Grįžti į rezultatus",book:"Knyga",bottom:"Apačia",cancel:"Atšaukti",canvasIndex:"Indeksas",changeTheme:"Keisti temą",clearSearch:"valyti",closeAddResourceForm:"Uždaryti paraišką",closeAddResourceMenu:"Uždaryti šaltinių sąrašą",closeCompanionWindow:"Uždaryti panelę",closeWindow:"Uždaryti langą",collapseSection:'Suskleisti "{{section}}" sekciją',collapseSidePanel:"Suskleisti šoninę juostą",itemList:"Įrašų sąrašas",continue:"Tęsti",copy:"Kopijuoti",currentItem:"Dabartinis įrašas","currentItem_1/1":"Dabartinis įrašas","currentItem_1/2":"Kairė","currentItem_2/2":"Dešinė",dark:"Tamsi tema",digitizedView:"Skaitmenintas vaizdas",dismiss:"Atmesti",highlightAllAnnotations:"Paryškinti viską",displayNoAnnotations:"Slėpti viską",downloadExport:"Išsaugoti darbalaukį",downloadExportWorkspace:"Išsaugoti darbalaukį",elastic:"Lankstus",elasticDescription:"Langų dydis ir vieta gali būti laisvai valdomi. Langai gali persidengti.",emptyResourceList:"Jūsų šaltinių sąrašas yra tuščias",error:"Klaida",errorDialogConfirm:"Gerai",errorDialogTitle:"Įvyko klaida",exitFullScreen:"Išjungti pilno ekrano režimą",expandSection:'Išplėsti "{{section}}" sekciją',expandSidePanel:"Išplėsti šoninę juostą",exportCopied:"Darbalaukio nustatymai nukopijuoti",fetchManifest:"Pridėti",fullScreen:"Pilnas ekranas",gallery:"Galerija",hideZoomControls:"Slėpti priartinimo valdymą",iiif_homepage:"Apie šį šaltinį",iiif_manifest:"IIIF manifestas",iiif_renderings:"Kiti formatai",iiif_seeAlso:"Susiję",import:"Įkelti",importWorkspace:"Įkelti darbalaukį",importWorkspaceHint:"Įterpkite Mirador 3 nustatymus įkėlimui",item:"Įrašas: {{label}}",jsError:"Techninė informacija",jsStack:"{{ stack }}",language:"Kalba",layer_hide:"Slėpti sluoksnį",layer_move:"Perkelti sluoksnį",layer_opacity:"Sluoksnio nepermatomumas",layer_show:"Rodyti sluoksnį",layer_moveToTop:"Perkelti sluoksnį į viršų",layers:"Sluoksniai",light:"Šviesi tema",links:"Nuorodos",listAllOpenWindows:"Rodyti aktyvius langus",login:"Prisijungti",logout:"Atsijungti",manifestError:"Šaltinis negali būti pridėtas:",maximizeWindow:"Išdidinti langą",minimizeWindow:"Sumažinti langą",mirador:"Mirador",miradorResources:"Mirador šaltiniai",miradorViewer:"Mirador žiūryklė",more:"daugiau...",moreResults:"Daugiau rezultatų",mosaic:"Mosaic",mosaicDescription:"Langų dydžio ir pozicijos keitimai apribojami ekrano erdvėje.",moveCompanionWindowToBottom:"Perkelti į apačią",moveCompanionWindowToRight:"Perkelti į dešinę",nextCanvas:"Kitas įrašas",numItems:"{{number}} įrašas (-ai)",off:"Išjungti",openCompanionWindow_annotations:"Anotacijos",openCompanionWindow_attribution:"Teisės",openCompanionWindow_canvas:"Indeksas",openCompanionWindow_info:"Informacija",openCompanionWindow_layers:"Sluoksniai",openCompanionWindow_search:"Paieška",openInCompanionWindow:"Atidaryti kaip naują panelę",openWindows:"Aktyvųs langai",pagination:"{{current}} iš {{total}}",position:"Pozicija",previewWindowTitle:"{{title}}",previousCanvas:"Buvęs įrašas",related:"Susiję",resource:"Šaltinis",retry:"Pabandyti iš naujo",right:"Dešinė",rights:"Teisės",scroll:"Paslinkti",searchInputLabel:"paieškos terminas",searchNextResult:"Kitas rezultatas",searchNoResults:"Nėra rezultatų",searchPreviousResult:"Buvęs rezultatas",searchSubmitAria:"Pateikti paieškos užklausą",searchTitle:"Ieškoti",selectWorkspaceMenu:"Pasirinkti darbalaukio tipą",showingNumAnnotations:"Rodoma {{number}} anotacija (-os)",showCollection:"Rodyti kolekciją",showZoomControls:"Rodyti priartinimo valdymą",sidebarPanelsNavigation:"Šoninės juostos valdymas",single:"Atskiras",startHere:"Pradėkite čia",suggestSearch:'Ieškoti "{{ query }}" visame documente',tableOfContentsList:"Turinys",theme:"Tema",thumbnailList:"Miniatiūrų sąrašas",thumbnailNavigation:"Miniatiūros",thumbnails:"Miniatiūros",toggleWindowSideBar:"Perjungti šoninę juostą",totalCollections:"{{count}} kolekcija (-os)",totalManifests:"{{count}} šaltinis (-iai)",tryAgain:"Bandykite dar kartą",untitled:"[Be pavadinimo]",view:"Žiūrėti",welcome:"Sveiki atvykę į Mirador",window:"Langas: {{label}}",windowMenu:"Langų & miniatiūrų atvaizdavimas",windowNavigation:"Langų valdymas",windowPluginButtons:"Pasirinkimai",windowPluginMenu:"Langų pasirinkimai",workspace:"Darbalaukis",workspaceNavigation:"Darbalaukio valdymas",workspaceFullScreen:"Pilnas ekranas",workspaceMenu:"Darbalaukio nustatymai",workspaceOptions:"Darbalaukio pasirinkimai",workspaceSelectionTitle:"Pasirinkite darbalaukio tipą",zoomIn:"Priartinti",zoomOut:"Atitolinti",zoomReset:"Atstatyti priartinimą"};var s$={translation:o$};const u$={aboutMirador:"Về dự án Mirador",aboutThisItem:"Về khoản mục này",addedFromUrl:"(Được thêm từ URL)",addManifestUrl:"Vị trí tài nguyên",addManifestUrlHelp:"URL của tài nguyên IIIF",addResource:"Bổ sung tài nguyên","annotationCanvasLabel_1/1":"Khoản mục: [{{label}}]","annotationCanvasLabel_1/2":"Trái: [{{label}}]","annotationCanvasLabel_2/2":"Phải: [{{label}}]",annotations:"Chú giải",attribution:"Quyền hạn",attributionTitle:"Quyền",authenticationFailed:"Xác thực thất bại.",authenticationRequired:"Xác thực được yêu cầu cho truy nhập đầy đủ",backToResults:"Trở lại kết quả",book:"Sách",bottom:"Đáy",cancel:"Huỷ bỏ",canvasIndex:"Chỉ mục",changeTheme:"Đổi chủ đề",clearSearch:"xoá",close:"Đóng",closeAddResourceForm:"Đóng mẫu",closeAddResourceMenu:"Đóng danh sách tài nguyên",closeCompanionWindow:"Đóng panel",closeWindow:"Đóng cửa sổ",collapseSection:"Co sập {{section}} mục",collapseSidePanel:"Co sập thanh bên",collection:"Tuyển tập",itemList:"Danh sách khoản mục",continue:"Tiếp tục",copy:"Sao",currentItem:"Khoản mục hiện thời","currentItem_1/1":"Khoản mục hiện thời","currentItem_1/2":"Trái","currentItem_2/2":"Phải",dark:"Chủ đề tối",digitizedView:"Cái nhìn số hoá",dismiss:"Bác bỏ",highlightAllAnnotations:"Làm nổi bật tất",displayNoAnnotations:"Không làm nổi bật",downloadExport:"Vùng xuất khẩu",downloadExportWorkspace:"Vùng xuất khẩu",elastic:"Co giãn",elasticDescription:"Di chuyển và định cỡ cửa sổ tự do trong vùng vô giới hạn. Cửa sổ có thể chèn lấp.",emptyResourceList:"Danh sách tài nguyên của bạn là trống",error:"Lỗi",errorDialogConfirm:"OK",errorDialogTitle:"Lỗi đã xuất hiện",exitFullScreen:"Ra khỏi toàn màn hình",expandSection:"Mở rộng {{section}} mục",expandSidePanel:"Mở rộng thanh bên",exportCopied:"Cấu hình vùng làm việc được sao vào bảng đệm của bạn",fetchManifest:"Thêm",fullScreen:"Toàn màn hình",gallery:"Phòng tranh",hideZoomControls:"Ẩn điều khiển thu phóng",iiif_homepage:"Về tài nguyên này",iiif_manifest:"Bản kê IIIF",iiif_renderings:"Dạng thức luân phiên",iiif_seeAlso:"Cũng xem",import:"Nhập khẩu",importWorkspace:"Vùng nhập khẩu",importWorkspaceHint:"Dán cấu hình Mirador 3 để được nhập khẩu",item:"Khoản mục: {{label}}",jsError:"Chi tiết kĩ thuật",jsStack:"{{ stack }}",language:"Ngôn ngữ",layer_hide:"Giấu tầng",layer_move:"Chuyển tầng",layer_opacity:"Làm mờ tầng",layer_show:"Hiện tầng",layer_moveToTop:"Chuyển tầng lên đỉnh",layers:"Tầng",light:"Chủ đề sáng",links:"Móc nối",listAllOpenWindows:"Nhảy tới cửa sổ",login:"Đăng nhập",logout:"Đăng xuất",manifestError:"Tài nguyên không thể được bổ sung:",maximizeWindow:"Cực đại cửa sổ",minimizeWindow:"Cực tiểu cửa sổ",mirador:"Mirador",miradorResources:"Tài nguyên Mirador",miradorViewer:"Bộ xem Mirador",more:"thêm...",moreResults:"Thêm kết quả",mosaic:"Mosaic",mosaicDescription:"Di chuyển và định cỡ cửa sổ trong quan hệ lẫn nhau, bên trong khung thấy được.",moveCompanionWindowToBottom:"Chuyển tới đáy",moveCompanionWindowToRight:"Chuyển sang phải",nextCanvas:"Khoản mục tiếp",noItemSelected:"Không khoản mục nào được chọn",numItems:"{{number}} khoản mục",off:"Off",openCompanionWindow_annotations:"Chú giải",openCompanionWindow_attribution:"Quyền",openCompanionWindow_canvas:"Chỉ mục",openCompanionWindow_info:"Thông tin",openCompanionWindow_layers:"Tầng",openCompanionWindow_search:"Tìm",openInCompanionWindow:"Mở trong ngăn tách rời",openWindows:"Cửa sổ mở hiện thời",pagination:"{{current}} trong {{total}}",position:"Vị trí",previewWindowTitle:"{{title}}",previousCanvas:"Khoản mục trước",related:"Có liên quan",resource:"Tài nguyên",retry:"Thử lại",right:"Quyền",rights:"Cấp phép",scroll:"Cuộn",searchInputLabel:"Từ tìm kiếm",searchNextResult:"Kết quả tiếp",searchNoResults:"Không tìm được kết quả nào",searchPreviousResult:"Kết quả trước",searchSubmitAria:"Đệ trình việc tìm",searchTitle:"Tìm",selectWorkspaceMenu:"Chọn kiểu vùng làm việc",showingNumAnnotations:"Hiện {{number}} chú giải",showCollection:"Hiện bộ sưu tập",showZoomControls:"Hiện kiểm soát thu phóng",sidebarPanelsNavigation:"Dẫn lái ngăn thanh bên",single:"Chỉ một",startHere:"Bắt đầu ở đây",suggestSearch:'Tìm tài liệu này cho "{{ query }}"',tableOfContentsList:"Mục lục",theme:"Chủ đề",thumbnailList:"Danh sách ảnh thu nhỏ",thumbnailNavigation:"Ảnh thu nhỏ",thumbnails:"Ảnh thu nhỏ",toggleWindowSideBar:"chốt thanh bên",totalCollections:"{{count}} bộ sưu tập",totalManifests:"{{count}} bản kê",tryAgain:"Thử lại",untitled:"[Untitled]",view:"Xem",welcome:"Chào mừng bạn tới Mirador",window:"Cửa sổ: {{label}}",windowMenu:"Xem cửa sổ & hiển thị ảnh thu nhỏ",windowNavigation:"Dẫn lái cửa sổ",windowPluginButtons:"Tuỳ chọn",windowPluginMenu:"Tuỳ chọn cửa sổ",workspace:"Vùng làm việc",workspaceNavigation:"Dẫn lái vùng làm việc",workspaceFullScreen:"Toàn màn hình",workspaceMenu:"Thiết đặt vùng làm việc",workspaceOptions:"Tuỳ chọn vùng làm việc",workspaceSelectionTitle:"Chọn kiểu vùng làm việc",zoomIn:"Thu nhỏ",zoomOut:"Phóng to",zoomReset:"Đặt lại thu phóng"};var l$={translation:u$};const c$={aboutMirador:"Om Projekt Mirador",aboutThisItem:"Om dette objektet",addedFromUrl:"(Lagt til fra URL)",addManifestUrl:"Nettadresse til samling eller manifest",addManifestUrlHelp:"URL til en IIIF-ressurs",addResource:"Legg til ressurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Venstre: [{{label}}]","annotationCanvasLabel_2/2":"Høyre: [{{label}}]",annotations:"Annoteringer",attribution:"Tilskrivelse",attributionTitle:"Rettigheter",authenticationFailed:"Autentiseringen feilet.",authenticationRequired:"Autentisering kreves for full tilgang",backToResults:"Tilbake til resultat",book:"Bok",bottom:"Nederst",cancel:"Avbryt",canvasIndex:"Index",changeTheme:"Skift tema",clearSearch:"Fjern søket",close:"Lukk",closeAddResourceForm:"Lukk skjemaet",closeAddResourceMenu:"Lukk ressurslisten",closeCompanionWindow:"Lukk panelet",closeWindow:"Lukk vinduet",collapseSection:'Lukk seksjonen "{{section}}"',collapseSidePanel:"Lukk sidemenyen",collection:"Samling",itemList:"Objektliste",continue:"Fortsett",copy:"Kopiere",currentItem:"Valgt objekt","currentItem_1/1":"Valgt objekt","currentItem_1/2":"Venstre","currentItem_2/2":"Høyre",dark:"Mørkt tema",digitizedView:"Digitalisert visning",dismiss:"Lukk",highlightAllAnnotations:"Markér alle",displayNoAnnotations:"Avmarkér alle",downloadExport:"Eksportér arbeidsområde",downloadExportWorkspace:"Eksportér arbeidsområde",elastic:"Elastisk",elasticDescription:"Flytt og endre størrelsen på vinduet fritt i et ubegrenset arbeidsområde. Vindu kan overlappe.",emptyResourceList:"Din resursliste er tom",error:"Error",errorDialogConfirm:"OK",errorDialogTitle:"Et problem oppstod",exitFullScreen:"Forlat fullskjermsvisning",expandSection:'Ekspandér seksjonen "{{section}}"',expandSidePanel:"Ekspandér sidemenyen",exportCopied:"Konfiguration av arbeidsområdet ble kopiert til din utklippstavle",fetchManifest:"Legg til",fullScreen:"Fullskjermsvisning",gallery:"Galleri",hideZoomControls:"Skjul zoomkontroll",iiif_homepage:"Om denne ressursen",iiif_manifest:"IIIF manifest",iiif_renderings:"Alternativt format",iiif_seeAlso:"Se også",import:"Importér",importWorkspace:"Importér arbeidsområde",importWorkspaceHint:"Lim inn en Mirador 3 konfigurasjon for import",item:"Objekt: {{label}}",jsError:"Tekniske detaljer",jsStack:"{{ stack }}",language:"Språk",layer_hide:"Skjul lag",layer_move:"Flytt lag",layer_opacity:"Lag-gjennomsiktighet",layer_show:"Vis lag",layer_moveToTop:"Flytt laget øverst",layers:"Lag",light:"Lyst tema",links:"Lenker",listAllOpenWindows:"Gå til vindu",login:"Logg inn",logout:"Logg ut",manifestError:"Ressursen kan ikke legges til:",maximizeWindow:"Maksimér vinduet",minimizeWindow:"Minimér vinduet",mirador:"Mirador",miradorResources:"Miradorressurser",miradorViewer:"Mirador bildeviser",more:"mer...",moreResults:"Flere resultat",mosaic:"Mosaik",mosaicDescription:"Flytt og endre størrelse på vinduet i relasjon til hverandre, innenfor den synlige rammen.",moveCompanionWindowToBottom:"Flytt til bunnen",moveCompanionWindowToRight:"Flytt til høyre",nextCanvas:"Neste objekt",noItemSelected:"Ingen valgte objekt",numItems:"{{number}} objekt",numItems_plural:"{{number}} objekter",off:"Av",openCompanionWindow_annotations:"Annoteringer",openCompanionWindow_attribution:"Rettigheter",openCompanionWindow_canvas:"Indeks",openCompanionWindow_info:"Informasjon",openCompanionWindow_layers:"Lag",openCompanionWindow_search:"Søk",openInCompanionWindow:"Åpne i eget panel",openWindows:"Åpne vindu",pagination:"{{current}} av {{total}}",position:"Posisjon",previewWindowTitle:"{{title}}",previousCanvas:"Forrige objekt",related:"Relatert",resource:"Ressurs",retry:"Forsøk igjen",right:"Til høyre",rights:"Lisens",scroll:"Bla",searchInputLabel:"Søkeord",searchNextResult:"Neste resultat",searchNoResults:"Ingen treff",searchPreviousResult:"Forrige resultat",searchResultsRemaining:"{{numLeft}} igjen",searchSubmitAria:"Søk",searchTitle:"Søk",selectWorkspaceMenu:"Velg arbeidsområde-type",showingNumAnnotations:"Vis {{number}} annotasjon",showingNumAnnotations_plural:"Vis {{number}} annotasjoner",showCollection:"Vis samling",showZoomControls:"Vis zoomkontroll",sidebarPanelsNavigation:"Sidemeny-panel navigering",single:"En og en",startHere:"Start her",suggestSearch:'Søk etter "{{ query }}" i dette dokument',tableOfContentsList:"Innholdsfortegnelse",theme:"Tema",thumbnailList:"Miniatyrliste",thumbnailNavigation:"Miniatyrer",thumbnails:"Miniatyrer",toggleWindowSideBar:"Vis/skjul sidemenyen",totalCollections:"{{count}} samling",totalCollections_plural:"{{count}} samlinger",totalManifests:"{{count}} manifest",totalManifests_plural:"{{count}} manifester",tryAgain:"Forsøk igjen",untitled:"[uten tittel]",view:"Visning",viewWorkspaceConfiguration:"Vis konfigurasjon av arbeidsområde.",welcome:"Velkommen til Mirador",window:"Vindu: {{label}}",windowMenu:"Vindusvisning & miniatyrvisning",windowNavigation:"Vindusnavigasjon",windowPluginButtons:"Innstillinger",windowPluginMenu:"Vindusinnstillinger",workspace:"Arbeidsområde",workspaceNavigation:"Navigasjon i arbeidsområdet",workspaceFullScreen:"Fullskjermsvisning",workspaceMenu:"Innstillinger for arbeidsområdet",workspaceOptions:"Flere valg for arbeidsområdet",workspaceSelectionTitle:"Velg arbeidsområde-type",zoomIn:"Zoom inn",zoomOut:"Zoom ut",zoomReset:"Tilbakestill zoom"};var d$={translation:c$};function f$(){var t={ar:xM,de:LM,en:$M,fr:UM,it:t$,ja:VM,kr:qM,lt:s$,"nb-NO":d$,nl:ZM,pl:XM,"pt-BR":QM,sr:r$,sv:i$,vi:l$,"zh-CN":WM,"zh-TW":BM},e=kM.createInstance();return e.use(ww).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:t}),e}function p$(t){return m$(t)||h$(t)||v$(t)||g$()}function g$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(t,e){if(!!t){if(typeof t=="string")return ml(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ml(t,e)}}function h$(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m$(t){if(Array.isArray(t))return ml(t)}function ml(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y$(t,e,n){return e&&ih(t.prototype,e),n&&ih(t,n),t}function w$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bl(t,e)}function bl(t,e){return bl=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},bl(t,e)}function I$(t){var e=E$();return function(){var r=Oo(t),a;if(e){var i=Oo(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return S$(this,a)}}function S$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$(t)}function O$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Oo(t){return Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Oo(t)}var C$=function(e){var n=e.dndManager,r=e.children;return n===!1?r:n===void 0?p.createElement(fo,{backend:go,options:ZL},r):p.createElement(ma.Provider,{value:n},r)},oh=function(t){w$(n,t);var e=I$(n);function n(r){var a;return b$(this,n),a=e.call(this,r),a.i18n=f$(),a}return y$(n,[{key:"componentDidMount",value:function(){var a=this.props.language;this.i18n.changeLanguage(a)}},{key:"componentDidUpdate",value:function(a){var i=this.props.language;a.language!==i&&this.i18n.changeLanguage(i)}},{key:"render",value:function(){var a=this,i=this.props,o=i.children,s=i.createGenerateClassNameOptions,u=i.isFullscreenEnabled,l=i.setWorkspaceFullscreen,c=i.theme,d=i.translations,f=i.dndManager,g=vy(s);return Object.keys(d).forEach(function(v){a.i18n.addResourceBundle(v,"translation",d[v],!0,!0)}),p.createElement(l0,{enabled:u,onChange:l},p.createElement(eI,{i18n:this.i18n},p.createElement(v_,null,p.createElement(hy,{theme:my(c)},p.createElement(by,{jss:yy({plugins:[].concat(p$(wy().plugins),[pM()])}),generateClassName:g},p.createElement(C$,{dndManager:f},o))))))}}]),n}(p.Component);oh.defaultProps={children:null,createGenerateClassNameOptions:{},dndManager:void 0,isFullscreenEnabled:!1};var T$=function(e){return{createGenerateClassNameOptions:Ln(e).createGenerateClassNameOptions,isFullscreenEnabled:Iy(e),language:Ln(e).language,theme:Sy(e),translations:Ln(e).translations}},P$={setWorkspaceFullscreen:Iw},_$=Pe(Ae(T$,P$),je("AppProviders")),R$=_$(oh);function A$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k$(t,e,n){return e&&sh(t.prototype,e),n&&sh(t,n),t}function D$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}function yl(t,e){return yl=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},yl(t,e)}function x$(t){var e=M$();return function(){var r=Eo(t),a;if(e){var i=Eo(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return N$(this,a)}}function N$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L$(t)}function L$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Eo(t)}var $$=p.lazy(function(){return import("./WorkspaceArea-67fe1fcc.js").then(function(t){return t.W})}),uh=function(t){D$(n,t);var e=x$(n);function n(){return A$(this,n),e.apply(this,arguments)}return k$(n,[{key:"render",value:function(){var a=this.props,i=a.dndManager,o=a.plugins;return p.createElement(Bg,{plugins:o},p.createElement(R$,{dndManager:i},p.createElement(p.Suspense,{fallback:p.createElement("div",null)},p.createElement($$,null))))}}]),n}(p.Component);uh.defaultProps={dndManager:void 0,plugins:[]};function j$(t){return t===void 0}var qn=j$;function W$(t){return t===null}var lh=W$;function F$(t,e){return Yo(e,function(n){return t[n]})}var B$=F$;function z$(t){return t==null?[]:B$(t,Oy(t))}var ch=z$,dh=function(e){return[U$,H$,V$,G$,q$,K$,Z$].every(function(n){return n(e)})},U$=function(e){return Jn(e)},H$=function(e){var n=e.name;return qn(n)||Dc(n)},V$=function(e){var n=e.mode,r=e.target;return qn(n)?qn(r):Dc(r)},G$=function(e){var n=e.mode;return qn(n)||["add","wrap"].some(function(r){return r===n})},q$=function(e){var n=e.mapStateToProps;return qn(n)||lh(n)||Ba(n)},K$=function(e){var n=e.mapDispatchToProps;return qn(n)||lh(n)||Ba(n)||Jn(n)},Z$=function(e){var n=e.reducers;return qn(n)||Jn(n)&&ch(n).every(Ba)};function fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fh(Object(n),!0).forEach(function(r){Y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gh(t){return ej(t)||Q$(t)||J$(t)||X$()}function X$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$(t,e){if(!!t){if(typeof t=="string")return wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wl(t,e)}}function Q$(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ej(t){if(Array.isArray(t))return wl(t)}function wl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vh(t){var e=tj(t),n=e.validPlugins,r=e.invalidPlugins;return nj(r),n}function tj(t){var e=[],n=[];return t.forEach(function(r){if(Array.isArray(r)){var a=r.every(function(i){return dh(i)});a?n.push.apply(n,gh(r)):e.push.apply(e,gh(r))}else dh(r)?n.push(r):e.push(r)}),{invalidPlugins:e,validPlugins:n}}function nj(t){t.forEach(function(e){return console.log("Mirador: Plugin ".concat(e.name," is not valid and was rejected."))})}function rj(t){return t&&t.reduce(function(e,n){return ph(ph({},e),n.reducers)},{})}function aj(t){return t&&t.reduce(function(e,n){return za(e,n.config||{})},{})}function ij(t){return t&&t.filter(function(e){return e.saga}).map(function(e){return e.saga})}function hh(t){var e=function(r){var a=r.dispatch,i=r.getState;return function(o){return function(s){return typeof s=="function"?s(a,i,t):o(s)}}};return e}var mh=hh();mh.withExtraArgument=hh;var cn=function(e){return"@@redux-saga/"+e},bh=cn("CANCEL_PROMISE"),yh=cn("CHANNEL_END"),wh=cn("IO"),Ih=cn("MATCH"),Sh=cn("MULTICAST"),Oh=cn("SAGA_ACTION"),oj=cn("SELF_CANCELLATION"),sj=cn("TASK"),kr=cn("TASK_CANCEL"),Eh=cn("TERMINATE"),uj=cn("LOCATION"),Ch=function(e){return e==null},Th=function(e){return e!=null},kt=function(e){return typeof e=="function"},Il=function(e){return typeof e=="string"},Kn=Array.isArray,Co=function(e){return e&&kt(e.then)},Sl=function(e){return e&&kt(e.next)&&kt(e.throw)},Ph=function t(e){return e&&(Il(e)||Rh(e)||kt(e)||Kn(e)&&e.every(t))},Ol=function(e){return e&&kt(e.take)&&kt(e.close)},_h=function(e){return kt(e)&&e.hasOwnProperty("toString")},Rh=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},lj=function(e){return Ol(e)&&e[Sh]};function cj(t,e){e===void 0&&(e=!0);var n,r=new Promise(function(a){n=setTimeout(a,t,e)});return r[bh]=function(){clearTimeout(n)},r}var dj=function(e){return function(){return e}},fj=dj(!0),Tt=function(){},Ah=function(e){return e},El=function(e,n){H(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},pj=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function To(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function gj(t){var e=!1;return function(){e||(e=!0,t())}}var vj=function(e){throw e},hj=function(e){return{value:e,done:!0}};function Cl(t,e,n){e===void 0&&(e=vj),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:hj,isSagaIterator:!0};return typeof Symbol!="undefined"&&(r[Symbol.iterator]=function(){return r}),r}function mj(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var kh=function(e){return Array.apply(null,new Array(e))},bj=function(e){return function(n){return e(Object.defineProperty(n,Oh,{value:!0}))}},Dh=function(e){return e===Eh},xh=function(e){return e===kr},Nh=function(e){return Dh(e)||xh(e)};function Lh(t,e){var n=Object.keys(t),r=n.length,a=0,i,o=Kn(t)?kh(r):{},s={};function u(){a===r&&(i=!0,e(o))}return n.forEach(function(l){var c=function(f,g){i||(g||Nh(f)?(e.cancel(),e(f,g)):(o[l]=f,a++,u()))};c.cancel=Tt,s[l]=c}),e.cancel=function(){i||(i=!0,n.forEach(function(l){return s[l].cancel()}))},s}function Tl(t){return{name:t.name||"anonymous",location:Mh(t)}}function Mh(t){return t[uj]}var yj="Channel's Buffer overflow!",wj=1,Ij=3,$h=4;function Sj(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,a=0,i=0,o=function(c){n[a]=c,a=(a+1)%t,r++},s=function(){if(r!=0){var c=n[i];return n[i]=null,r--,i=(i+1)%t,c}},u=function(){for(var c=[];r;)c.push(s());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<t)o(c);else{var d;switch(e){case wj:throw new Error(yj);case Ij:n[a]=c,a=(a+1)%t,i=a;break;case $h:d=2*t,n=u(),r=n.length,a=n.length,i=0,n.length=d,t=d,o(c);break}}},take:s,flush:u}}var Oj=function(e){return Sj(e,$h)},Po="TAKE",jh="PUT",Wh="ALL",Ej="RACE",Fh="CALL",Cj="CPS",Pl="FORK",Tj="JOIN",Pj="CANCEL",Bh="SELECT",_j="ACTION_CHANNEL",Rj="CANCELLED",Aj="FLUSH",kj="GET_CONTEXT",Dj="SET_CONTEXT",An=function(e,n){var r;return r={},r[wh]=!0,r.combinator=!1,r.type=e,r.payload=n,r},xj=function(e){return An(Pl,H({},e.payload,{detached:!0}))};function Nj(t,e){if(t===void 0&&(t="*"),Ph(t))return An(Po,{pattern:t});if(lj(t)&&Th(e)&&Ph(e))return An(Po,{channel:t,pattern:e});if(Ol(t))return An(Po,{channel:t})}function be(t,e){return Ch(e)&&(e=t,t=void 0),An(jh,{channel:t,action:e})}function It(t){var e=An(Wh,t);return e.combinator=!0,e}function zh(t,e){var n=null,r;return kt(t)?r=t:(Kn(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&Il(r)&&kt(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function Me(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return An(Fh,zh(t,n))}function _l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return An(Pl,zh(t,n))}function Lj(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return xj(_l.apply(void 0,[t].concat(n)))}function ye(t){t===void 0&&(t=Ah);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return An(Bh,{selector:t,args:n})}var Mj=Me.bind(null,cj);function $j(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var Uh=[],_o=0;function jj(t){try{Rl(),t()}finally{Gh()}}function Hh(t){Uh.push(t),_o||(Rl(),qh())}function Vh(t){try{return Rl(),t()}finally{qh()}}function Rl(){_o++}function Gh(){_o--}function qh(){Gh();for(var t;!_o&&(t=Uh.shift())!==void 0;)jj(t)}var Wj=function(e){return function(n){return e.some(function(r){return Al(r)(n)})}},Fj=function(e){return function(n){return e(n)}},Kh=function(e){return function(n){return n.type===String(e)}},Bj=function(e){return function(n){return n.type===e}},Zh=function(){return fj};function Al(t){var e=t==="*"?Zh:Il(t)?Kh:Kn(t)?Wj:_h(t)?Kh:kt(t)?Fj:Rh(t)?Bj:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var Ea={type:yh},kl=function(e){return e&&e.type===yh};function zj(t){t===void 0&&(t=Oj());var e=!1,n=[];function r(s){if(!e){if(n.length===0)return t.put(s);var u=n.shift();u(s)}}function a(s){e&&t.isEmpty()?s(Ea):t.isEmpty()?(n.push(s),s.cancel=function(){To(n,s)}):s(t.take())}function i(s){if(e&&t.isEmpty()){s(Ea);return}s(t.flush())}function o(){if(!e){e=!0;var s=n;n=[];for(var u=0,l=s.length;u<l;u++){var c=s[u];c(Ea)}}}return{take:a,put:r,flush:i,close:o}}function Uj(){var t,e=!1,n=[],r=n,a=function(){r===n&&(r=n.slice())},i=function(){e=!0;var s=n=r;r=[],s.forEach(function(u){u(Ea)})};return t={},t[Sh]=!0,t.put=function(s){if(!e){if(kl(s)){i();return}for(var u=n=r,l=0,c=u.length;l<c;l++){var d=u[l];d[Ih](s)&&(d.cancel(),d(s))}}},t.take=function(s,u){if(u===void 0&&(u=Zh),e){s(Ea);return}s[Ih]=u,a(),r.push(s),s.cancel=gj(function(){a(),To(r,s)})},t.close=i,t}function Yh(){var t=Uj(),e=t.put;return t.put=function(n){if(n[Oh]){e(n);return}Hh(function(){e(n)})},t}var or=0,kn=1,Ro=2,Xh=3;function Dl(t,e){var n=t[bh];kt(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Ca=0,Jh=function(){return++Ca},yt;function Hj(t,e){return t.isSagaIterator?{name:t.meta.name}:Tl(e)}function Vj(t){var e=t.context,n=t.fn,r=t.args;try{var a=n.apply(e,r);if(Sl(a))return a;var i=!1,o=function(u){return i?{value:u,done:!0}:(i=!0,{value:a,done:!Co(a)})};return Cl(o)}catch(s){return Cl(function(){throw s})}}function Gj(t,e,n){var r=e.channel,a=e.action,i=e.resolve;Hh(function(){var o;try{o=(r?r.put:t.dispatch)(a)}catch(s){n(s,!0);return}i&&Co(o)?Dl(o,n):n(o)})}function qj(t,e,n){var r=e.channel,a=r===void 0?t.channel:r,i=e.pattern,o=e.maybe,s=function(l){if(l instanceof Error){n(l,!0);return}if(kl(l)&&!o){n(Eh);return}n(l)};try{a.take(s,Th(i)?Al(i):null)}catch(u){n(u,!0);return}n.cancel=s.cancel}function Kj(t,e,n,r){var a=e.context,i=e.fn,o=e.args,s=r.task;try{var u=i.apply(a,o);if(Co(u)){Dl(u,n);return}if(Sl(u)){Ao(t,u,s.context,Ca,Tl(i),!1,n);return}n(u)}catch(l){n(l,!0)}}function Zj(t,e,n){var r=e.context,a=e.fn,i=e.args;try{var o=function(u,l){Ch(u)?n(l):n(u,!0)};a.apply(r,i.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(s){n(s,!0)}}function Yj(t,e,n,r){var a=e.context,i=e.fn,o=e.args,s=e.detached,u=r.task,l=Vj({context:a,fn:i,args:o}),c=Hj(l,i);Vh(function(){var d=Ao(t,l,u.context,Ca,c,s,void 0);s?n(d):d.isRunning()?(u.queue.addTask(d),n(d)):d.isAborted()?u.queue.abort(d.error()):n(d)})}function Xj(t,e,n,r){var a=r.task,i=function(u,l){if(u.isRunning()){var c={task:a,cb:l};l.cancel=function(){u.isRunning()&&To(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if(Kn(e)){if(e.length===0){n([]);return}var o=Lh(e,n);e.forEach(function(s,u){i(s,o[u])})}else i(e,n)}function xl(t){t.isRunning()&&t.cancel()}function Jj(t,e,n,r){var a=r.task;e===oj?xl(a):Kn(e)?e.forEach(xl):xl(e),n()}function Qj(t,e,n,r){var a=r.digestEffect,i=Ca,o=Object.keys(e);if(o.length===0){n(Kn(e)?[]:{});return}var s=Lh(e,n);o.forEach(function(u){a(e[u],i,s[u],u)})}function eW(t,e,n,r){var a=r.digestEffect,i=Ca,o=Object.keys(e),s=Kn(e)?kh(o.length):{},u={},l=!1;o.forEach(function(c){var d=function(g,v){l||(v||Nh(g)?(n.cancel(),n(g,v)):(n.cancel(),l=!0,s[c]=g,n(s)))};d.cancel=Tt,u[c]=d}),n.cancel=function(){l||(l=!0,o.forEach(function(c){return u[c].cancel()}))},o.forEach(function(c){l||a(e[c],i,u[c],c)})}function tW(t,e,n){var r=e.selector,a=e.args;try{var i=r.apply(void 0,[t.getState()].concat(a));n(i)}catch(o){n(o,!0)}}function nW(t,e,n){var r=e.pattern,a=e.buffer,i=zj(a),o=Al(r),s=function l(c){kl(c)||t.channel.take(l,o),i.put(c)},u=i.close;i.close=function(){s.cancel(),u()},t.channel.take(s,o),n(i)}function rW(t,e,n,r){var a=r.task;n(a.isCancelled())}function aW(t,e,n){e.flush(n)}function iW(t,e,n,r){var a=r.task;n(a.context[e])}function oW(t,e,n,r){var a=r.task;El(a.context,e),n()}var sW=(yt={},yt[Po]=qj,yt[jh]=Gj,yt[Wh]=Qj,yt[Ej]=eW,yt[Fh]=Kj,yt[Cj]=Zj,yt[Pl]=Yj,yt[Tj]=Xj,yt[Pj]=Jj,yt[Bh]=tW,yt[_j]=nW,yt[Rj]=rW,yt[Aj]=aW,yt[kj]=iW,yt[Dj]=oW,yt);function uW(t,e,n){var r=[],a,i=!1;u(t);var o=function(){return r};function s(c){e(),l(),n(c,!0)}function u(c){r.push(c),c.cont=function(d,f){i||(To(r,c),c.cont=Tt,f?s(d):(c===t&&(a=d),r.length||(i=!0,n(a))))}}function l(){i||(i=!0,r.forEach(function(c){c.cont=Tt,c.cancel()}),r=[])}return{addTask:u,cancelAll:l,abort:s,getTasks:o}}function Qh(t,e){return t+"?"+e}function lW(t){var e=Mh(t);if(e){var n=e.code,r=e.fileName,a=e.lineNumber,i=n+"  "+Qh(r,a);return i}return""}function em(t){var e=t.name,n=t.location;return n?e+"  "+Qh(n.fileName,n.lineNumber):e}function cW(t){var e=pj(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var Nl=null,Ta=[],dW=function(e){e.crashedEffect=Nl,Ta.push(e)},tm=function(){Nl=null,Ta.length=0},fW=function(e){Nl=e},pW=function(){var e=Ta[0],n=Ta.slice(1),r=e.crashedEffect?lW(e.crashedEffect):null,a="The above error occurred in task "+em(e.meta)+(r?` 
 when executing effect `+r:"");return[a].concat(n.map(function(i){return"    created by "+em(i.meta)}),[cW(Ta)]).join(`
`)};function gW(t,e,n,r,a,i,o){var s;o===void 0&&(o=Tt);var u=or,l,c,d=null,f=[],g=Object.create(n),v=uW(e,function(){f.push.apply(f,v.getTasks().map(function(E){return E.meta.name}))},b);function m(){u===or&&(u=kn,v.cancelAll(),b(kr,!1))}function b(y,E){if(!E)y===kr?u=kn:u!==kn&&(u=Xh),l=y,d&&d.resolve(y);else{if(u=Ro,dW({meta:a,cancelledTasks:f}),I.isRoot){var S=pW();tm(),t.onError(y,{sagaStack:S})}c=y,d&&d.reject(y)}I.cont(y,E),I.joiners.forEach(function(C){C.cb(y,E)}),I.joiners=null}function w(y){El(g,y)}function h(){return d||(d=$j(),u===Ro?d.reject(c):u!==or&&d.resolve(l)),d.promise}var I=(s={},s[sj]=!0,s.id=r,s.meta=a,s.isRoot=i,s.context=g,s.joiners=[],s.queue=v,s.cancel=m,s.cont=o,s.end=b,s.setContext=w,s.toPromise=h,s.isRunning=function(){return u===or},s.isCancelled=function(){return u===kn||u===or&&e.status===kn},s.isAborted=function(){return u===Ro},s.result=function(){return l},s.error=function(){return c},s);return I}function Ao(t,e,n,r,a,i,o){var s=t.finalizeRunEffect(g);f.cancel=Tt;var u={meta:a,cancel:d,status:or},l=gW(t,u,n,r,a,i,o),c={task:l,digestEffect:v};function d(){u.status===or&&(u.status=kn,f(kr))}return o&&(o.cancel=l.cancel),f(),l;function f(m,b){try{var w;b?(w=e.throw(m),tm()):xh(m)?(u.status=kn,f.cancel(),w=kt(e.return)?e.return(kr):{done:!0,value:kr}):Dh(m)?w=kt(e.return)?e.return():{done:!0}:w=e.next(m),w.done?(u.status!==kn&&(u.status=Xh),u.cont(w.value)):v(w.value,r,f)}catch(h){if(u.status===kn)throw h;u.status=Ro,u.cont(h,!0)}}function g(m,b,w){if(Co(m))Dl(m,w);else if(Sl(m))Ao(t,m,l.context,b,a,!1,w);else if(m&&m[wh]){var h=sW[m.type];h(t,m.payload,w,c)}else w(m)}function v(m,b,w,h){h===void 0&&(h="");var I=Jh();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:I,parentEffectId:b,label:h,effect:m});var y;function E(S,C){y||(y=!0,w.cancel=Tt,t.sagaMonitor&&(C?t.sagaMonitor.effectRejected(I,S):t.sagaMonitor.effectResolved(I,S)),C&&fW(m),w(S,C))}E.cancel=Tt,w.cancel=function(){y||(y=!0,E.cancel(),E.cancel=Tt,t.sagaMonitor&&t.sagaMonitor.effectCancelled(I))},s(m,I,E)}}function vW(t,e){for(var n=t.channel,r=n===void 0?Yh():n,a=t.dispatch,i=t.getState,o=t.context,s=o===void 0?{}:o,u=t.sagaMonitor,l=t.effectMiddlewares,c=t.onError,d=c===void 0?mj:c,f=arguments.length,g=new Array(f>2?f-2:0),v=2;v<f;v++)g[v-2]=arguments[v];var m=e.apply(void 0,g),b=Jh();u&&(u.rootSagaStarted=u.rootSagaStarted||Tt,u.effectTriggered=u.effectTriggered||Tt,u.effectResolved=u.effectResolved||Tt,u.effectRejected=u.effectRejected||Tt,u.effectCancelled=u.effectCancelled||Tt,u.actionDispatched=u.actionDispatched||Tt,u.rootSagaStarted({effectId:b,saga:e,args:g}));var w;if(l){var h=Pe.apply(void 0,l);w=function(E){return function(S,C,k){var L=function(ae){return E(ae,C,k)};return h(L)(S)}}}else w=Ah;var I={channel:r,dispatch:bj(a),getState:i,sagaMonitor:u,onError:d,finalizeRunEffect:w};return Vh(function(){var y=Ao(I,m,s,b,Tl(e),!0,void 0);return u&&u.effectResolved(b,y),y})}function hW(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,a=e.channel,i=a===void 0?Yh():a,o=e.sagaMonitor,s=Ey(e,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,f=c.dispatch;return u=vW.bind(null,H({},s,{context:r,channel:i,dispatch:f,getState:d,sagaMonitor:o})),function(g){return function(v){o&&o.actionDispatched&&o.actionDispatched(v);var m=g(v);return i.put(v),m}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){El(r,c)},l}var mW=Qe(function(t,e){var n=Sw.compose;e.__esModule=!0,e.composeWithDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?n:n.apply(null,arguments)},e.devToolsEnhancer=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(r){return r}}});function bW(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nm=bW;function yW(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(a);++r<a;)i[r]=t[r+e];return i}var rm=yW;function wW(t,e){return e.length<2?t:rc(t,rm(e,0,-1))}var IW=wW;function SW(t,e){return e=zo(e,t),t=IW(t,e),t==null||delete t[Uo(nm(e))]}var OW=SW;function EW(t){return xc(t)?void 0:t}var CW=EW,TW=1,PW=2,_W=4,RW=zc(function(t,e){var n={};if(t==null)return n;var r=!1;e=Yo(e,function(i){return i=zo(i,t),r||(r=i.length>1),i}),Ow(t,Ew(t),n),r&&(n=is(n,TW|PW|_W,CW));for(var a=e.length;a--;)OW(n,e[a]);return n}),bn=RW;function am(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?am(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function im(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T.RESOLVE_AUTHENTICATION_REQUEST:return St(St({},t),{},Dr({},e.tokenServiceId,{authId:e.id,id:e.tokenServiceId,isFetching:!0}));case T.REQUEST_ACCESS_TOKEN:return St(St({},t),{},Dr({},e.serviceId,{authId:e.authId,id:e.serviceId,isFetching:!0}));case T.RECEIVE_ACCESS_TOKEN:return St(St({},t),{},Dr({},e.serviceId,St(St({},t[e.serviceId]),{},{isFetching:!1,json:e.json})));case T.RECEIVE_ACCESS_TOKEN_FAILURE:return St(St({},t),{},Dr({},e.serviceId,St(St({},t[e.serviceId]),{},{error:e.error,isFetching:!1})));case T.RESET_AUTHENTICATION_STATE:return bn(t,e.tokenServiceId);case T.RECEIVE_INFO_RESPONSE:return!e.tokenServiceId||t[e.tokenServiceId].success?t:St(St({},t),{},Dr({},e.tokenServiceId,St(St({},t[e.tokenServiceId]),{},{success:!0})));default:return t}}var ot=Qe(function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={"1":["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],"2":["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],"3":["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],"4":["fill","setWith","updateWith"]},e.aryRearg={"2":[1,0],"3":[2,0,1],"4":[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var n=Object.prototype.hasOwnProperty,r=e.aliasToReal,a={};for(var i in r){var o=r[i];n.call(a,o)?a[o].push(i):a[o]=[i]}return a}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}}),Ll={},om=Array.prototype.push;function AW(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function Ml(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function sm(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function kW(t){return function(e){return t({},e)}}function DW(t,e){return function(){for(var n=arguments.length,r=n-1,a=Array(n);n--;)a[n]=arguments[n];var i=a[e],o=a.slice(0,e);return i&&om.apply(o,i),e!=r&&om.apply(o,a.slice(e+1)),t.apply(this,o)}}function $l(t,e){return function(){var n=arguments.length;if(!!n){for(var r=Array(n);n--;)r[n]=arguments[n];var a=r[0]=e.apply(void 0,r);return t.apply(void 0,r),a}}}function jl(t,e,n,r){var a=typeof e=="function",i=e===Object(e);if(i&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var o={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},s=a?n:Ll,u="curry"in r&&r.curry,l="fixed"in r&&r.fixed,c="rearg"in r&&r.rearg,d=a?n.runInContext():void 0,f=a?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},g=f.ary,v=f.assign,m=f.clone,b=f.curry,w=f.forEach,h=f.isArray,I=f.isError,y=f.isFunction,E=f.isWeakMap,S=f.keys,C=f.rearg,k=f.toInteger,L=f.toPath,V=S(ot.aryMethod),ae={castArray:function(R){return function(){var A=arguments[0];return h(A)?R(sm(A)):R.apply(void 0,arguments)}},iteratee:function(R){return function(){var A=arguments[0],x=arguments[1],Z=R(A,x),Q=Z.length;return o.cap&&typeof x=="number"?(x=x>2?x-2:1,Q&&Q<=x?Z:Ml(Z,x)):Z}},mixin:function(R){return function(A){var x=this;if(!y(x))return R(x,Object(A));var Z=[];return w(S(A),function(Q){y(A[Q])&&Z.push([Q,x.prototype[Q]])}),R(x,Object(A)),w(Z,function(Q){var te=Q[1];y(te)?x.prototype[Q[0]]=te:delete x.prototype[Q[0]]}),x}},nthArg:function(R){return function(A){var x=A<0?1:k(A)+1;return b(R(A),x)}},rearg:function(R){return function(A,x){var Z=x?x.length:0;return b(R(A,x),Z)}},runInContext:function(R){return function(A){return jl(t,R(A),r)}}};function he(R,A){if(o.cap){var x=ot.iterateeRearg[R];if(x)return qe(A,x);var Z=!a&&ot.iterateeAry[R];if(Z)return ke(A,Z)}return A}function X(R,A,x){return u||o.curry&&x>1?b(A,x):A}function me(R,A,x){if(o.fixed&&(l||!ot.skipFixed[R])){var Z=ot.methodSpread[R],Q=Z&&Z.start;return Q===void 0?g(A,x):DW(A,Q)}return A}function le(R,A,x){return o.rearg&&x>1&&(c||!ot.skipRearg[R])?C(A,ot.methodRearg[R]||ot.aryRearg[x]):A}function Ge(R,A){A=L(A);for(var x=-1,Z=A.length,Q=Z-1,te=m(Object(R)),Ee=te;Ee!=null&&++x<Z;){var _e=A[x],Ke=Ee[_e];Ke!=null&&!(y(Ke)||I(Ke)||E(Ke))&&(Ee[_e]=m(x==Q?Ke:Object(Ke))),Ee=Ee[_e]}return te}function et(R){return J.runInContext.convert(R)(void 0)}function we(R,A){var x=ot.aliasToReal[R]||R,Z=ot.remap[x]||x,Q=r;return function(te){var Ee=a?d:f,_e=a?d[Z]:A,Ke=v(v({},Q),te);return jl(Ee,x,_e,Ke)}}function ke(R,A){return oe(R,function(x){return typeof x=="function"?Ml(x,A):x})}function qe(R,A){return oe(R,function(x){var Z=A.length;return AW(C(Ml(x,Z),A),Z)})}function oe(R,A){return function(){var x=arguments.length;if(!x)return R();for(var Z=Array(x);x--;)Z[x]=arguments[x];var Q=o.rearg?0:x-1;return Z[Q]=A(Z[Q]),R.apply(void 0,Z)}}function ue(R,A,x){var Z,Q=ot.aliasToReal[R]||R,te=A,Ee=ae[Q];return Ee?te=Ee(A):o.immutable&&(ot.mutate.array[Q]?te=$l(A,sm):ot.mutate.object[Q]?te=$l(A,kW(A)):ot.mutate.set[Q]&&(te=$l(A,Ge))),w(V,function(_e){return w(ot.aryMethod[_e],function(Ke){if(Q==Ke){var Ze=ot.methodSpread[Q],He=Ze&&Ze.afterRearg;return Z=He?me(Q,le(Q,te,_e),_e):le(Q,me(Q,te,_e),_e),Z=he(Q,Z),Z=X(Q,Z,_e),!1}}),!Z}),Z||(Z=te),Z==A&&(Z=u?b(Z,1):function(){return A.apply(this,arguments)}),Z.convert=we(Q,A),Z.placeholder=A.placeholder=x,Z}if(!i)return ue(e,n,s);var J=n,Oe=[];return w(V,function(R){w(ot.aryMethod[R],function(A){var x=J[ot.remap[A]||A];x&&Oe.push([A,ue(A,x,J)])})}),w(S(J),function(R){var A=J[R];if(typeof A=="function"){for(var x=Oe.length;x--;)if(Oe[x][0]==R)return;A.convert=we(R,A),Oe.push([R,A])}}),w(Oe,function(R){J[R[0]]=R[1]}),J.convert=et,J.placeholder=J,w(S(J),function(R){w(ot.realToAlias[R]||[],function(A){J[A]=J[R]})}),J}var xW=jl,NW=128;function LW(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Nc(t,NW,void 0,void 0,void 0,void 0,e)}var MW=LW,$W=4;function jW(t){return is(t,$W)}var um=jW,WW="[object DOMException]",FW="[object Error]";function BW(t){if(!gc(t))return!1;var e=Cy(t);return e==FW||e==WW||typeof t.message=="string"&&typeof t.name=="string"&&!xc(t)}var zW=BW,UW="[object WeakMap]";function HW(t){return gc(t)&&Ty(t)==UW}var VW=HW,GW=1;function qW(t){return Py(typeof t=="function"?t:is(t,GW))}var KW=qW,ZW=256,YW=zc(function(t,e){return Nc(t,ZW,void 0,void 0,void 0,e)}),XW=YW;function JW(t){return vc(t)?Yo(t,Uo):_y(t)?[t]:Ry(Ay(lc(t)))}var QW=JW,eF={ary:MW,assign:Cw,clone:um,curry:Tw,forEach:Pw,isArray:vc,isError:zW,isFunction:Ba,isWeakMap:VW,iteratee:KW,keys:ky,rearg:XW,toInteger:_w,toPath:QW};function tF(t,e,n){return xW(eF,t,e,n)}var lm=tF;function nF(t,e,n){return t==null?t:us(t,e,n)}var cm=nF,dm=lm("set",cm);dm.placeholder=Ll;var Wl=dm,fm=lm("update",Hc);fm.placeholder=Ll;var Pa=fm;function pm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pm(Object(n),!0).forEach(function(r){rF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gm(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T.ADD_COMPANION_WINDOW:return Wl([e.id],e.payload,t);case T.ADD_WINDOW:return Dn(Dn({},t),(e.companionWindows||[]).reduce(function(n,r){return n[r.id]=Dn(Dn(Dn({},t[r.id]),r),{},{windowId:e.id}),n},{}));case T.REMOVE_WINDOW:return Object.keys(t).reduce(function(n,r){return t[r].windowId!==e.windowId&&(n[r]=t[r]),n},{});case T.UPDATE_COMPANION_WINDOW:return Pa([e.id],function(n){return Dn(Dn({},n||{}),e.payload)},t);case T.REMOVE_COMPANION_WINDOW:return bn(t,e.id);case T.IMPORT_MIRADOR_STATE:return e.state.companionWindows||[];case T.TOGGLE_TOC_NODE:return Pa([e.id,"tocNodes"],function(n){return Dn(Dn({},n||{}),e.payload)},t);default:return t}}function Fl(t){return sF(t)||oF(t)||iF(t)||aF()}function aF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iF(t,e){if(!!t){if(typeof t=="string")return Bl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bl(t,e)}}function oF(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sF(t){if(Array.isArray(t))return Bl(t)}function Bl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vm(Object(n),!0).forEach(function(r){sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hm={items:[]},mm=function(){var e,n,r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hm,i=arguments.length>1?arguments[1]:void 0,o;switch(i.type){case T.ADD_ERROR:return xr(xr({},a),{},(e={},sr(e,i.id,{id:i.id,message:i.message}),sr(e,"items",[].concat(Fl(a.items),[i.id])),e));case T.RECEIVE_INFO_RESPONSE_FAILURE:return xr(xr({},a),{},(n={},sr(n,i.infoId,{id:i.infoId,message:i.error}),sr(n,"items",[].concat(Fl(a.items),[i.infoId])),n));case T.RECEIVE_SEARCH_FAILURE:return xr(xr({},a),{},(r={},sr(r,i.searchId,{id:i.searchId,message:i.error}),sr(r,"items",[].concat(Fl(a.items),[i.searchId])),r));case T.REMOVE_ERROR:return o=Object.keys(a).reduce(function(s,u){return u!==i.id&&(s[u]=a[u]),s},{}),o.items=Rw(o.items,i.id),o;case T.IMPORT_MIRADOR_STATE:return hm;default:return a}};function uF(t){return fF(t)||dF(t)||cF(t)||lF()}function lF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(t,e){if(!!t){if(typeof t=="string")return zl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zl(t,e)}}function dF(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fF(t){if(Array.isArray(t))return zl(t)}function zl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bm(Object(n),!0).forEach(function(r){pF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){return t.x!==void 0&&t.y!==void 0&&t.width!==void 0&&t.height!==void 0}function vF(t,e){return e.x-e.width/2>t.x-t.width/2&&e.y-e.height/2>t.y-t.height/2&&e.x+e.width/2<t.x+t.width/2&&e.y+e.height/2<t.y+t.height/2}var ym=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne(Ne({},Ua.workspace),{},{windowIds:[]}),n=arguments.length>1?arguments[1]:void 0,r,a,i;switch(n.type){case T.UPDATE_WORKSPACE:return Ne(Ne({},e),n.config);case T.FOCUS_WINDOW:return Ne(Ne({},e),{},{focusedWindowId:n.windowId,viewportPosition:Ne(Ne({},e.viewportPosition),n.position)});case T.ADD_WINDOW:return Ne(Ne({},e),{},{focusedWindowId:n.window.id,windowIds:[].concat(uF(e.windowIds||[]),[n.window.id])});case T.REMOVE_WINDOW:return i=(e.windowIds||[]).filter(function(o){return o!==n.windowId}),Ne(Ne({},e),{},{focusedWindowId:n.windowId===e.focusedWindowId?i[i.length-1]:e.focusedWindowId,windowIds:i});case T.SET_WORKSPACE_FULLSCREEN:return Ne(Ne({},e),{},{isFullscreenEnabled:n.isFullscreenEnabled});case T.TOGGLE_ZOOM_CONTROLS:return Ne(Ne({},e),{},{showZoomControls:n.showZoomControls});case T.UPDATE_WORKSPACE_MOSAIC_LAYOUT:return Ne(Ne({},e),{},{layout:n.layout});case T.SET_WORKSPACE_ADD_VISIBILITY:return Ne(Ne({},e),{},{isWorkspaceAddVisible:n.isWorkspaceAddVisible});case T.SET_WORKSPACE_VIEWPORT_POSITION:return r={},a=Ne(Ne({},e.viewportPosition),n.payload.position),gF(a)&&!vF({height:e.height,width:e.width,x:0,y:0},a)&&(r={height:e.height*2,width:e.width*2}),Ne(Ne(Ne({},e),r),{},{viewportPosition:a});case T.SET_CONFIG:case T.IMPORT_CONFIG:case T.UPDATE_CONFIG:return Ne(Ne({},e),n.config.workspace);case T.IMPORT_MIRADOR_STATE:return n.state.workspace||{};case T.TOGGLE_DRAGGING:return Ne(Ne({},e),{},{draggingEnabled:!e.draggingEnabled});default:return e}};function wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wm(Object(n),!0).forEach(function(r){pt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Im=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.ADD_WINDOW:return z(z({},e),{},pt({},n.window.id,n.window));case T.MAXIMIZE_WINDOW:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{maximized:!0})));case T.MINIMIZE_WINDOW:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{maximized:!1})));case T.UPDATE_WINDOW:return Pa([n.id],function(r){return z(z({},r||{}),n.payload)},e);case T.REMOVE_WINDOW:return bn(e,[n.windowId]);case T.TOGGLE_WINDOW_SIDE_BAR:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{sideBarOpen:!e[n.windowId].sideBarOpen})));case T.SET_WINDOW_VIEW_TYPE:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{view:n.viewType})));case T.UPDATE_WINDOW_POSITION:return z(z({},e),{},pt({},n.payload.windowId,z(z({},e[n.payload.windowId]),{},{x:n.payload.position.x,y:n.payload.position.y})));case T.SET_WINDOW_SIZE:return z(z({},e),{},pt({},n.payload.windowId,z(z({},e[n.payload.windowId]),{},{height:n.payload.size.height,width:n.payload.size.width,x:n.payload.size.x,y:n.payload.size.y})));case T.SET_CANVAS:return e[n.windowId]?Pa([n.windowId],function(r){return z(z({},r||{}),{},{canvasId:n.canvasId,visibleCanvases:n.visibleCanvases||[]})},e):e;case T.ADD_COMPANION_WINDOW:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{companionWindowIds:e[n.windowId].companionWindowIds.concat([n.id])},n.payload.position==="left"?{companionAreaOpen:!0,sideBarPanel:n.payload.content}:{})));case T.UPDATE_COMPANION_WINDOW:return n.payload.position!=="left"?e:z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{companionAreaOpen:!0})));case T.REMOVE_COMPANION_WINDOW:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{companionWindowIds:e[n.windowId].companionWindowIds.filter(function(r){return r!==n.id})})));case T.SELECT_ANNOTATION:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{selectedAnnotationId:n.annotationId})));case T.DESELECT_ANNOTATION:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{selectedAnnotationId:void 0})));case T.HOVER_ANNOTATION:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{hoveredAnnotationIds:n.annotationIds})));case T.TOGGLE_ANNOTATION_DISPLAY:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{highlightAllAnnotations:!e[n.windowId].highlightAllAnnotations})));case T.IMPORT_MIRADOR_STATE:return n.state.windows||[];case T.REQUEST_SEARCH:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{suggestedSearches:void 0})));case T.SHOW_COLLECTION_DIALOG:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{collectionDialogOn:!0,collectionManifestId:n.manifestId,collectionPath:n.collectionPath})));case T.HIDE_COLLECTION_DIALOG:return z(z({},e),{},pt({},n.windowId,z(z({},e[n.windowId]),{},{collectionDialogOn:!1})));default:return e}};function Sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sm(Object(n),!0).forEach(function(r){ko(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ko(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Om=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.REQUEST_MANIFEST:return tn(ko({},n.manifestId,tn(tn(tn({},e[n.manifestId]),n.properties),{},{id:n.manifestId})),bn(e,n.manifestId));case T.RECEIVE_MANIFEST:return tn(tn({},e),{},ko({},n.manifestId,tn(tn({},e[n.manifestId]),{},{error:null,id:n.manifestId,isFetching:!1,json:n.manifestJson})));case T.RECEIVE_MANIFEST_FAILURE:return tn(tn({},e),{},ko({},n.manifestId,tn(tn({},e[n.manifestId]),{},{error:n.error,id:n.manifestId,isFetching:!1})));case T.REMOVE_MANIFEST:return Object.keys(e).reduce(function(r,a){return a!==n.manifestId&&(r[a]=e[a]),r},{});case T.IMPORT_MIRADOR_STATE:return n.state.manifests||{};default:return e}};function Em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Em(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.REQUEST_INFO_RESPONSE:return Zn(Zn({},e),{},_a({},n.infoId,{id:n.infoId,isFetching:!0}));case T.RECEIVE_INFO_RESPONSE:return Zn(Zn({},e),{},_a({},n.infoId,{degraded:!1,id:n.infoId,isFetching:!1,json:n.infoJson,tokenServiceId:n.tokenServiceId}));case T.RECEIVE_DEGRADED_INFO_RESPONSE:return Zn(Zn({},e),{},_a({},n.infoId,{degraded:!0,id:n.infoId,isFetching:!1,json:n.infoJson,tokenServiceId:n.tokenServiceId}));case T.RECEIVE_INFO_RESPONSE_FAILURE:return Zn(Zn({},e),{},_a({},n.infoId,{error:n.error,id:n.infoId,isFetching:!1,tokenServiceId:n.tokenServiceId}));case T.REMOVE_INFO_RESPONSE:return Object.keys(e).reduce(function(r,a){return a!==n.infoId&&(r[a]=e[a]),r},{});case T.IMPORT_MIRADOR_STATE:return{};default:return e}};function Tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tm(Object(n),!0).forEach(function(r){mF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bF=hF({},Ua),yF=function(e,n,r){return n},Pm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bF,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.UPDATE_CONFIG:case T.IMPORT_CONFIG:return za(e,n.config,{arrayMerge:yF});case T.SET_CONFIG:return n.config;case T.IMPORT_MIRADOR_STATE:return n.state.config||{};default:return e}};function _m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Am=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.UPDATE_VIEWPORT:return Do(Do({},e),{},Rm({},n.windowId,Do(Do({},e[n.windowId]),n.payload)));case T.REMOVE_WINDOW:return bn(e,n.windowId);case T.SET_WINDOW_VIEW_TYPE:return Wl([n.windowId],null,e);case T.SET_CANVAS:return n.preserveViewport?e:Wl([n.windowId],null,e);case T.IMPORT_MIRADOR_STATE:return n.state.viewers||{};default:return e}};function km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?km(Object(n),!0).forEach(function(r){ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.REQUEST_ANNOTATION:return nn(nn({},e),{},ur({},n.targetId,nn(nn({},e[n.targetId]),{},ur({},n.annotationId,{id:n.annotationId,isFetching:!0}))));case T.RECEIVE_ANNOTATION:return nn(nn({},e),{},ur({},n.targetId,nn(nn({},e[n.targetId]),{},ur({},n.annotationId,{id:n.annotationId,isFetching:!1,json:n.annotationJson}))));case T.RECEIVE_ANNOTATION_FAILURE:return nn(nn({},e),{},ur({},n.targetId,nn(nn({},e[n.targetId]),{},ur({},n.annotationId,{error:n.error,id:n.annotationId,isFetching:!1}))));case T.IMPORT_MIRADOR_STATE:return{};default:return e}};function xm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xm(Object(n),!0).forEach(function(r){xo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.ADD_AUTHENTICATION_REQUEST:return yn(yn({},e),{},xo({},n.id,{id:n.id,isFetching:!0,profile:n.profile,windowId:n.windowId}));case T.RESOLVE_AUTHENTICATION_REQUEST:return yn(yn({},e),{},xo({},n.id,yn(yn({},e[n.id]),{},{isFetching:!1,ok:n.ok})));case T.RECEIVE_ACCESS_TOKEN:return n.authId?yn(yn({},e),{},xo({},n.authId,yn(yn({},e[n.authId]),{},{ok:!0}))):e;case T.RESET_AUTHENTICATION_STATE:return bn(e,n.id);default:return e}};function Lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lm(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $m=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.ADD_WINDOW:return Ra(Ra({},e),{},Mm({},n.window.id,Ra({windowId:n.window.id},n.elasticLayout)));case T.UPDATE_ELASTIC_WINDOW_LAYOUT:return Pa([n.windowId],function(r){return Ra(Ra({},r||{}),n.payload)},e);case T.REMOVE_WINDOW:return bn(e,n.windowId);case T.IMPORT_MIRADOR_STATE:return n.state.elasticLayout||{};default:return e}};function jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jm(Object(n),!0).forEach(function(r){gt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=(e[n.windowId]||{})[n.companionWindowId]||{};switch(n.type){case T.REQUEST_SEARCH:return r.query!==n.query?ie(ie({},e),{},gt({},n.windowId,ie(ie({},e[n.windowId]),{},gt({},n.companionWindowId,ie(ie({},r),{},{data:gt({},n.searchId,{isFetching:!0}),query:n.query,selectedContentSearchAnnotation:[]}))))):ie(ie({},e),{},gt({},n.windowId,ie(ie({},e[n.windowId]),{},gt({},n.companionWindowId,ie(ie({},r),{},{data:ie(ie({},r.data),{},gt({},n.searchId,{isFetching:!0}))})))));case T.RECEIVE_SEARCH:return ie(ie({},e),{},gt({},n.windowId,ie(ie({},e[n.windowId]),{},gt({},n.companionWindowId,ie(ie({},r),{},{data:ie(ie({},r.data),{},gt({},n.searchId,{isFetching:!1,json:n.searchJson}))})))));case T.RECEIVE_SEARCH_FAILURE:return ie(ie({},e),{},gt({},n.windowId,ie(ie({},e[n.windowId]),{},gt({},n.companionWindowId,ie(ie({},r),{},{data:ie(ie({},r.data),{},gt({},n.searchId,{error:n.error,isFetching:!1}))})))));case T.REMOVE_SEARCH:return ie(ie({},e),{},gt({},n.windowId,Object.keys(e[n.windowId]).reduce(function(a,i){return i!==n.companionWindowId&&(a[i]=e[n.windowId][i]),a},{})));case T.SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS:return ie(ie({},e),{},gt({},n.windowId,ie(ie({},e[n.windowId]),{},gt({},n.companionWindowId,ie(ie({},r),{},{selectedContentSearchAnnotationIds:n.annotationIds})))));case T.SELECT_ANNOTATION:return e[n.windowId]?ie(ie({},e),{},gt({},n.windowId,Object.keys(e[n.windowId]).reduce(function(a,i){var o=e[n.windowId][i],s=o.data&&Object.values(o.data).filter(function(u){return u.json&&u.json.resources}).some(function(u){return Xo([u.json.resources]).some(function(l){return l["@id"]===n.annotationId})});return s?a[i]=ie(ie({},o),{},{selectedContentSearchAnnotationIds:[n.annotationId]}):a[i]=o,a},{}))):e;case T.IMPORT_MIRADOR_STATE:return{};case T.REMOVE_WINDOW:return bn(e,n.windowId);case T.REMOVE_COMPANION_WINDOW:return e[n.windowId]?ie(ie({},e),{},gt({},n.windowId,ie({},bn(e[n.windowId],n.id)))):e;default:return e}};function Fm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fm(Object(n),!0).forEach(function(r){Ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ul(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.UPDATE_LAYERS:return No(No({},e),{},Ul({},n.windowId,No(No({},e[n.windowId]),{},Ul({},n.canvasId,za((e[n.windowId]||{})[n.canvasId]||{},n.payload)))));case T.REMOVE_WINDOW:return bn(e,[n.windowId]);default:return e}};function zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zm(Object(n),!0).forEach(function(r){IF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(t){return CF(t)||EF(t)||OF(t)||SF()}function SF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(!!t){if(typeof t=="string")return Vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(t,e)}}function EF(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CF(t){if(Array.isArray(t))return Vl(t)}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Um=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.ADD_RESOURCE:return e.some(function(r){return r.manifestId===n.manifestId})?e:[wF({manifestId:n.manifestId},n.payload)].concat(Hl(e));case T.ADD_WINDOW:return e.some(function(r){return r.manifestId===n.window.manifestId})?e:[{manifestId:n.window.manifestId}].concat(Hl(e));case T.UPDATE_WINDOW:return!n.payload.manifestId||e.some(function(r){return r.manifestId===n.payload.manifestId})?e:[{manifestId:n.payload.manifestId}].concat(Hl(e));case T.REMOVE_RESOURCE:return e.filter(function(r){return r.manifestId!==n.manifestId});case T.IMPORT_CONFIG:return n.config.catalog||[];case T.IMPORT_MIRADOR_STATE:return n.state.catalog||[];default:return e}},TF=Object.freeze({__proto__:null,accessTokensReducer:im,companionWindowsReducer:gm,errorsReducer:mm,workspaceReducer:ym,windowsReducer:Im,manifestsReducer:Om,infoResponsesReducer:Cm,configReducer:Pm,viewersReducer:Am,annotationsReducer:Dm,authReducer:Nm,elasticLayoutReducer:$m,searchesReducer:Wm,layersReducer:Bm,catalogReducer:Um});function Hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hm(Object(n),!0).forEach(function(r){_F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){return Lc(PF({accessTokens:im,annotations:Dm,auth:Nm,catalog:Um,companionWindows:gm,config:Pm,elasticLayout:$m,errors:mm,infoResponses:Cm,layers:Bm,manifests:Om,searches:Wm,viewers:Am,windows:Im,workspace:ym},t))}var Vm=function(e){return{done:!0,value:e}},Gl={};function AF(t){return Ol(t)?"channel":_h(t)?String(t):kt(t)?t.name:String(t)}function kF(t,e,n){var r,a,i,o=e;function s(u,l){if(o===Gl)return Vm(u);if(l&&!a)throw o=Gl,l;r&&r(u);var c=l?t[a](l):t[o]();return o=c.nextState,i=c.effect,r=c.stateUpdater,a=c.errorState,o===Gl?Vm(u):i}return Cl(s,function(u){return s(null,u)},n)}function DF(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i={done:!1,value:Nj(t)},o=function(c){return{done:!1,value:_l.apply(void 0,[e].concat(r,[c]))}},s,u=function(c){return s=c};return kF({q1:function(){return{nextState:"q2",effect:i,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:o(s)}}},"q1","takeEvery("+AF(t)+", "+e.name+")")}function Ue(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return _l.apply(void 0,[DF,t,e].concat(r))}function Gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gm(Object(n),!0).forEach(function(r){xF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var NF=F.mark(Aa),LF=F.mark(ql),MF=F.mark(Mo),$F=F.mark(Kl),jF=F.mark(Zl),WF=F.mark(qm),FF=F.mark(Km),BF=F.mark(Zm),zF=F.mark(ka),UF=F.mark(Ym);function HF(t,e,n){var r=n.success,a=n.degraded,i=n.failure;return Ny(t,e).then(function(o){return o.json().then(function(s){return o.status===401?(a||r)({json:s,response:o}):o.ok?r({json:s,response:o}):i({error:o.statusText,json:s,response:o})}).catch(function(s){return i({error:s,response:o})})}).catch(function(o){return i({error:o})})}function Aa(t,e,n){var r,a,i,o,s,u,l,c,d,f;return F.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=n.success,a=n.degraded,i=n.failure,v.next=3,ye(Dy);case 3:return o=v.sent,s=o.preprocessors,u=s===void 0?[]:s,l=o.postprocessors,c=l===void 0?[]:l,v.prev=8,d=u.reduce(function(m,b){return b(t,m)||m},e),v.next=12,Me(HF,t,d,{degraded:a,failure:i,success:r});case 12:return f=v.sent,f=c.reduce(function(m,b){return b(t,m)||m},f),v.abrupt("return",f);case 17:return v.prev=17,v.t0=v.catch(8),v.abrupt("return",i({error:v.t0}));case 20:case"end":return v.stop()}},NF,null,[[8,17]])}function ql(t,e,n,r){var a,i,o,s,u,l,c,d,f,g,v,m;return F.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(a=r.degraded,i=r.failure,o=r.success,s=Lo({},n),!e){w.next=8;break}return w.next=5,Me(Kl,e);case 5:l=w.sent,u=l&&l.id,l&&l.json&&(s.headers=Lo({Authorization:"Bearer ".concat(l.json.accessToken)},n.headers));case 8:return w.next=10,Me(Aa,t,s,{failure:function(I){return I},success:function(I){return I}});case 10:if(c=w.sent,d=c.error,f=c.json,g=c.response,!d){w.next=18;break}return w.next=17,be(i({error:d,json:f,response:g,tokenServiceId:u}));case 17:return w.abrupt("return");case 18:if(v=f["@id"]||f.id,!g.ok){w.next=26;break}if(Mc(v,{stripAuthentication:!1})!==Mc(t.replace(/info\.json$/,""),{stripAuthentication:!1})){w.next=24;break}return w.next=23,be(o({json:f,response:g,tokenServiceId:u}));case 23:return w.abrupt("return");case 24:w.next=30;break;case 26:if(g.status===401){w.next=30;break}return w.next=29,be(i({error:d,json:f,response:g,tokenServiceId:u}));case 29:return w.abrupt("return");case 30:return w.next=32,Me(Kl,f);case 32:if(m=w.sent,!(m&&m.id!==u)){w.next=37;break}return w.next=36,Me(ql,t,f,n,{degraded:a,failure:i,success:o});case 36:return w.abrupt("return");case 37:return w.next=39,be((a||o)({json:f,response:g,tokenServiceId:u}));case 39:case"end":return w.stop()}},LF)}function Mo(t){var e,n,r;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.manifestId,n={failure:function(s){var u=s.error,l=s.json,c=s.response;return Aw(e,typeof u=="object"?String(u):u)},success:function(s){var u=s.json,l=s.response;return os(e,u)}},i.next=4,Me(Aa,e,{},n);case 4:return r=i.sent,i.next=7,be(r);case 7:case"end":return i.stop()}},MF)}function Kl(t){var e,n,r,a,i,o,s;return F.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=t&&t.__jsonld?t:Lo(Lo({},t),{},{options:{}}),n=qt.getServices(e).filter(function(c){return c.getProfile().match(/http:\/\/iiif.io\/api\/auth\//)}),n.length!==0){l.next=4;break}return l.abrupt("return",void 0);case 4:return l.next=6,ye(ss);case 6:if(r=l.sent,r){l.next=9;break}return l.abrupt("return",void 0);case 9:a=0;case 10:if(!(a<n.length)){l.next=19;break}if(i=n[a],o=qt.getService(i,"http://iiif.io/api/auth/1/token")||qt.getService(i,"http://iiif.io/api/auth/0/token"),s=o&&r[o.id],!(s&&s.json)){l.next=16;break}return l.abrupt("return",s);case 16:a+=1,l.next=10;break;case 19:return l.abrupt("return",void 0);case 20:case"end":return l.stop()}},$F)}function Zl(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t.imageResource,n=t.infoId,r=t.windowId,a=e,a){s.next=6;break}return s.next=5,ye(xy,{infoId:n});case 5:a=s.sent;case 6:return i={degraded:function(l){var c=l.json,d=l.response,f=l.tokenServiceId;return kw(n,c,d.ok,f,r)},failure:function(l){var c=l.error,d=l.json,f=l.response,g=l.tokenServiceId;return Dw(n,c,g)},success:function(l){var c=l.json,d=l.response,f=l.tokenServiceId;return xw(n,c,d.ok,f)}},s.next=9,Me(ql,"".concat(n.replace(/\/$/,""),"/info.json"),a,{},i);case 9:case"end":return s.stop()}},jF)}function qm(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.windowId,n=t.companionWindowId,t.query,r=t.searchId,a={failure:function(l){var c=l.error,d=l.json,f=l.response;return Nw(e,n,r,c)},success:function(l){var c=l.json,d=l.response;return Lw(e,n,r,c)}},s.next=4,Me(Aa,r,{},a);case 4:return i=s.sent,s.next=7,be(i);case 7:case"end":return s.stop()}},WF)}function Km(t){var e,n,r,a;return F.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.targetId,n=t.annotationId,r={failure:function(u){var l=u.error,c=u.json,d=u.response;return Mw(e,n,l)},success:function(u){var l=u.json,c=u.response;return $c(e,n,l)}},o.next=4,Me(Aa,n,{},r);case 4:return a=o.sent,o.next=7,be(a);case 7:case"end":return o.stop()}},FF)}function Zm(t){var e,n,r;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=t.manifestId,n=t.manifestJson,!n){i.next=5;break}return i.next=4,be(os(e,n));case 4:return i.abrupt("return");case 5:if(e){i.next=7;break}return i.abrupt("return");case 7:return i.next=9,ye(hc)||{};case 9:if(r=i.sent,r[e]){i.next=12;break}return i.delegateYield(Mo({manifestId:e}),"t0",12);case 12:case"end":return i.stop()}},BF)}function ka(){var t,e,n,r=arguments;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ye(hc);case 2:t=i.sent,e=0;case 4:if(!(e<r.length)){i.next=12;break}if(n=e<0||r.length<=e?void 0:r[e],t[n]){i.next=9;break}return i.next=9,Me(Mo,{manifestId:n});case 9:e+=1,i.next=4;break;case 12:case"end":return i.stop()}},zF)}function Ym(){return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It([Ue(T.REQUEST_MANIFEST,Mo),Ue(T.REQUEST_INFO_RESPONSE,Zl),Ue(T.REQUEST_SEARCH,qm),Ue(T.REQUEST_ANNOTATION,Km),Ue(T.ADD_RESOURCE,Zm)]);case 2:case"end":return e.stop()}},UF)}var VF=F.mark($o),GF=F.mark(Jm),qF=F.mark(Qm),KF=F.mark(eb),ZF=F.mark(tb),YF=F.mark(nb),XF=F.mark(rb),JF=F.mark(ab),QF=F.mark(ib),eB=F.mark(ob),tB=F.mark(sb),nB=F.mark(ub),rB=F.mark(lb),aB=F.mark(cb);function Xm(t){return uB(t)||sB(t)||oB(t)||iB()}function iB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(t,e){if(!!t){if(typeof t=="string")return Yl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yl(t,e)}}function sB(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uB(t){if(Array.isArray(t))return Yl(t)}function Yl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $o(t){var e,n,r,a;return F.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.payload||t.window,n=e.collectionPath,r=e.id,a=e.manifestId,a){o.next=3;break}return o.abrupt("return");case 3:if(!t.manifest){o.next=8;break}return o.next=6,be(os(a,t.manifest));case 6:o.next=10;break;case 8:return o.next=10,Me.apply(void 0,[ka,a].concat(Xm(n||[])));case 10:return o.next=12,Me(tb,t);case 12:return o.next=14,Me(nb,t);case 14:if(n){o.next=17;break}return o.next=17,Me(Qm,{manifestId:a,windowId:t.id||t.window.id});case 17:return o.next=19,Me(lb,a,r);case 19:case"end":return o.stop()}},VF)}function Jm(t){var e,n,r;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=t.id,!(!t||!t.payload||!t.payload.sequenceId)){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,ye(Vo,{windowId:e});case 5:if(n=i.sent,!(!n||!n[0]||!n[0].id)){i.next=8;break}return i.abrupt("return");case 8:return i.next=10,Me(Qn,e,n[0].id);case 10:return r=i.sent,i.next=13,be(r);case 13:case"end":return i.stop()}},GF)}function Qm(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.manifestId,n=t.windowId,s.next=3,ye(gr,{manifestId:e});case 3:if(r=s.sent,!r){s.next=10;break}if(a=r.getProperty("partOf"),i=Array.isArray(a)?a[0]:a,!(i&&i.id)){s.next=10;break}return s.next=10,be(Fa(n,{collectionPath:[i.id]}));case 10:case"end":return s.stop()}},qF)}function eb(t){var e;return F.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.payload.collectionPath,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Me.apply(void 0,[ka].concat(Xm(e)));case 5:case"end":return r.stop()}},KF)}function tb(t){var e,n,r,a,i,o,s,u,l,c;return F.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e=t.payload||t.window,n=e.canvasId,r=e.canvasIndex,a=e.manifestId,i=t.id||t.window.id,!n){f.next=10;break}return f.next=5,Me(Qn,i,n,null,{preserveViewport:!!t.payload});case 5:return o=f.sent,f.next=8,be(o);case 8:f.next=22;break;case 10:return f.next=12,ye(gr,{manifestId:a});case 12:if(s=f.sent,!s){f.next=22;break}if(u=new Ly(s),l=u.startCanvas||u.canvasAt(r||0)||u.canvasAt(0),!l){f.next=22;break}return f.next=19,Me(Qn,i,l.id);case 19:return c=f.sent,f.next=22,be(c);case 22:case"end":return f.stop()}},ZF)}function nb(t){var e,n,r,a,i,o,s;return F.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!t.window||!t.window.defaultSearchQuery)){l.next=2;break}return l.abrupt("return");case 2:return e=t.window,n=e.id,r=e.defaultSearchQuery,l.next=5,ye(qo,{windowId:n});case 5:return a=l.sent,l.next=8,ye(My,{position:"left",windowId:n});case 8:if(i=l.sent,o=i[0],!(a&&o)){l.next=14;break}return s=a&&"".concat(a.id,"?q=").concat(r),l.next=14,be(Va(n,o,s,r));case 14:case"end":return l.stop()}},YF)}function lB(t,e){var n=e.canvasIds,r=e.companionWindowIds,a=e.windowId,i=r.reduce(function(o,s){var u=zw(t,{companionWindowId:s,windowId:a}),l=u.resources,c=l.find(function(d){return n.includes(d.targetId)});return c&&(o[s]=[c.id]),o},{});return i}function rb(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.annotationId,e=t.windowId,n=t.visibleCanvases,s.next=3,ye(jw,{windowId:e});case 3:if(r=s.sent,a=Object.keys(r||{}),a.length!==0){s.next=7;break}return s.abrupt("return");case 7:return s.next=9,ye(lB,{canvasIds:n,companionWindowIds:a,windowId:e});case 9:return i=s.sent,s.next=12,It(Object.keys(i).map(function(u){return be($w(e,u,i[u]))}));case 12:if(!(Object.values(i).length>0)){s.next=15;break}return s.next=15,be(qr(e,Object.values(i)[0][0]));case 15:case"end":return s.stop()}},XF)}function ab(t){var e,n,r,a,i,o,s,u,l,c,d,f;return F.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=t.pan,n=t.windowId,e){v.next=3;break}return v.abrupt("return");case 3:return v.next=5,ye(jy);case 5:return r=v.sent,a=r[n]||{},i=a.x,o=a.y,s=a.width,u=a.height,v.next=9,ye($y);case 9:return l=v.sent,c=l.viewportPosition,d=c.width,f=c.height,v.next=15,be(Ww({x:i+s/2-d/2,y:o+u/2-f/2}));case 15:case"end":return v.stop()}},JF)}function ib(t){var e,n,r,a;return F.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.windowId,o.next=3,ye(Mn,{windowId:e});case 3:return n=o.sent,r=n.canvasId,o.next=7,ye(Wy,{canvasId:r,windowId:e});case 7:return a=o.sent,o.next=10,be(Fa(e,{visibleCanvases:(a||[]).map(function(s){return s.id})}));case 10:case"end":return o.stop()}},QF)}function ob(t){var e,n,r,a,i,o;return F.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=t.companionWindowId,n=t.windowId,u.next=3,ye(sc,{windowId:n});case 3:if(r=u.sent,a=r.switchCanvasOnSearch,a){u.next=7;break}return u.abrupt("return");case 7:return u.next=9,ye(ts,{companionWindowId:e,windowId:n});case 9:if(i=u.sent,i.length===0){u.next=12;break}return u.abrupt("return");case 12:return u.next=14,ye(Rc,{companionWindowId:e,windowId:n});case 14:if(o=u.sent,!(!o||o.length===0)){u.next=17;break}return u.abrupt("return");case 17:return u.next=19,be(qr(n,o[0].id));case 19:case"end":return u.stop()}},eB)}function sb(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.annotationId,n=t.windowId,s.next=3,ye(pr,{windowId:n});case 3:return r=s.sent,s.next=6,ye(Fw,{annotationId:e,windowId:n});case 6:if(a=s.sent,!(!a||r.includes(a.id))){s.next=9;break}return s.abrupt("return");case 9:return s.next=11,Me(Qn,n,a.id);case 11:return i=s.sent,s.next=14,be(i);case 14:case"end":return s.stop()}},tB)}function ub(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.visibleCanvases,n=t.windowId,s.next=3,ye(Vo,{windowId:n});case 3:return r=s.sent,s.next=6,ye(mc);case 6:return a=s.sent,i=(r||[]).filter(function(u){return e.includes(u.id)}),s.next=10,It(i.map(function(u){var l=new Wa(u);return It(l.iiifImageResources.map(function(c){return!a[c.getServices()[0].id]&&be(Bw({imageResource:c,windowId:n}))}).filter(Boolean))}));case 10:case"end":return s.stop()}},nB)}function lb(t,e){var n;return F.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ye(gr,{manifestId:t});case 2:if(n=a.sent,!(n&&n.isCollection())){a.next=6;break}return a.next=6,be(oc(t,[],e));case 6:case"end":return a.stop()}},rB)}function cb(){return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It([Ue(T.ADD_WINDOW,$o),Ue(T.UPDATE_WINDOW,$o),Ue(T.UPDATE_WINDOW,Jm),Ue(T.SET_CANVAS,rb),Ue(T.SET_CANVAS,ub),Ue(T.UPDATE_COMPANION_WINDOW,eb),Ue(T.SET_WINDOW_VIEW_TYPE,ib),Ue(T.RECEIVE_SEARCH,ob),Ue(T.SELECT_ANNOTATION,sb),Ue(T.FOCUS_WINDOW,ab)]);case 2:case"end":return e.stop()}},aB)}function db(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?db(Object(n),!0).forEach(function(r){dB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fB=F.mark(pb),pB=F.mark(gb),gB=F.mark(vb),vB=F.mark(hb);function Xl(t,e){return bB(t)||mB(t,e)||fb(t,e)||hB()}function hB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mB(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,s;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function bB(t){if(Array.isArray(t))return t}function Jl(t){return IB(t)||wB(t)||fb(t)||yB()}function yB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fb(t,e){if(!!t){if(typeof t=="string")return Ql(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ql(t,e)}}function wB(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IB(t){if(Array.isArray(t))return Ql(t)}function Ql(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pb(t){return F.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,It([].concat(Jl(Object.entries(t.state.windows||{}).map(function(r){var a=Xl(r,2),i=a[0],o=a[1];return Me($o,{id:o.id,payload:o})})),Jl(Object.entries(t.state.manifests||{}).filter(function(r){var a=Xl(r,2),i=a[0],o=a[1];return!o.json}).map(function(r){var a=Xl(r,2),i=a[0],o=a[1];return Me(ka,o.id)}))));case 2:case"end":return n.stop()}},fB)}function gb(t){var e,n,r,a;return F.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.config,n=e.thumbnailNavigation,r=e.windows,!(!r||r.length===0)){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,It(r.map(function(s){var u="window-".concat(fc()),l=s.manifestId||s.loadedManifest;return Me(Fy,cB({id:u,manifestId:l,thumbnailNavigationPosition:n&&n.defaultPosition},s))}));case 5:return a=o.sent,o.next=8,It(a.map(function(s){return be(s)}));case 8:case"end":return o.stop()}},pB)}function vb(t){var e,n;return F.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.collectionPath,n=t.manifestId,a.next=3,Me.apply(void 0,[ka,n].concat(Jl(e)));case 3:case"end":return a.stop()}},gB)}function hb(){return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It([Ue(T.IMPORT_MIRADOR_STATE,pb),Ue(T.IMPORT_CONFIG,gb),Ue(T.SHOW_COLLECTION_DIALOG,vb)]);case 2:case"end":return e.stop()}},vB)}var SB=F.mark(bb),OB=F.mark(yb),EB=F.mark(wb);function mb(t){return _B(t)||PB(t)||TB(t)||CB()}function CB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(t,e){if(!!t){if(typeof t=="string")return ec(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(t,e)}}function PB(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _B(t){if(Array.isArray(t))return ec(t)}function ec(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.canvasId,n=t.windowId,s.next=3,ye(ac,{canvasId:e,windowId:n});case 3:return r=s.sent,s.next=6,ye(Hw);case 6:return a=s.sent,i=new Wa(r),s.next=10,It([].concat(mb(i.annotationListUris.filter(function(u){return!(a[r.id]&&a[r.id][u])}).map(function(u){return be(jc(r.id,u))})),mb(i.canvasAnnotationPages.filter(function(u){return!(a[r.id]&&a[r.id][u.id])}).map(function(u){return u.items?be($c(r.id,u.id,u)):be(jc(r.id,u.id))}))));case 10:return s.abrupt("return",s.sent);case 11:case"end":return s.stop()}},SB)}function yb(t){var e,n,r;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.visibleCanvases,n=e===void 0?[]:e,r=t.windowId,i.next=3,It(n.map(function(o){return be(Uw(r,o))}));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},OB)}function wb(){return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It([Ue(T.REQUEST_CANVAS_ANNOTATIONS,bb),Ue(T.SET_CANVAS,yb)]);case 2:case"end":return e.stop()}},EB)}var RB=F.mark(Ib),AB=F.mark(tc),kB=F.mark(Sb),DB=F.mark(Ob),xB=F.mark(Eb),NB=F.mark(Cb);function Ib(t){var e;return F.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.tokenServiceId,r.next=3,Mj(2e3);case 3:return r.next=5,Me(tc,{serviceId:e});case 5:case"end":return r.stop()}},RB)}function tc(t){var e,n,r,a,i,o,s;return F.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=t.serviceId,l.next=3,ye(zy);case 3:return n=l.sent,l.next=6,It(Object.keys(n).map(function(c){return ye(By,{windowId:c})}));case 6:return r=l.sent,a=Xo(Xo(r).map(function(c){var d=new Wa(c);return d.imageServiceIds})),l.next=10,ye(mc);case 10:return i=l.sent,o=function(d){var f=qt.getServices(d);return f.some(function(g){var v=qt.getService(g,"http://iiif.io/api/auth/1/token")||qt.getService(g,"http://iiif.io/api/auth/0/token");return v&&v.id===e})},s=Object.values(i).filter(function(c){return c.json&&o(c.json)}),l.next=15,It(s.map(function(c){var d=c.id;return a.includes(d)?Me(Zl,{infoId:d}):be({infoId:d,type:T.REMOVE_INFO_RESPONSE})}));case 15:case"end":return l.stop()}},AB)}function Sb(t){var e,n,r,a,i,o,s,u,l,c,d;return F.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return e=t.infoJson,n=t.windowId,g.next=3,ye(Bc);case 3:return r=g.sent,g.next=6,ye(Ln);case 6:if(a=g.sent,i=a.auth,i=i===void 0?{}:i,o=i.serviceProfiles,s=o===void 0?[]:o,u=s.filter(function(v){return v.external||v.kiosk}),l=qt.getServices(e).filter(function(v){return!r[v.id]}).find(function(v){return u.some(function(m){return m.profile===v.getProfile()})}),l){g.next=14;break}return g.abrupt("return");case 14:if(c=u.find(function(v){return v.profile===l.getProfile()}),!c.kiosk){g.next=20;break}return g.next=18,be(Vw(n,l.id,l.getProfile()));case 18:g.next=28;break;case 20:if(!c.external){g.next=28;break}if(d=qt.getService(l,"http://iiif.io/api/auth/1/token")||qt.getService(l,"http://iiif.io/api/auth/0/token"),d){g.next=24;break}return g.abrupt("return");case 24:return g.next=26,be(Fc(l.id,d.id));case 26:return g.next=28,be(Wc(d.id,l.id));case 28:case"end":return g.stop()}},kB)}function Ob(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t.infoJson,t.windowId,n=t.tokenServiceId,n){s.next=3;break}return s.abrupt("return");case 3:if(r=qt.getServices(e).find(function(u){var l=qt.getService(u,"http://iiif.io/api/auth/1/token")||qt.getService(u,"http://iiif.io/api/auth/0/token");return l&&l.id===n}),r){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,ye(ss);case 8:if(a=s.sent,i=a[n],i&&i.success){s.next=12;break}return s.abrupt("return");case 12:return s.next=14,be(Wc(n,r.id));case 14:case"end":return s.stop()}},DB)}function Eb(t){var e,n,r,a,i;return F.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.serviceId,s.next=3,ye(ss);case 3:return n=s.sent,s.next=6,ye(Bc);case 6:if(r=s.sent,a=n[e],a){s.next=10;break}return s.abrupt("return");case 10:if(i=r[a.authId],i){s.next=13;break}return s.abrupt("return");case 13:if(!a.success){s.next=18;break}return s.next=16,be(Gw({authServiceId:i.id,tokenServiceId:a.id}));case 16:s.next=20;break;case 18:return s.next=20,be(Fc(i.id,a.id,{ok:!1}));case 20:case"end":return s.stop()}},xB)}function Cb(){return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It([Ue(T.RECEIVE_DEGRADED_INFO_RESPONSE,Ob),Ue(T.RECEIVE_ACCESS_TOKEN_FAILURE,Eb),Ue(T.RECEIVE_DEGRADED_INFO_RESPONSE,Sb),Ue(T.RECEIVE_ACCESS_TOKEN,tc),Ue(T.RESET_AUTHENTICATION_STATE,Ib)]);case 2:case"end":return e.stop()}},NB)}function LB(t){return WB(t)||jB(t)||$B(t)||MB()}function MB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(t,e){if(!!t){if(typeof t=="string")return nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nc(t,e)}}function jB(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WB(t){if(Array.isArray(t))return nc(t)}function nc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FB=F.mark(Tb);function Tb(t){return F.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,Me(t);case 4:return n.abrupt("break",12);case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0);case 10:n.next=0;break;case 12:case"end":return n.stop()}},FB,null,[[1,7]])}function Pb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.mark(function e(){var n;return F.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=[wb,hb,Ym,cb,Cb].concat(LB(t)),a.next=3,It(n.map(function(i){return Lj(Tb,i)}));case 3:case"end":return a.stop()}},e)})}var BB=Object.freeze({__proto__:null,default:Pb});function zB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _b(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=RF(t),r=Ua.state.slice?Lc(zB({},Ua.state.slice,n)):n,a=hW(),i=as(r,mW.composeWithDevTools(kc(mh,a)));return a.run(Pb(e)),i}function UB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=vh(e),r=_b(rj(n),ij(n));return r.dispatch(qw(za(aj(n),t))),r}function HB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VB(t,e,n){return e&&Rb(t.prototype,e),n&&Rb(t,n),t}var GB=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};HB(this,t),this.plugins=vh(n.plugins||[]),this.config=e,this.store=n.store||UB(this.config,this.plugins),e.id&&jr.render(this.render(),document.getElementById(e.id))}return VB(t,[{key:"render",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p.createElement(Uc,{store:this.store},p.createElement(uh,Object.assign({plugins:this.plugins},n)))}},{key:"unmount",value:function(){this.config.id&&jr.unmountComponentAtNode(document.getElementById(this.config.id))}}]),t}();function qB(t,e){var n;return Array.isArray(e)?n={plugins:e}:n=e,new GB(t,n)}var KB={viewer:qB},ZB={actions:$n,createStore:_b,reducers:TF,sagas:BB,selectors:Kw};function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){YB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XB=kb(kb({},KB),ZB);export{kf as A,cm as B,al as C,ma as D,df as E,Vv as F,sl as G,hv as H,mf as I,Yr as J,XB as K,ea as L,go as M,ol as P,rd as R,Ir as S,vv as T,ul as U,us as _,cv as a,pv as b,uv as c,fo as d,gv as e,Tv as f,Ev as g,mv as h,ve as i,ba as j,Ov as k,qn as l,ta as m,Ef as n,If as o,Uu as p,qd as q,Qr as r,dv as s,_n as t,fv as u,wf as v,um as w,ch as x,rm as y,nm as z};
